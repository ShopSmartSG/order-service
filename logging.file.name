2024-11-18 17:03:35 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-18 17:03:35 INFO  s.e.n.i.o.OrderServiceApplication - Starting OrderServiceApplication using Java 21.0.3 with PID 13188 (/Users/rituthori/projects/order-service/target/classes started by rituthori in /Users/rituthori/projects/order-service)
2024-11-18 17:03:35 INFO  s.e.n.i.o.OrderServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-18 17:03:35 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-11-18 17:03:35 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-11-18 17:03:35 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-11-18 17:03:35 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-11-18 17:03:35 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 5 ms. Found 0 MongoDB repository interfaces.
2024-11-18 17:03:35 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-18 17:03:35 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-18 17:03:35 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-18 17:03:35 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2024-11-18 17:03:35 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-18 17:03:35 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 447 ms
2024-11-18 17:03:35 WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderController' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/controller/OrderController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'orderService': Injection of autowired dependencies failed
2024-11-18 17:03:35 INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2024-11-18 17:03:35 INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-11-18 17:03:35 ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderController' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/controller/OrderController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'orderService': Injection of autowired dependencies failed
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1212)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:971)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at sg.edu.nus.iss.order_service.OrderServiceApplication.main(OrderServiceApplication.java:13)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'orderService': Injection of autowired dependencies failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:515)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1439)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782)
	... 22 common frames omitted
Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'product.service.url' in value "${product.service.url}"
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180)
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126)
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239)
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:964)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1374)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	... 34 common frames omitted
2024-11-18 17:05:57 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-18 17:05:57 INFO  s.e.n.i.o.OrderServiceApplication - Starting OrderServiceApplication using Java 21.0.3 with PID 13227 (/Users/rituthori/projects/order-service/target/classes started by rituthori in /Users/rituthori/projects/order-service)
2024-11-18 17:05:57 INFO  s.e.n.i.o.OrderServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-18 17:05:57 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-11-18 17:05:57 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-11-18 17:05:57 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-11-18 17:05:57 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-11-18 17:05:57 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 5 ms. Found 0 MongoDB repository interfaces.
2024-11-18 17:05:58 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-18 17:05:58 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-18 17:05:58 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-18 17:05:58 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2024-11-18 17:05:58 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-18 17:05:58 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 428 ms
2024-11-18 17:05:58 INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2024-11-18 17:05:58 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-11-18 17:05:58 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-11-18 17:05:58 INFO  s.e.n.i.o.OrderServiceApplication - Started OrderServiceApplication in 0.88 seconds (process running for 1.051)
2024-11-18 17:06:19 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-18 17:06:19 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-18 17:06:19 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-18 17:06:19 INFO  o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 135 ms
2024-11-18 17:06:37 INFO  s.e.n.i.o.db.MongoSingleton - Starting closing of all mongoClients.
2024-11-18 17:06:37 INFO  s.e.n.i.o.db.MongoSingleton - All MongoClient connections closed.
2024-11-18 22:36:51 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-18 22:36:51 INFO  s.e.n.i.o.OrderServiceApplication - Starting OrderServiceApplication using Java 21.0.3 with PID 14754 (/Users/rituthori/projects/order-service/target/classes started by rituthori in /Users/rituthori/projects/order-service)
2024-11-18 22:36:51 INFO  s.e.n.i.o.OrderServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-18 22:36:51 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-11-18 22:36:51 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-11-18 22:36:51 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-11-18 22:36:51 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-11-18 22:36:51 INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data MongoDB - Could not safely identify store assignment for repository candidate interface sg.edu.nus.iss.order_service.repository.OrderRepository; If you want this repository to be a MongoDB repository, consider annotating your entities with one of these annotations: org.springframework.data.mongodb.core.mapping.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.mongodb.repository.MongoRepository
2024-11-18 22:36:51 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 MongoDB repository interfaces.
2024-11-18 22:36:51 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-18 22:36:51 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-18 22:36:51 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-18 22:36:51 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2024-11-18 22:36:51 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-18 22:36:51 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 484 ms
2024-11-18 22:36:51 WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderController' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/controller/OrderController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'orderService' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/service/OrderService.class]: Unsatisfied dependency expressed through constructor parameter 4: Error creating bean with name 'orderTypeStrategyContext' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/strategy/context/OrderTypeStrategyContext.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'active': Unsatisfied dependency expressed through field 'orderRepository': No qualifying bean of type 'sg.edu.nus.iss.order_service.repository.OrderRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2024-11-18 22:36:51 INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2024-11-18 22:36:51 INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-11-18 22:36:51 ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field orderRepository in sg.edu.nus.iss.order_service.strategy.order.impl.ActiveOrderStrategy required a bean of type 'sg.edu.nus.iss.order_service.repository.OrderRepository' that could not be found.


Action:

Consider defining a bean of type 'sg.edu.nus.iss.order_service.repository.OrderRepository' in your configuration.

2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.CartController - Retrieving cart for customer with ID 1
2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.CartController - Cart for customer with ID 1 found. Cart: {"customerId":"1","cartItems":[{"productId":"1","quantity":10}],"createdAt":0,"updatedAt":0}
2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.CartController - Adding item Item(productId=1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.CartController - Item added to cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.CartController - Retrieving cart for customer with ID 1
2024-11-18 22:41:25 ERROR s.e.n.i.o.controller.CartController - Cart for customer with ID 1 not found
2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.CartController - Adding item Item(productId=1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:41:25 ERROR s.e.n.i.o.controller.CartController - Failed to add item to cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.CartController - Deleting or emptying cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.CartController - Cart deleted/emptied for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.CartController - Removing item Item(productId=1, quantity=10, price=null) from cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.CartController - Item removed from cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.CartController - Deleting or emptying cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.CartController - Some error occurred while trying to delete or empty cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.CartController - Retrieving cart for customer with ID 1
2024-11-18 22:41:25 ERROR s.e.n.i.o.controller.CartController - Some exception happened to get cart for customer with ID 1
2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.CartController - Removing item Item(productId=1, quantity=10, price=null) from cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.CartController - Some error occurred while trying to remove item from cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.CartController - Adding item Item(productId=1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.CartController - Some error occurred while trying to add item added to cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.CartController - Deleting or emptying cart for customer with ID customer1
2024-11-18 22:41:25 ERROR s.e.n.i.o.controller.CartController - Failed to delete cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.CartController - Removing item Item(productId=1, quantity=10, price=null) from cart for customer with ID customer1
2024-11-18 22:41:25 ERROR s.e.n.i.o.controller.CartController - Failed to remove item from cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.OrderController - Creating order from cart for customer with ID 1
2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.OrderController - Order created from cart for customer with ID 1 with response {}
2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.OrderController - Updating order status by orderId order1
2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.OrderController - Optional request body null
2024-11-18 22:41:25 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to update order status READY for orderId order1
2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.OrderController - Retrieving order by orderId 1
2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.OrderController - Order with ID 1 found. Order: {"orderId":"orderId1","createdDate":0,"updatedDate":0,"useRewards":false,"useDelivery":false}
2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.OrderController - Retrieving all active orders for delivery and in READY state
2024-11-18 22:41:25 ERROR s.e.n.i.o.controller.OrderController - No active orders found marked for delivery and in READY state
2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.OrderController - Updating order status by orderId order1
2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.OrderController - Optional request body null
2024-11-18 22:41:25 ERROR s.e.n.i.o.controller.OrderController - Failed to update order status READY for orderId order1
2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.OrderController - V2 :: Creating order from cart for customer with ID 1, if delivery is needed or not true and if reward points are needed or not true
2024-11-18 22:41:25 ERROR s.e.n.i.o.controller.OrderController - V2 :: Failed to create order for customerId 1 using useRewardPoints true and deliveryNeeded true
2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.OrderController - Creating order from cart for customer with ID 1
2024-11-18 22:41:25 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to create order from cart for customer with ID 1
2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.OrderController - Retrieving ACTIVE orders for profileType customer with ID 1
2024-11-18 22:41:25 ERROR s.e.n.i.o.controller.OrderController - No ACTIVE orders found with profileType customer and ID 1
2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.OrderController - V2 :: Creating order from cart for customer with ID 1, if delivery is needed or not true and if reward points are needed or not true
2024-11-18 22:41:25 ERROR s.e.n.i.o.controller.OrderController - V2 :: Some exception happened trying to create order from cart for customer with ID 1
2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.OrderController - Creating order from cart for customer with ID 1
2024-11-18 22:41:25 ERROR s.e.n.i.o.controller.OrderController - Failed to create order for customerId 1
2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.OrderController - Retrieving order by orderId 1
2024-11-18 22:41:25 ERROR s.e.n.i.o.controller.OrderController - Order with ID 1 not found
2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.OrderController - Retrieving order by orderId 1
2024-11-18 22:41:25 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to find order with orderId 1
2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.OrderController - Retrieving all active orders for delivery and in READY state
2024-11-18 22:41:25 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to get all active orders marked for delivery and in READY state
2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.OrderController - Retrieving ACTIVE orders for profileType customer with ID 1
2024-11-18 22:41:25 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to get ACTIVE orders for profileType customer with ID 1
2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.OrderController - Retrieving all active orders for delivery and in READY state
2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.OrderController - Active orders found marked for delivery and in READY state. Orders count : 1
2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.OrderController - Updating order status by orderId order1
2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.OrderController - Optional request body null
2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.OrderController - Order status updated for orderId order1 for status READY
2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.OrderController - V2 :: Creating order from cart for customer with ID 1, if delivery is needed or not true and if reward points are needed or not true
2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.OrderController - V2 :: Order created from cart for customer with ID 1 with response {}
2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.OrderController - Retrieving ACTIVE orders for profileType customer with ID 1
2024-11-18 22:41:25 INFO  s.e.n.i.o.controller.OrderController - ACTIVE orders for profileType customer with ID 1 found. Orders count : 1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. Creating new cart.
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Create cart for customer with ID customer1, merchant id merchant1 and products : [Item(productId=item1, quantity=10, price=null)]
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Creating cart for customer with ID customer1, merchant id merchant1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Cart created successfully for customer with ID customer1 for add item
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Cart is empty after removing last item for customer with ID customer1. So deleting the cart.
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1 with query : Document{{customerId=customer1}}
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Cart deleted/emptied successfully for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Finding cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Adding item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Updating cart for customer with ID customer1, with update document : {"$set":{"cartItems":[{"productId":"item1","quantity":20}],"updatedAt":1731949885627}}
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Cart updated successfully for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. Creating new cart.
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Create cart for customer with ID customer1, merchant id merchant1 and products : [Item(productId=item1, quantity=10, price=null)]
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Creating cart for customer with ID customer1, merchant id merchant1
2024-11-18 22:41:25 ERROR s.e.n.i.o.service.CartService - Failed to create cart for customer with ID customer1 for add item
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Cart is empty after removing last item for customer with ID customer1. So deleting the cart.
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1 with query : Document{{customerId=customer1}}
2024-11-18 22:41:25 ERROR s.e.n.i.o.service.CartService - Failed to delete/empty cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Finding cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Cart not found for customerID customer1.
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. Creating new cart.
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Create cart for customer with ID customer1, merchant id merchant1 and products : [Item(productId=item1, quantity=10, price=null)]
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Creating cart for customer with ID customer1, merchant id merchant1
2024-11-18 22:41:25 ERROR s.e.n.i.o.service.CartService - Failed to create cart for customer with ID customer1 for add item
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=5, price=null) to cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=5, price=null) to cart.
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Updating cart for customer with ID customer1, with update document : {"$set":{"cartItems":[{"productId":"item1","quantity":5}],"updatedAt":1731949885644}} to remove it
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Cart updated successfully for removing item for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. So no action required.
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item3, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item3, quantity=10, price=null) to cart.
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Item Item(productId=item3, quantity=10, price=null) not found in cart for customer with ID customer1. So no action required.
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=5, price=null) to cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=5, price=null) to cart.
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Updating cart for customer with ID customer1, with update document : {"$set":{"cartItems":[{"productId":"item1","quantity":5}],"updatedAt":1731949885651}} to remove it
2024-11-18 22:41:25 ERROR s.e.n.i.o.service.CartService - Failed to update cart for removing item for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Cart is empty after removing last item for customer with ID customer1. So deleting the cart.
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1 with query : Document{{customerId=customer1}}
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.CartService - Cart deleted/emptied successfully for customer with ID customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Product details found for productIds: 815d1503-c19f-4562-8992-98b60edffdd9
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Updating customer reward points for orderId: 1daaf94c-c287-41fc-80bb-3ccdece62a8f and customerId : customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Customer customer1 reward points updated successfully for orderId: 1daaf94c-c287-41fc-80bb-3ccdece62a8f with order amount 0
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Order to be created : Order(orderId=1daaf94c-c287-41fc-80bb-3ccdece62a8f, customerId=customer1, merchantId=815d1503-c19f-4562-8992-98b60edffdd9, deliveryPartnerId=null, orderItems=[Item(productId=815d1503-c19f-4562-8992-98b60edffdd9, quantity=10, price=1E+1)], totalPrice=95.0, status=CREATED, createdDate=1731949885688, updatedDate=1731949885688, createdBy=customer, updatedBy=customer, useRewards=true, useDelivery=true, rewardsAmountUsed=5.0, customerRewardsPointsUsed=500.0)
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Order created successfully for customer: customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Starting generateProductUpdateReqObts, products: [Product(productId=815d1503-c19f-4562-8992-98b60edffdd9, productName=null, category=Category(categoryId=815d1503-c19f-4562-8992-98b60edffdd9, categoryName=cat1, categoryDescription=cat1 desc), imageUrl=null, productDescription=null, originalPrice=null, listingPrice=1E+1, availableStock=10, merchantId=815d1503-c19f-4562-8992-98b60edffdd9, pincode=null)], cartItems: [Item(productId=815d1503-c19f-4562-8992-98b60edffdd9, quantity=10, price=1E+1)]
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Updating stock for productId: 815d1503-c19f-4562-8992-98b60edffdd9
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Product stock updated successfully for productId: 815d1503-c19f-4562-8992-98b60edffdd9
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_PICKED_UP
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 603c6eb5-ebeb-484f-91db-571cca99e805 and deliveryPartnerId 603c6eb5-ebeb-484f-91db-571cca99e805 with status DELIVERY_PICKED_UP
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Delivery status updated successfully for orderId: 603c6eb5-ebeb-484f-91db-571cca99e805 with deliveryPartnerId null for status DELIVERY_PICKED_UP
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Delivery record successfully updated in delivery service for orderId: order1 and deliveryPartnerId: 603c6eb5-ebeb-484f-91db-571cca99e805, updating data in order colls.
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for order: order1 using query : {"orderId":"order1"}
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Successfully update delivery status for order: order1 and kept status : DELIVERY_PICKED_UP
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : COMPLETED
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : be9acd49-ed3d-4460-b266-c62965c81713 and deliveryPartnerId be9acd49-ed3d-4460-b266-c62965c81713 with status COMPLETED
2024-11-18 22:41:25 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: be9acd49-ed3d-4460-b266-c62965c81713 for status COMPLETED
2024-11-18 22:41:25 ERROR s.e.n.i.o.service.OrderService - Failed to complete delivery for orderId: order1 for deliveryPartnerId: be9acd49-ed3d-4460-b266-c62965c81713
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_ACCEPTED
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 5f633d74-dffa-454a-97f9-e27ecf34814b and deliveryPartnerId 5f633d74-dffa-454a-97f9-e27ecf34814b with status DELIVERY_ACCEPTED
2024-11-18 22:41:25 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: 5f633d74-dffa-454a-97f9-e27ecf34814b for status DELIVERY_ACCEPTED
2024-11-18 22:41:25 ERROR s.e.n.i.o.service.OrderService - Failed to start delivery for orderId: order1 for deliveryPartnerId: 5f633d74-dffa-454a-97f9-e27ecf34814b
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Fetching order by orderId: order1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Found orders for provided orderId: order1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Deleting order for orderId: order1
2024-11-18 22:41:25 ERROR s.e.n.i.o.service.OrderService - Failed to delete order for orderId: order1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Fetching all active orders available for delivery, having status READY and opted for delivery
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Query to fetch active orders for delivery : Document{{status=READY, useDelivery=true}} from orders coll
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - No active orders found for delivery having status READY and opted for delivery
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Fetching order by orderId: order1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - No orders found for orderId: order1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_ACCEPTED
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : e53a9759-4ee3-43b7-9957-2e6cd8d7044d and deliveryPartnerId e53a9759-4ee3-43b7-9957-2e6cd8d7044d with status DELIVERY_ACCEPTED
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Delivery status updated successfully for orderId: e53a9759-4ee3-43b7-9957-2e6cd8d7044d with deliveryPartnerId null for status DELIVERY_ACCEPTED
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Delivery record successfully created in delivery service for orderId: order1 and deliveryPartnerId: e53a9759-4ee3-43b7-9957-2e6cd8d7044d, updating data in order colls.
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Starting delivery for order: order1 using query : {"orderId":"order1"}
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Started delivery flow successfully for order: order1 and kept status : DELIVERY_ACCEPTED
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_PICKED_UP
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 7bdd7d5e-9c11-4c50-804d-fa8338b33923 and deliveryPartnerId 7bdd7d5e-9c11-4c50-804d-fa8338b33923 with status DELIVERY_PICKED_UP
2024-11-18 22:41:25 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: 7bdd7d5e-9c11-4c50-804d-fa8338b33923 for status DELIVERY_PICKED_UP
2024-11-18 22:41:25 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: order1 for deliveryPartnerId: 7bdd7d5e-9c11-4c50-804d-fa8338b33923 in delivery service
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : CANCELLED
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Updating customer reward points for orderId: order1 and customerId : 149c5265-4b01-4884-920f-d890fbcba5d5
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Customer 149c5265-4b01-4884-920f-d890fbcba5d5 reward points updated successfully for orderId: order1 with order amount 500.0
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Order has been cancelled successfully for orderId: order1 and kept in cancelled coll
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-18 22:41:25 ERROR s.e.n.i.o.service.OrderService - No items found in cart for customer: customer1, so no order to be created
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : READY
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 using query : {"orderId":"order1"}
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Order status updated successfully for orderId: order1 to status : READY
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Product details found for productIds: 12ad3ce5-d663-4e0b-93a4-fbec34c3b15c
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Order to be created : Order(orderId=c6c79fd8-822b-404d-9282-69fa4aca2737, customerId=customer1, merchantId=12ad3ce5-d663-4e0b-93a4-fbec34c3b15c, deliveryPartnerId=null, orderItems=[Item(productId=12ad3ce5-d663-4e0b-93a4-fbec34c3b15c, quantity=10, price=1E+1)], totalPrice=100, status=CREATED, createdDate=1731949885760, updatedDate=1731949885760, createdBy=customer, updatedBy=customer, useRewards=false, useDelivery=true, rewardsAmountUsed=0, customerRewardsPointsUsed=0)
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Order created successfully for customer: customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Starting generateProductUpdateReqObts, products: [Product(productId=12ad3ce5-d663-4e0b-93a4-fbec34c3b15c, productName=null, category=Category(categoryId=12ad3ce5-d663-4e0b-93a4-fbec34c3b15c, categoryName=cat1, categoryDescription=cat1 desc), imageUrl=null, productDescription=null, originalPrice=null, listingPrice=1E+1, availableStock=10, merchantId=12ad3ce5-d663-4e0b-93a4-fbec34c3b15c, pincode=null)], cartItems: [Item(productId=12ad3ce5-d663-4e0b-93a4-fbec34c3b15c, quantity=10, price=1E+1)]
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Updating stock for productId: 12ad3ce5-d663-4e0b-93a4-fbec34c3b15c
2024-11-18 22:41:25 ERROR s.e.n.i.o.service.OrderService - Failed to update product stock for productId: 12ad3ce5-d663-4e0b-93a4-fbec34c3b15c
2024-11-18 22:41:25 ERROR s.e.n.i.o.service.OrderService - Failed to update stock for 1 products out of 1, so deleting previously created order
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Deleting order for orderId: c6c79fd8-822b-404d-9282-69fa4aca2737
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Order deleted successfully for orderId: c6c79fd8-822b-404d-9282-69fa4aca2737
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-18 22:41:25 ERROR s.e.n.i.o.service.OrderService - Failed to get product details for productIds: 2ed4b603-b5c6-4bbf-9ce1-469b24665c7f
2024-11-18 22:41:25 ERROR s.e.n.i.o.service.OrderService - Failed to get product details or found non matching products for items in cart for customer: customer1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : COMPLETED
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 04d89b87-58fd-43d5-84c3-292dc2aa42f5 and deliveryPartnerId 04d89b87-58fd-43d5-84c3-292dc2aa42f5 with status COMPLETED
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Delivery status updated successfully for orderId: 04d89b87-58fd-43d5-84c3-292dc2aa42f5 with deliveryPartnerId null for status COMPLETED
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Delivery completed successfully in delivery service for orderId: order1 and deliveryPartnerId: 04d89b87-58fd-43d5-84c3-292dc2aa42f5, updating data in order colls.
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Updating merchant earnings for orderId : order1 and merchantId 04d89b87-58fd-43d5-84c3-292dc2aa42f5
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Merchant 04d89b87-58fd-43d5-84c3-292dc2aa42f5 earnings updated successfully for orderId: order1 with order amount 100.0
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Updating customer reward points for orderId: order1 and customerId : 04d89b87-58fd-43d5-84c3-292dc2aa42f5
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Customer 04d89b87-58fd-43d5-84c3-292dc2aa42f5 reward points updated successfully for orderId: order1 with order amount 100.0
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Order has been completed successfully for orderId: order1 and kept in completed coll
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : READY
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 using query : {"orderId":"order1"}
2024-11-18 22:41:25 ERROR s.e.n.i.o.service.OrderService - Failed to update order status for orderId: order1 to status : READY
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : READY
2024-11-18 22:41:25 ERROR s.e.n.i.o.service.OrderService - No order found for orderId: order1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Deleting order for orderId: order1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Order deleted successfully for orderId: order1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Fetching all active orders available for delivery, having status READY and opted for delivery
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Query to fetch active orders for delivery : Document{{status=READY, useDelivery=true}} from orders coll
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Found active orders for delivery having status READY and opted for delivery, count 1
2024-11-18 22:41:25 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : INVALID
2024-11-18 22:41:25 ERROR s.e.n.i.o.service.OrderService - Invalid status provided for orderId: order1
2024-11-18 22:41:25 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [sg.edu.nus.iss.order_service.HomeControllerTest]: HomeControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-11-18 22:41:25 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration sg.edu.nus.iss.order_service.OrderServiceApplication for test class sg.edu.nus.iss.order_service.HomeControllerTest
2024-11-18 22:41:25 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2024-11-18 22:41:26 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-18 22:41:26 INFO  s.e.n.i.o.HomeControllerTest - Starting HomeControllerTest using Java 21.0.3 with PID 14851 (started by rituthori in /Users/rituthori/projects/order-service)
2024-11-18 22:41:26 INFO  s.e.n.i.o.HomeControllerTest - No active profile set, falling back to 1 default profile: "default"
2024-11-18 22:41:26 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2024-11-18 22:41:26 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2024-11-18 22:41:26 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2024-11-18 22:41:26 INFO  s.e.n.i.o.HomeControllerTest - Started HomeControllerTest in 0.662 seconds (process running for 2.75)
2024-11-18 22:41:26 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management"}
2024-11-18 22:41:26 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management Home"}
2024-11-18 22:41:26 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management Home"}
2024-11-18 22:41:26 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management"}
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Product details found for productIds: 2fc182fb-b46e-4359-a6f9-6d46aab1894d
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Updating customer reward points for orderId: 5b9027bf-a950-40e1-947d-cadf62dbba5c and customerId : customer1
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Customer customer1 reward points updated successfully for orderId: 5b9027bf-a950-40e1-947d-cadf62dbba5c with order amount 0
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Order to be created : Order(orderId=5b9027bf-a950-40e1-947d-cadf62dbba5c, customerId=customer1, merchantId=2fc182fb-b46e-4359-a6f9-6d46aab1894d, deliveryPartnerId=null, orderItems=[Item(productId=2fc182fb-b46e-4359-a6f9-6d46aab1894d, quantity=10, price=1E+1)], totalPrice=95.0, status=CREATED, createdDate=1731949928009, updatedDate=1731949928009, createdBy=customer, updatedBy=customer, useRewards=true, useDelivery=true, rewardsAmountUsed=5.0, customerRewardsPointsUsed=500.0)
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Order created successfully for customer: customer1
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Starting generateProductUpdateReqObts, products: [Product(productId=2fc182fb-b46e-4359-a6f9-6d46aab1894d, productName=null, category=Category(categoryId=2fc182fb-b46e-4359-a6f9-6d46aab1894d, categoryName=cat1, categoryDescription=cat1 desc), imageUrl=null, productDescription=null, originalPrice=null, listingPrice=1E+1, availableStock=10, merchantId=2fc182fb-b46e-4359-a6f9-6d46aab1894d, pincode=null)], cartItems: [Item(productId=2fc182fb-b46e-4359-a6f9-6d46aab1894d, quantity=10, price=1E+1)]
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Updating stock for productId: 2fc182fb-b46e-4359-a6f9-6d46aab1894d
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Product stock updated successfully for productId: 2fc182fb-b46e-4359-a6f9-6d46aab1894d
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_PICKED_UP
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 93348a5c-8e2b-456c-8349-fb528999709f and deliveryPartnerId 93348a5c-8e2b-456c-8349-fb528999709f with status DELIVERY_PICKED_UP
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Delivery status updated successfully for orderId: 93348a5c-8e2b-456c-8349-fb528999709f with deliveryPartnerId null for status DELIVERY_PICKED_UP
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Delivery record successfully updated in delivery service for orderId: order1 and deliveryPartnerId: 93348a5c-8e2b-456c-8349-fb528999709f, updating data in order colls.
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for order: order1 using query : {"orderId":"order1"}
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Successfully update delivery status for order: order1 and kept status : DELIVERY_PICKED_UP
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : COMPLETED
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 3ec811a2-a192-48d5-b553-d13b73f5327b and deliveryPartnerId 3ec811a2-a192-48d5-b553-d13b73f5327b with status COMPLETED
2024-11-18 22:42:08 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: 3ec811a2-a192-48d5-b553-d13b73f5327b for status COMPLETED
2024-11-18 22:42:08 ERROR s.e.n.i.o.service.OrderService - Failed to complete delivery for orderId: order1 for deliveryPartnerId: 3ec811a2-a192-48d5-b553-d13b73f5327b
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_ACCEPTED
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : e94b88f3-b8ae-4ac4-bcac-7a4fd6cff95a and deliveryPartnerId e94b88f3-b8ae-4ac4-bcac-7a4fd6cff95a with status DELIVERY_ACCEPTED
2024-11-18 22:42:08 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: e94b88f3-b8ae-4ac4-bcac-7a4fd6cff95a for status DELIVERY_ACCEPTED
2024-11-18 22:42:08 ERROR s.e.n.i.o.service.OrderService - Failed to start delivery for orderId: order1 for deliveryPartnerId: e94b88f3-b8ae-4ac4-bcac-7a4fd6cff95a
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Fetching order by orderId: order1
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Found orders for provided orderId: order1
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Deleting order for orderId: order1
2024-11-18 22:42:08 ERROR s.e.n.i.o.service.OrderService - Failed to delete order for orderId: order1
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Fetching all active orders available for delivery, having status READY and opted for delivery
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Query to fetch active orders for delivery : Document{{status=READY, useDelivery=true}} from orders coll
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - No active orders found for delivery having status READY and opted for delivery
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Fetching order by orderId: order1
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - No orders found for orderId: order1
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_ACCEPTED
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 7cd3c4ec-9a20-4b12-9615-b84486669197 and deliveryPartnerId 7cd3c4ec-9a20-4b12-9615-b84486669197 with status DELIVERY_ACCEPTED
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Delivery status updated successfully for orderId: 7cd3c4ec-9a20-4b12-9615-b84486669197 with deliveryPartnerId null for status DELIVERY_ACCEPTED
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Delivery record successfully created in delivery service for orderId: order1 and deliveryPartnerId: 7cd3c4ec-9a20-4b12-9615-b84486669197, updating data in order colls.
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Starting delivery for order: order1 using query : {"orderId":"order1"}
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Started delivery flow successfully for order: order1 and kept status : DELIVERY_ACCEPTED
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_PICKED_UP
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 0601dec3-6d43-45b1-bf3d-8bb4923a039d and deliveryPartnerId 0601dec3-6d43-45b1-bf3d-8bb4923a039d with status DELIVERY_PICKED_UP
2024-11-18 22:42:08 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: 0601dec3-6d43-45b1-bf3d-8bb4923a039d for status DELIVERY_PICKED_UP
2024-11-18 22:42:08 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: order1 for deliveryPartnerId: 0601dec3-6d43-45b1-bf3d-8bb4923a039d in delivery service
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : CANCELLED
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Updating customer reward points for orderId: order1 and customerId : 25530fac-c792-4aa1-9f22-b9a9e6e196a0
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Customer 25530fac-c792-4aa1-9f22-b9a9e6e196a0 reward points updated successfully for orderId: order1 with order amount 500.0
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Order has been cancelled successfully for orderId: order1 and kept in cancelled coll
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-18 22:42:08 ERROR s.e.n.i.o.service.OrderService - No items found in cart for customer: customer1, so no order to be created
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : READY
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 using query : {"orderId":"order1"}
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Order status updated successfully for orderId: order1 to status : READY
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Product details found for productIds: 3baad8f5-4f23-44db-860b-3c0e7bd60e12
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Order to be created : Order(orderId=62598f37-fcab-4800-a6e4-f107e2db9339, customerId=customer1, merchantId=3baad8f5-4f23-44db-860b-3c0e7bd60e12, deliveryPartnerId=null, orderItems=[Item(productId=3baad8f5-4f23-44db-860b-3c0e7bd60e12, quantity=10, price=1E+1)], totalPrice=100, status=CREATED, createdDate=1731949928128, updatedDate=1731949928128, createdBy=customer, updatedBy=customer, useRewards=false, useDelivery=true, rewardsAmountUsed=0, customerRewardsPointsUsed=0)
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Order created successfully for customer: customer1
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Starting generateProductUpdateReqObts, products: [Product(productId=3baad8f5-4f23-44db-860b-3c0e7bd60e12, productName=null, category=Category(categoryId=3baad8f5-4f23-44db-860b-3c0e7bd60e12, categoryName=cat1, categoryDescription=cat1 desc), imageUrl=null, productDescription=null, originalPrice=null, listingPrice=1E+1, availableStock=10, merchantId=3baad8f5-4f23-44db-860b-3c0e7bd60e12, pincode=null)], cartItems: [Item(productId=3baad8f5-4f23-44db-860b-3c0e7bd60e12, quantity=10, price=1E+1)]
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Updating stock for productId: 3baad8f5-4f23-44db-860b-3c0e7bd60e12
2024-11-18 22:42:08 ERROR s.e.n.i.o.service.OrderService - Failed to update product stock for productId: 3baad8f5-4f23-44db-860b-3c0e7bd60e12
2024-11-18 22:42:08 ERROR s.e.n.i.o.service.OrderService - Failed to update stock for 1 products out of 1, so deleting previously created order
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Deleting order for orderId: 62598f37-fcab-4800-a6e4-f107e2db9339
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Order deleted successfully for orderId: 62598f37-fcab-4800-a6e4-f107e2db9339
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-18 22:42:08 ERROR s.e.n.i.o.service.OrderService - Failed to get product details for productIds: b52ab38f-0631-49e0-80ea-a846c294955b
2024-11-18 22:42:08 ERROR s.e.n.i.o.service.OrderService - Failed to get product details or found non matching products for items in cart for customer: customer1
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : COMPLETED
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 2dd1933b-ba63-4431-be23-ca75916c18ff and deliveryPartnerId 2dd1933b-ba63-4431-be23-ca75916c18ff with status COMPLETED
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Delivery status updated successfully for orderId: 2dd1933b-ba63-4431-be23-ca75916c18ff with deliveryPartnerId null for status COMPLETED
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Delivery completed successfully in delivery service for orderId: order1 and deliveryPartnerId: 2dd1933b-ba63-4431-be23-ca75916c18ff, updating data in order colls.
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Updating merchant earnings for orderId : order1 and merchantId 2dd1933b-ba63-4431-be23-ca75916c18ff
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Merchant 2dd1933b-ba63-4431-be23-ca75916c18ff earnings updated successfully for orderId: order1 with order amount 100.0
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Updating customer reward points for orderId: order1 and customerId : 2dd1933b-ba63-4431-be23-ca75916c18ff
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Customer 2dd1933b-ba63-4431-be23-ca75916c18ff reward points updated successfully for orderId: order1 with order amount 100.0
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Order has been completed successfully for orderId: order1 and kept in completed coll
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : READY
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 using query : {"orderId":"order1"}
2024-11-18 22:42:08 ERROR s.e.n.i.o.service.OrderService - Failed to update order status for orderId: order1 to status : READY
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : READY
2024-11-18 22:42:08 ERROR s.e.n.i.o.service.OrderService - No order found for orderId: order1
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Deleting order for orderId: order1
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Order deleted successfully for orderId: order1
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Fetching all active orders available for delivery, having status READY and opted for delivery
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Query to fetch active orders for delivery : Document{{status=READY, useDelivery=true}} from orders coll
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Found active orders for delivery having status READY and opted for delivery, count 1
2024-11-18 22:42:08 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : INVALID
2024-11-18 22:42:08 ERROR s.e.n.i.o.service.OrderService - Invalid status provided for orderId: order1
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.CartController - Retrieving cart for customer with ID 1
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.CartController - Cart for customer with ID 1 found. Cart: {"customerId":"1","cartItems":[{"productId":"1","quantity":10}],"createdAt":0,"updatedAt":0}
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.CartController - Adding item Item(productId=1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.CartController - Item added to cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.CartController - Retrieving cart for customer with ID 1
2024-11-18 22:42:55 ERROR s.e.n.i.o.controller.CartController - Cart for customer with ID 1 not found
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.CartController - Adding item Item(productId=1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:42:55 ERROR s.e.n.i.o.controller.CartController - Failed to add item to cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.CartController - Deleting or emptying cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.CartController - Cart deleted/emptied for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.CartController - Removing item Item(productId=1, quantity=10, price=null) from cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.CartController - Item removed from cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.CartController - Deleting or emptying cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.CartController - Some error occurred while trying to delete or empty cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.CartController - Retrieving cart for customer with ID 1
2024-11-18 22:42:55 ERROR s.e.n.i.o.controller.CartController - Some exception happened to get cart for customer with ID 1
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.CartController - Removing item Item(productId=1, quantity=10, price=null) from cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.CartController - Some error occurred while trying to remove item from cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.CartController - Adding item Item(productId=1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.CartController - Some error occurred while trying to add item added to cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.CartController - Deleting or emptying cart for customer with ID customer1
2024-11-18 22:42:55 ERROR s.e.n.i.o.controller.CartController - Failed to delete cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.CartController - Removing item Item(productId=1, quantity=10, price=null) from cart for customer with ID customer1
2024-11-18 22:42:55 ERROR s.e.n.i.o.controller.CartController - Failed to remove item from cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.OrderController - Creating order from cart for customer with ID 1
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.OrderController - Order created from cart for customer with ID 1 with response {}
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.OrderController - Updating order status by orderId order1
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.OrderController - Optional request body null
2024-11-18 22:42:55 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to update order status READY for orderId order1
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.OrderController - Retrieving order by orderId 1
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.OrderController - Order with ID 1 found. Order: {"orderId":"orderId1","createdDate":0,"updatedDate":0,"useRewards":false,"useDelivery":false}
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.OrderController - Retrieving all active orders for delivery and in READY state
2024-11-18 22:42:55 ERROR s.e.n.i.o.controller.OrderController - No active orders found marked for delivery and in READY state
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.OrderController - Updating order status by orderId order1
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.OrderController - Optional request body null
2024-11-18 22:42:55 ERROR s.e.n.i.o.controller.OrderController - Failed to update order status READY for orderId order1
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.OrderController - V2 :: Creating order from cart for customer with ID 1, if delivery is needed or not true and if reward points are needed or not true
2024-11-18 22:42:55 ERROR s.e.n.i.o.controller.OrderController - V2 :: Failed to create order for customerId 1 using useRewardPoints true and deliveryNeeded true
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.OrderController - Creating order from cart for customer with ID 1
2024-11-18 22:42:55 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to create order from cart for customer with ID 1
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.OrderController - Retrieving ACTIVE orders for profileType customer with ID 1
2024-11-18 22:42:55 ERROR s.e.n.i.o.controller.OrderController - No ACTIVE orders found with profileType customer and ID 1
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.OrderController - V2 :: Creating order from cart for customer with ID 1, if delivery is needed or not true and if reward points are needed or not true
2024-11-18 22:42:55 ERROR s.e.n.i.o.controller.OrderController - V2 :: Some exception happened trying to create order from cart for customer with ID 1
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.OrderController - Creating order from cart for customer with ID 1
2024-11-18 22:42:55 ERROR s.e.n.i.o.controller.OrderController - Failed to create order for customerId 1
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.OrderController - Retrieving order by orderId 1
2024-11-18 22:42:55 ERROR s.e.n.i.o.controller.OrderController - Order with ID 1 not found
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.OrderController - Retrieving order by orderId 1
2024-11-18 22:42:55 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to find order with orderId 1
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.OrderController - Retrieving all active orders for delivery and in READY state
2024-11-18 22:42:55 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to get all active orders marked for delivery and in READY state
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.OrderController - Retrieving ACTIVE orders for profileType customer with ID 1
2024-11-18 22:42:55 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to get ACTIVE orders for profileType customer with ID 1
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.OrderController - Retrieving all active orders for delivery and in READY state
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.OrderController - Active orders found marked for delivery and in READY state. Orders count : 1
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.OrderController - Updating order status by orderId order1
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.OrderController - Optional request body null
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.OrderController - Order status updated for orderId order1 for status READY
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.OrderController - V2 :: Creating order from cart for customer with ID 1, if delivery is needed or not true and if reward points are needed or not true
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.OrderController - V2 :: Order created from cart for customer with ID 1 with response {}
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.OrderController - Retrieving ACTIVE orders for profileType customer with ID 1
2024-11-18 22:42:55 INFO  s.e.n.i.o.controller.OrderController - ACTIVE orders for profileType customer with ID 1 found. Orders count : 1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. Creating new cart.
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Create cart for customer with ID customer1, merchant id merchant1 and products : [Item(productId=item1, quantity=10, price=null)]
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Creating cart for customer with ID customer1, merchant id merchant1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Cart created successfully for customer with ID customer1 for add item
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Cart is empty after removing last item for customer with ID customer1. So deleting the cart.
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1 with query : Document{{customerId=customer1}}
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Cart deleted/emptied successfully for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Finding cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Adding item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Updating cart for customer with ID customer1, with update document : {"$set":{"cartItems":[{"productId":"item1","quantity":20}],"updatedAt":1731949975297}}
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Cart updated successfully for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. Creating new cart.
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Create cart for customer with ID customer1, merchant id merchant1 and products : [Item(productId=item1, quantity=10, price=null)]
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Creating cart for customer with ID customer1, merchant id merchant1
2024-11-18 22:42:55 ERROR s.e.n.i.o.service.CartService - Failed to create cart for customer with ID customer1 for add item
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Cart is empty after removing last item for customer with ID customer1. So deleting the cart.
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1 with query : Document{{customerId=customer1}}
2024-11-18 22:42:55 ERROR s.e.n.i.o.service.CartService - Failed to delete/empty cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Finding cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Cart not found for customerID customer1.
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. Creating new cart.
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Create cart for customer with ID customer1, merchant id merchant1 and products : [Item(productId=item1, quantity=10, price=null)]
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Creating cart for customer with ID customer1, merchant id merchant1
2024-11-18 22:42:55 ERROR s.e.n.i.o.service.CartService - Failed to create cart for customer with ID customer1 for add item
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=5, price=null) to cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=5, price=null) to cart.
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Updating cart for customer with ID customer1, with update document : {"$set":{"cartItems":[{"productId":"item1","quantity":5}],"updatedAt":1731949975320}} to remove it
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Cart updated successfully for removing item for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. So no action required.
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item3, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item3, quantity=10, price=null) to cart.
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Item Item(productId=item3, quantity=10, price=null) not found in cart for customer with ID customer1. So no action required.
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=5, price=null) to cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=5, price=null) to cart.
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Updating cart for customer with ID customer1, with update document : {"$set":{"cartItems":[{"productId":"item1","quantity":5}],"updatedAt":1731949975328}} to remove it
2024-11-18 22:42:55 ERROR s.e.n.i.o.service.CartService - Failed to update cart for removing item for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Cart is empty after removing last item for customer with ID customer1. So deleting the cart.
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1 with query : Document{{customerId=customer1}}
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.CartService - Cart deleted/emptied successfully for customer with ID customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Product details found for productIds: d3874e32-d84f-4345-8d2c-e021f846217c
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Updating customer reward points for orderId: 8095db0e-ae32-4051-8626-c9ebf890dd6e and customerId : customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Customer customer1 reward points updated successfully for orderId: 8095db0e-ae32-4051-8626-c9ebf890dd6e with order amount 0
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Order to be created : Order(orderId=8095db0e-ae32-4051-8626-c9ebf890dd6e, customerId=customer1, merchantId=d3874e32-d84f-4345-8d2c-e021f846217c, deliveryPartnerId=null, orderItems=[Item(productId=d3874e32-d84f-4345-8d2c-e021f846217c, quantity=10, price=1E+1)], totalPrice=95.0, status=CREATED, createdDate=1731949975361, updatedDate=1731949975361, createdBy=customer, updatedBy=customer, useRewards=true, useDelivery=true, rewardsAmountUsed=5.0, customerRewardsPointsUsed=500.0)
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Order created successfully for customer: customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Starting generateProductUpdateReqObts, products: [Product(productId=d3874e32-d84f-4345-8d2c-e021f846217c, productName=null, category=Category(categoryId=d3874e32-d84f-4345-8d2c-e021f846217c, categoryName=cat1, categoryDescription=cat1 desc), imageUrl=null, productDescription=null, originalPrice=null, listingPrice=1E+1, availableStock=10, merchantId=d3874e32-d84f-4345-8d2c-e021f846217c, pincode=null)], cartItems: [Item(productId=d3874e32-d84f-4345-8d2c-e021f846217c, quantity=10, price=1E+1)]
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Updating stock for productId: d3874e32-d84f-4345-8d2c-e021f846217c
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Product stock updated successfully for productId: d3874e32-d84f-4345-8d2c-e021f846217c
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_PICKED_UP
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 47a04a5d-159c-4a4e-9824-457bc76019e8 and deliveryPartnerId 47a04a5d-159c-4a4e-9824-457bc76019e8 with status DELIVERY_PICKED_UP
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Delivery status updated successfully for orderId: 47a04a5d-159c-4a4e-9824-457bc76019e8 with deliveryPartnerId null for status DELIVERY_PICKED_UP
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Delivery record successfully updated in delivery service for orderId: order1 and deliveryPartnerId: 47a04a5d-159c-4a4e-9824-457bc76019e8, updating data in order colls.
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for order: order1 using query : {"orderId":"order1"}
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Successfully update delivery status for order: order1 and kept status : DELIVERY_PICKED_UP
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : COMPLETED
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 60e40cfa-707a-4106-b7b2-8dd75ef57108 and deliveryPartnerId 60e40cfa-707a-4106-b7b2-8dd75ef57108 with status COMPLETED
2024-11-18 22:42:55 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: 60e40cfa-707a-4106-b7b2-8dd75ef57108 for status COMPLETED
2024-11-18 22:42:55 ERROR s.e.n.i.o.service.OrderService - Failed to complete delivery for orderId: order1 for deliveryPartnerId: 60e40cfa-707a-4106-b7b2-8dd75ef57108
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_ACCEPTED
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : ac7e122e-2ebb-4ed8-a8f0-f66589974af1 and deliveryPartnerId ac7e122e-2ebb-4ed8-a8f0-f66589974af1 with status DELIVERY_ACCEPTED
2024-11-18 22:42:55 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: ac7e122e-2ebb-4ed8-a8f0-f66589974af1 for status DELIVERY_ACCEPTED
2024-11-18 22:42:55 ERROR s.e.n.i.o.service.OrderService - Failed to start delivery for orderId: order1 for deliveryPartnerId: ac7e122e-2ebb-4ed8-a8f0-f66589974af1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Fetching order by orderId: order1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Found orders for provided orderId: order1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Deleting order for orderId: order1
2024-11-18 22:42:55 ERROR s.e.n.i.o.service.OrderService - Failed to delete order for orderId: order1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Fetching all active orders available for delivery, having status READY and opted for delivery
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Query to fetch active orders for delivery : Document{{status=READY, useDelivery=true}} from orders coll
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - No active orders found for delivery having status READY and opted for delivery
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Fetching order by orderId: order1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - No orders found for orderId: order1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_ACCEPTED
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 346b123f-bf90-4f33-b739-30a0c9a855aa and deliveryPartnerId 346b123f-bf90-4f33-b739-30a0c9a855aa with status DELIVERY_ACCEPTED
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Delivery status updated successfully for orderId: 346b123f-bf90-4f33-b739-30a0c9a855aa with deliveryPartnerId null for status DELIVERY_ACCEPTED
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Delivery record successfully created in delivery service for orderId: order1 and deliveryPartnerId: 346b123f-bf90-4f33-b739-30a0c9a855aa, updating data in order colls.
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Starting delivery for order: order1 using query : {"orderId":"order1"}
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Started delivery flow successfully for order: order1 and kept status : DELIVERY_ACCEPTED
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_PICKED_UP
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : fec89492-f4e6-4523-91df-292bccecd3cc and deliveryPartnerId fec89492-f4e6-4523-91df-292bccecd3cc with status DELIVERY_PICKED_UP
2024-11-18 22:42:55 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: fec89492-f4e6-4523-91df-292bccecd3cc for status DELIVERY_PICKED_UP
2024-11-18 22:42:55 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: order1 for deliveryPartnerId: fec89492-f4e6-4523-91df-292bccecd3cc in delivery service
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : CANCELLED
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Updating customer reward points for orderId: order1 and customerId : 0a8e6597-5537-43db-9235-03fd3e7f36ea
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Customer 0a8e6597-5537-43db-9235-03fd3e7f36ea reward points updated successfully for orderId: order1 with order amount 500.0
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Order has been cancelled successfully for orderId: order1 and kept in cancelled coll
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-18 22:42:55 ERROR s.e.n.i.o.service.OrderService - No items found in cart for customer: customer1, so no order to be created
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : READY
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 using query : {"orderId":"order1"}
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Order status updated successfully for orderId: order1 to status : READY
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Product details found for productIds: c4e43d95-64e8-496d-a394-ac44ee4facc1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Order to be created : Order(orderId=21fa67cb-8cd1-44d1-beff-6b4b7f469e2e, customerId=customer1, merchantId=c4e43d95-64e8-496d-a394-ac44ee4facc1, deliveryPartnerId=null, orderItems=[Item(productId=c4e43d95-64e8-496d-a394-ac44ee4facc1, quantity=10, price=1E+1)], totalPrice=100, status=CREATED, createdDate=1731949975418, updatedDate=1731949975418, createdBy=customer, updatedBy=customer, useRewards=false, useDelivery=true, rewardsAmountUsed=0, customerRewardsPointsUsed=0)
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Order created successfully for customer: customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Starting generateProductUpdateReqObts, products: [Product(productId=c4e43d95-64e8-496d-a394-ac44ee4facc1, productName=null, category=Category(categoryId=c4e43d95-64e8-496d-a394-ac44ee4facc1, categoryName=cat1, categoryDescription=cat1 desc), imageUrl=null, productDescription=null, originalPrice=null, listingPrice=1E+1, availableStock=10, merchantId=c4e43d95-64e8-496d-a394-ac44ee4facc1, pincode=null)], cartItems: [Item(productId=c4e43d95-64e8-496d-a394-ac44ee4facc1, quantity=10, price=1E+1)]
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Updating stock for productId: c4e43d95-64e8-496d-a394-ac44ee4facc1
2024-11-18 22:42:55 ERROR s.e.n.i.o.service.OrderService - Failed to update product stock for productId: c4e43d95-64e8-496d-a394-ac44ee4facc1
2024-11-18 22:42:55 ERROR s.e.n.i.o.service.OrderService - Failed to update stock for 1 products out of 1, so deleting previously created order
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Deleting order for orderId: 21fa67cb-8cd1-44d1-beff-6b4b7f469e2e
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Order deleted successfully for orderId: 21fa67cb-8cd1-44d1-beff-6b4b7f469e2e
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-18 22:42:55 ERROR s.e.n.i.o.service.OrderService - Failed to get product details for productIds: 6c118a5a-a3b9-4f39-9597-7d0a7e41d160
2024-11-18 22:42:55 ERROR s.e.n.i.o.service.OrderService - Failed to get product details or found non matching products for items in cart for customer: customer1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : COMPLETED
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 64850ffa-0dc7-4d6b-b3ac-03d377113b0d and deliveryPartnerId 64850ffa-0dc7-4d6b-b3ac-03d377113b0d with status COMPLETED
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Delivery status updated successfully for orderId: 64850ffa-0dc7-4d6b-b3ac-03d377113b0d with deliveryPartnerId null for status COMPLETED
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Delivery completed successfully in delivery service for orderId: order1 and deliveryPartnerId: 64850ffa-0dc7-4d6b-b3ac-03d377113b0d, updating data in order colls.
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Updating merchant earnings for orderId : order1 and merchantId 64850ffa-0dc7-4d6b-b3ac-03d377113b0d
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Merchant 64850ffa-0dc7-4d6b-b3ac-03d377113b0d earnings updated successfully for orderId: order1 with order amount 100.0
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Updating customer reward points for orderId: order1 and customerId : 64850ffa-0dc7-4d6b-b3ac-03d377113b0d
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Customer 64850ffa-0dc7-4d6b-b3ac-03d377113b0d reward points updated successfully for orderId: order1 with order amount 100.0
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Order has been completed successfully for orderId: order1 and kept in completed coll
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : READY
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 using query : {"orderId":"order1"}
2024-11-18 22:42:55 ERROR s.e.n.i.o.service.OrderService - Failed to update order status for orderId: order1 to status : READY
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : READY
2024-11-18 22:42:55 ERROR s.e.n.i.o.service.OrderService - No order found for orderId: order1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Deleting order for orderId: order1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Order deleted successfully for orderId: order1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Fetching all active orders available for delivery, having status READY and opted for delivery
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Query to fetch active orders for delivery : Document{{status=READY, useDelivery=true}} from orders coll
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Found active orders for delivery having status READY and opted for delivery, count 1
2024-11-18 22:42:55 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : INVALID
2024-11-18 22:42:55 ERROR s.e.n.i.o.service.OrderService - Invalid status provided for orderId: order1
2024-11-18 22:42:55 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [sg.edu.nus.iss.order_service.HomeControllerTest]: HomeControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-11-18 22:42:55 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration sg.edu.nus.iss.order_service.OrderServiceApplication for test class sg.edu.nus.iss.order_service.HomeControllerTest
2024-11-18 22:42:55 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2024-11-18 22:42:55 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-18 22:42:55 INFO  s.e.n.i.o.HomeControllerTest - Starting HomeControllerTest using Java 21.0.3 with PID 14909 (started by rituthori in /Users/rituthori/projects/order-service)
2024-11-18 22:42:55 INFO  s.e.n.i.o.HomeControllerTest - No active profile set, falling back to 1 default profile: "default"
2024-11-18 22:42:56 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2024-11-18 22:42:56 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2024-11-18 22:42:56 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2024-11-18 22:42:56 INFO  s.e.n.i.o.HomeControllerTest - Started HomeControllerTest in 0.779 seconds (process running for 2.804)
2024-11-18 22:42:56 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management"}
2024-11-18 22:42:56 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management Home"}
2024-11-18 22:42:56 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management Home"}
2024-11-18 22:42:56 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management"}
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.CartController - Retrieving cart for customer with ID 1
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.CartController - Cart for customer with ID 1 found. Cart: {"customerId":"1","cartItems":[{"productId":"1","quantity":10}],"createdAt":0,"updatedAt":0}
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.CartController - Adding item Item(productId=1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.CartController - Item added to cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.CartController - Retrieving cart for customer with ID 1
2024-11-18 22:43:30 ERROR s.e.n.i.o.controller.CartController - Cart for customer with ID 1 not found
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.CartController - Adding item Item(productId=1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:43:30 ERROR s.e.n.i.o.controller.CartController - Failed to add item to cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.CartController - Deleting or emptying cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.CartController - Cart deleted/emptied for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.CartController - Removing item Item(productId=1, quantity=10, price=null) from cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.CartController - Item removed from cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.CartController - Deleting or emptying cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.CartController - Some error occurred while trying to delete or empty cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.CartController - Retrieving cart for customer with ID 1
2024-11-18 22:43:30 ERROR s.e.n.i.o.controller.CartController - Some exception happened to get cart for customer with ID 1
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.CartController - Removing item Item(productId=1, quantity=10, price=null) from cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.CartController - Some error occurred while trying to remove item from cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.CartController - Adding item Item(productId=1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.CartController - Some error occurred while trying to add item added to cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.CartController - Deleting or emptying cart for customer with ID customer1
2024-11-18 22:43:30 ERROR s.e.n.i.o.controller.CartController - Failed to delete cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.CartController - Removing item Item(productId=1, quantity=10, price=null) from cart for customer with ID customer1
2024-11-18 22:43:30 ERROR s.e.n.i.o.controller.CartController - Failed to remove item from cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.OrderController - Creating order from cart for customer with ID 1
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.OrderController - Order created from cart for customer with ID 1 with response {}
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.OrderController - Updating order status by orderId order1
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.OrderController - Optional request body null
2024-11-18 22:43:30 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to update order status READY for orderId order1
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.OrderController - Retrieving order by orderId 1
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.OrderController - Order with ID 1 found. Order: {"orderId":"orderId1","createdDate":0,"updatedDate":0,"useRewards":false,"useDelivery":false}
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.OrderController - Retrieving all active orders for delivery and in READY state
2024-11-18 22:43:30 ERROR s.e.n.i.o.controller.OrderController - No active orders found marked for delivery and in READY state
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.OrderController - Updating order status by orderId order1
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.OrderController - Optional request body null
2024-11-18 22:43:30 ERROR s.e.n.i.o.controller.OrderController - Failed to update order status READY for orderId order1
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.OrderController - V2 :: Creating order from cart for customer with ID 1, if delivery is needed or not true and if reward points are needed or not true
2024-11-18 22:43:30 ERROR s.e.n.i.o.controller.OrderController - V2 :: Failed to create order for customerId 1 using useRewardPoints true and deliveryNeeded true
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.OrderController - Creating order from cart for customer with ID 1
2024-11-18 22:43:30 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to create order from cart for customer with ID 1
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.OrderController - Retrieving ACTIVE orders for profileType customer with ID 1
2024-11-18 22:43:30 ERROR s.e.n.i.o.controller.OrderController - No ACTIVE orders found with profileType customer and ID 1
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.OrderController - V2 :: Creating order from cart for customer with ID 1, if delivery is needed or not true and if reward points are needed or not true
2024-11-18 22:43:30 ERROR s.e.n.i.o.controller.OrderController - V2 :: Some exception happened trying to create order from cart for customer with ID 1
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.OrderController - Creating order from cart for customer with ID 1
2024-11-18 22:43:30 ERROR s.e.n.i.o.controller.OrderController - Failed to create order for customerId 1
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.OrderController - Retrieving order by orderId 1
2024-11-18 22:43:30 ERROR s.e.n.i.o.controller.OrderController - Order with ID 1 not found
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.OrderController - Retrieving order by orderId 1
2024-11-18 22:43:30 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to find order with orderId 1
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.OrderController - Retrieving all active orders for delivery and in READY state
2024-11-18 22:43:30 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to get all active orders marked for delivery and in READY state
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.OrderController - Retrieving ACTIVE orders for profileType customer with ID 1
2024-11-18 22:43:30 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to get ACTIVE orders for profileType customer with ID 1
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.OrderController - Retrieving all active orders for delivery and in READY state
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.OrderController - Active orders found marked for delivery and in READY state. Orders count : 1
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.OrderController - Updating order status by orderId order1
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.OrderController - Optional request body null
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.OrderController - Order status updated for orderId order1 for status READY
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.OrderController - V2 :: Creating order from cart for customer with ID 1, if delivery is needed or not true and if reward points are needed or not true
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.OrderController - V2 :: Order created from cart for customer with ID 1 with response {}
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.OrderController - Retrieving ACTIVE orders for profileType customer with ID 1
2024-11-18 22:43:30 INFO  s.e.n.i.o.controller.OrderController - ACTIVE orders for profileType customer with ID 1 found. Orders count : 1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. Creating new cart.
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Create cart for customer with ID customer1, merchant id merchant1 and products : [Item(productId=item1, quantity=10, price=null)]
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Creating cart for customer with ID customer1, merchant id merchant1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Cart created successfully for customer with ID customer1 for add item
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Cart is empty after removing last item for customer with ID customer1. So deleting the cart.
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1 with query : Document{{customerId=customer1}}
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Cart deleted/emptied successfully for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Finding cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Adding item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Updating cart for customer with ID customer1, with update document : {"$set":{"cartItems":[{"productId":"item1","quantity":20}],"updatedAt":1731950010694}}
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Cart updated successfully for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. Creating new cart.
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Create cart for customer with ID customer1, merchant id merchant1 and products : [Item(productId=item1, quantity=10, price=null)]
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Creating cart for customer with ID customer1, merchant id merchant1
2024-11-18 22:43:30 ERROR s.e.n.i.o.service.CartService - Failed to create cart for customer with ID customer1 for add item
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Cart is empty after removing last item for customer with ID customer1. So deleting the cart.
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1 with query : Document{{customerId=customer1}}
2024-11-18 22:43:30 ERROR s.e.n.i.o.service.CartService - Failed to delete/empty cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Finding cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Cart not found for customerID customer1.
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. Creating new cart.
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Create cart for customer with ID customer1, merchant id merchant1 and products : [Item(productId=item1, quantity=10, price=null)]
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Creating cart for customer with ID customer1, merchant id merchant1
2024-11-18 22:43:30 ERROR s.e.n.i.o.service.CartService - Failed to create cart for customer with ID customer1 for add item
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=5, price=null) to cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=5, price=null) to cart.
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Updating cart for customer with ID customer1, with update document : {"$set":{"cartItems":[{"productId":"item1","quantity":5}],"updatedAt":1731950010710}} to remove it
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Cart updated successfully for removing item for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. So no action required.
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item3, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item3, quantity=10, price=null) to cart.
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Item Item(productId=item3, quantity=10, price=null) not found in cart for customer with ID customer1. So no action required.
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=5, price=null) to cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=5, price=null) to cart.
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Updating cart for customer with ID customer1, with update document : {"$set":{"cartItems":[{"productId":"item1","quantity":5}],"updatedAt":1731950010716}} to remove it
2024-11-18 22:43:30 ERROR s.e.n.i.o.service.CartService - Failed to update cart for removing item for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Cart is empty after removing last item for customer with ID customer1. So deleting the cart.
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1 with query : Document{{customerId=customer1}}
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.CartService - Cart deleted/emptied successfully for customer with ID customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Product details found for productIds: 8ed01eaf-ebb6-44d0-a41d-79e1d6b1c110
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Updating customer reward points for orderId: 96f95b4b-23a7-4036-bd80-41fffc996646 and customerId : customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Customer customer1 reward points updated successfully for orderId: 96f95b4b-23a7-4036-bd80-41fffc996646 with order amount 0
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Order to be created : Order(orderId=96f95b4b-23a7-4036-bd80-41fffc996646, customerId=customer1, merchantId=8ed01eaf-ebb6-44d0-a41d-79e1d6b1c110, deliveryPartnerId=null, orderItems=[Item(productId=8ed01eaf-ebb6-44d0-a41d-79e1d6b1c110, quantity=10, price=1E+1)], totalPrice=95.0, status=CREATED, createdDate=1731950010758, updatedDate=1731950010758, createdBy=customer, updatedBy=customer, useRewards=true, useDelivery=true, rewardsAmountUsed=5.0, customerRewardsPointsUsed=500.0)
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Order created successfully for customer: customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Starting generateProductUpdateReqObts, products: [Product(productId=8ed01eaf-ebb6-44d0-a41d-79e1d6b1c110, productName=null, category=Category(categoryId=8ed01eaf-ebb6-44d0-a41d-79e1d6b1c110, categoryName=cat1, categoryDescription=cat1 desc), imageUrl=null, productDescription=null, originalPrice=null, listingPrice=1E+1, availableStock=10, merchantId=8ed01eaf-ebb6-44d0-a41d-79e1d6b1c110, pincode=null)], cartItems: [Item(productId=8ed01eaf-ebb6-44d0-a41d-79e1d6b1c110, quantity=10, price=1E+1)]
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Updating stock for productId: 8ed01eaf-ebb6-44d0-a41d-79e1d6b1c110
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Product stock updated successfully for productId: 8ed01eaf-ebb6-44d0-a41d-79e1d6b1c110
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_PICKED_UP
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : ed8fcb98-9dfd-463a-8f84-cdefaefb33c0 and deliveryPartnerId ed8fcb98-9dfd-463a-8f84-cdefaefb33c0 with status DELIVERY_PICKED_UP
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Delivery status updated successfully for orderId: ed8fcb98-9dfd-463a-8f84-cdefaefb33c0 with deliveryPartnerId null for status DELIVERY_PICKED_UP
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Delivery record successfully updated in delivery service for orderId: order1 and deliveryPartnerId: ed8fcb98-9dfd-463a-8f84-cdefaefb33c0, updating data in order colls.
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for order: order1 using query : {"orderId":"order1"}
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Successfully update delivery status for order: order1 and kept status : DELIVERY_PICKED_UP
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : COMPLETED
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : d4c0b3bd-0470-419b-afd1-6c78da3ee11d and deliveryPartnerId d4c0b3bd-0470-419b-afd1-6c78da3ee11d with status COMPLETED
2024-11-18 22:43:30 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: d4c0b3bd-0470-419b-afd1-6c78da3ee11d for status COMPLETED
2024-11-18 22:43:30 ERROR s.e.n.i.o.service.OrderService - Failed to complete delivery for orderId: order1 for deliveryPartnerId: d4c0b3bd-0470-419b-afd1-6c78da3ee11d
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_ACCEPTED
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 26dd5cd1-984b-402a-aa0d-2e03dab68e8c and deliveryPartnerId 26dd5cd1-984b-402a-aa0d-2e03dab68e8c with status DELIVERY_ACCEPTED
2024-11-18 22:43:30 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: 26dd5cd1-984b-402a-aa0d-2e03dab68e8c for status DELIVERY_ACCEPTED
2024-11-18 22:43:30 ERROR s.e.n.i.o.service.OrderService - Failed to start delivery for orderId: order1 for deliveryPartnerId: 26dd5cd1-984b-402a-aa0d-2e03dab68e8c
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Fetching order by orderId: order1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Found orders for provided orderId: order1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Deleting order for orderId: order1
2024-11-18 22:43:30 ERROR s.e.n.i.o.service.OrderService - Failed to delete order for orderId: order1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Fetching all active orders available for delivery, having status READY and opted for delivery
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Query to fetch active orders for delivery : Document{{status=READY, useDelivery=true}} from orders coll
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - No active orders found for delivery having status READY and opted for delivery
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Fetching order by orderId: order1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - No orders found for orderId: order1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_ACCEPTED
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : fcfbb94e-065f-4040-be6e-5da5d8bf28d8 and deliveryPartnerId fcfbb94e-065f-4040-be6e-5da5d8bf28d8 with status DELIVERY_ACCEPTED
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Delivery status updated successfully for orderId: fcfbb94e-065f-4040-be6e-5da5d8bf28d8 with deliveryPartnerId null for status DELIVERY_ACCEPTED
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Delivery record successfully created in delivery service for orderId: order1 and deliveryPartnerId: fcfbb94e-065f-4040-be6e-5da5d8bf28d8, updating data in order colls.
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Starting delivery for order: order1 using query : {"orderId":"order1"}
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Started delivery flow successfully for order: order1 and kept status : DELIVERY_ACCEPTED
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_PICKED_UP
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 3d1184cd-c78b-4f3f-8cc0-6835fec8b9ce and deliveryPartnerId 3d1184cd-c78b-4f3f-8cc0-6835fec8b9ce with status DELIVERY_PICKED_UP
2024-11-18 22:43:30 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: 3d1184cd-c78b-4f3f-8cc0-6835fec8b9ce for status DELIVERY_PICKED_UP
2024-11-18 22:43:30 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: order1 for deliveryPartnerId: 3d1184cd-c78b-4f3f-8cc0-6835fec8b9ce in delivery service
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : CANCELLED
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Updating customer reward points for orderId: order1 and customerId : 0d054881-7ff4-43f3-9c2a-6e939a09650d
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Customer 0d054881-7ff4-43f3-9c2a-6e939a09650d reward points updated successfully for orderId: order1 with order amount 500.0
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Order has been cancelled successfully for orderId: order1 and kept in cancelled coll
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-18 22:43:30 ERROR s.e.n.i.o.service.OrderService - No items found in cart for customer: customer1, so no order to be created
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : READY
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 using query : {"orderId":"order1"}
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Order status updated successfully for orderId: order1 to status : READY
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Product details found for productIds: 85f11b81-eead-4804-83b9-15ece602e0ac
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Order to be created : Order(orderId=2d8f4770-550a-4b67-8c9f-41ce5b431607, customerId=customer1, merchantId=85f11b81-eead-4804-83b9-15ece602e0ac, deliveryPartnerId=null, orderItems=[Item(productId=85f11b81-eead-4804-83b9-15ece602e0ac, quantity=10, price=1E+1)], totalPrice=100, status=CREATED, createdDate=1731950010813, updatedDate=1731950010813, createdBy=customer, updatedBy=customer, useRewards=false, useDelivery=true, rewardsAmountUsed=0, customerRewardsPointsUsed=0)
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Order created successfully for customer: customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Starting generateProductUpdateReqObts, products: [Product(productId=85f11b81-eead-4804-83b9-15ece602e0ac, productName=null, category=Category(categoryId=85f11b81-eead-4804-83b9-15ece602e0ac, categoryName=cat1, categoryDescription=cat1 desc), imageUrl=null, productDescription=null, originalPrice=null, listingPrice=1E+1, availableStock=10, merchantId=85f11b81-eead-4804-83b9-15ece602e0ac, pincode=null)], cartItems: [Item(productId=85f11b81-eead-4804-83b9-15ece602e0ac, quantity=10, price=1E+1)]
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Updating stock for productId: 85f11b81-eead-4804-83b9-15ece602e0ac
2024-11-18 22:43:30 ERROR s.e.n.i.o.service.OrderService - Failed to update product stock for productId: 85f11b81-eead-4804-83b9-15ece602e0ac
2024-11-18 22:43:30 ERROR s.e.n.i.o.service.OrderService - Failed to update stock for 1 products out of 1, so deleting previously created order
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Deleting order for orderId: 2d8f4770-550a-4b67-8c9f-41ce5b431607
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Order deleted successfully for orderId: 2d8f4770-550a-4b67-8c9f-41ce5b431607
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-18 22:43:30 ERROR s.e.n.i.o.service.OrderService - Failed to get product details for productIds: ea0ac704-1147-46d8-8e8d-d5794951e54f
2024-11-18 22:43:30 ERROR s.e.n.i.o.service.OrderService - Failed to get product details or found non matching products for items in cart for customer: customer1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : COMPLETED
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 89dd6f85-7cdb-49a0-b9a5-23d63518dc59 and deliveryPartnerId 89dd6f85-7cdb-49a0-b9a5-23d63518dc59 with status COMPLETED
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Delivery status updated successfully for orderId: 89dd6f85-7cdb-49a0-b9a5-23d63518dc59 with deliveryPartnerId null for status COMPLETED
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Delivery completed successfully in delivery service for orderId: order1 and deliveryPartnerId: 89dd6f85-7cdb-49a0-b9a5-23d63518dc59, updating data in order colls.
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Updating merchant earnings for orderId : order1 and merchantId 89dd6f85-7cdb-49a0-b9a5-23d63518dc59
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Merchant 89dd6f85-7cdb-49a0-b9a5-23d63518dc59 earnings updated successfully for orderId: order1 with order amount 100.0
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Updating customer reward points for orderId: order1 and customerId : 89dd6f85-7cdb-49a0-b9a5-23d63518dc59
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Customer 89dd6f85-7cdb-49a0-b9a5-23d63518dc59 reward points updated successfully for orderId: order1 with order amount 100.0
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Order has been completed successfully for orderId: order1 and kept in completed coll
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : READY
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 using query : {"orderId":"order1"}
2024-11-18 22:43:30 ERROR s.e.n.i.o.service.OrderService - Failed to update order status for orderId: order1 to status : READY
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : READY
2024-11-18 22:43:30 ERROR s.e.n.i.o.service.OrderService - No order found for orderId: order1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Deleting order for orderId: order1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Order deleted successfully for orderId: order1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Fetching all active orders available for delivery, having status READY and opted for delivery
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Query to fetch active orders for delivery : Document{{status=READY, useDelivery=true}} from orders coll
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Found active orders for delivery having status READY and opted for delivery, count 1
2024-11-18 22:43:30 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : INVALID
2024-11-18 22:43:30 ERROR s.e.n.i.o.service.OrderService - Invalid status provided for orderId: order1
2024-11-18 22:43:30 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [sg.edu.nus.iss.order_service.HomeControllerTest]: HomeControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-11-18 22:43:30 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration sg.edu.nus.iss.order_service.OrderServiceApplication for test class sg.edu.nus.iss.order_service.HomeControllerTest
2024-11-18 22:43:30 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2024-11-18 22:43:31 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-18 22:43:31 INFO  s.e.n.i.o.HomeControllerTest - Starting HomeControllerTest using Java 21.0.3 with PID 14972 (started by rituthori in /Users/rituthori/projects/order-service)
2024-11-18 22:43:31 INFO  s.e.n.i.o.HomeControllerTest - No active profile set, falling back to 1 default profile: "default"
2024-11-18 22:43:31 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2024-11-18 22:43:31 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2024-11-18 22:43:31 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2024-11-18 22:43:31 INFO  s.e.n.i.o.HomeControllerTest - Started HomeControllerTest in 0.643 seconds (process running for 2.609)
2024-11-18 22:43:31 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management"}
2024-11-18 22:43:31 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management Home"}
2024-11-18 22:43:31 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management Home"}
2024-11-18 22:43:31 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management"}
2024-11-18 22:43:49 INFO  s.e.n.i.o.controller.CartController - Retrieving cart for customer with ID 1
2024-11-18 22:43:49 INFO  s.e.n.i.o.controller.CartController - Cart for customer with ID 1 found. Cart: {"customerId":"1","cartItems":[{"productId":"1","quantity":10}],"createdAt":0,"updatedAt":0}
2024-11-18 22:43:50 INFO  s.e.n.i.o.controller.CartController - Adding item Item(productId=1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.controller.CartController - Item added to cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.controller.CartController - Retrieving cart for customer with ID 1
2024-11-18 22:43:50 ERROR s.e.n.i.o.controller.CartController - Cart for customer with ID 1 not found
2024-11-18 22:43:50 INFO  s.e.n.i.o.controller.CartController - Adding item Item(productId=1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:43:50 ERROR s.e.n.i.o.controller.CartController - Failed to add item to cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.controller.CartController - Deleting or emptying cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.controller.CartController - Cart deleted/emptied for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.controller.CartController - Removing item Item(productId=1, quantity=10, price=null) from cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.controller.CartController - Item removed from cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.controller.CartController - Deleting or emptying cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.controller.CartController - Some error occurred while trying to delete or empty cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.controller.CartController - Retrieving cart for customer with ID 1
2024-11-18 22:43:50 ERROR s.e.n.i.o.controller.CartController - Some exception happened to get cart for customer with ID 1
2024-11-18 22:43:50 INFO  s.e.n.i.o.controller.CartController - Removing item Item(productId=1, quantity=10, price=null) from cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.controller.CartController - Some error occurred while trying to remove item from cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.controller.CartController - Adding item Item(productId=1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.controller.CartController - Some error occurred while trying to add item added to cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.controller.CartController - Deleting or emptying cart for customer with ID customer1
2024-11-18 22:43:50 ERROR s.e.n.i.o.controller.CartController - Failed to delete cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.controller.CartController - Removing item Item(productId=1, quantity=10, price=null) from cart for customer with ID customer1
2024-11-18 22:43:50 ERROR s.e.n.i.o.controller.CartController - Failed to remove item from cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.controller.OrderController - Creating order from cart for customer with ID 1
2024-11-18 22:43:50 INFO  s.e.n.i.o.controller.OrderController - Order created from cart for customer with ID 1 with response {}
2024-11-18 22:43:50 INFO  s.e.n.i.o.controller.OrderController - Updating order status by orderId order1
2024-11-18 22:43:50 INFO  s.e.n.i.o.controller.OrderController - Optional request body null
2024-11-18 22:43:50 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to update order status READY for orderId order1
2024-11-18 22:43:50 INFO  s.e.n.i.o.controller.OrderController - Retrieving order by orderId 1
2024-11-18 22:43:50 INFO  s.e.n.i.o.controller.OrderController - Order with ID 1 found. Order: {"orderId":"orderId1","createdDate":0,"updatedDate":0,"useRewards":false,"useDelivery":false}
2024-11-18 22:43:50 INFO  s.e.n.i.o.controller.OrderController - Retrieving all active orders for delivery and in READY state
2024-11-18 22:43:50 ERROR s.e.n.i.o.controller.OrderController - No active orders found marked for delivery and in READY state
2024-11-18 22:43:50 INFO  s.e.n.i.o.controller.OrderController - Updating order status by orderId order1
2024-11-18 22:43:50 INFO  s.e.n.i.o.controller.OrderController - Optional request body null
2024-11-18 22:43:50 ERROR s.e.n.i.o.controller.OrderController - Failed to update order status READY for orderId order1
2024-11-18 22:43:50 INFO  s.e.n.i.o.controller.OrderController - V2 :: Creating order from cart for customer with ID 1, if delivery is needed or not true and if reward points are needed or not true
2024-11-18 22:43:50 ERROR s.e.n.i.o.controller.OrderController - V2 :: Failed to create order for customerId 1 using useRewardPoints true and deliveryNeeded true
2024-11-18 22:43:50 INFO  s.e.n.i.o.controller.OrderController - Creating order from cart for customer with ID 1
2024-11-18 22:43:50 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to create order from cart for customer with ID 1
2024-11-18 22:43:50 INFO  s.e.n.i.o.controller.OrderController - Retrieving ACTIVE orders for profileType customer with ID 1
2024-11-18 22:43:50 ERROR s.e.n.i.o.controller.OrderController - No ACTIVE orders found with profileType customer and ID 1
2024-11-18 22:43:50 INFO  s.e.n.i.o.controller.OrderController - V2 :: Creating order from cart for customer with ID 1, if delivery is needed or not true and if reward points are needed or not true
2024-11-18 22:43:50 ERROR s.e.n.i.o.controller.OrderController - V2 :: Some exception happened trying to create order from cart for customer with ID 1
2024-11-18 22:43:50 INFO  s.e.n.i.o.controller.OrderController - Creating order from cart for customer with ID 1
2024-11-18 22:43:50 ERROR s.e.n.i.o.controller.OrderController - Failed to create order for customerId 1
2024-11-18 22:43:50 INFO  s.e.n.i.o.controller.OrderController - Retrieving order by orderId 1
2024-11-18 22:43:50 ERROR s.e.n.i.o.controller.OrderController - Order with ID 1 not found
2024-11-18 22:43:50 INFO  s.e.n.i.o.controller.OrderController - Retrieving order by orderId 1
2024-11-18 22:43:50 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to find order with orderId 1
2024-11-18 22:43:50 INFO  s.e.n.i.o.controller.OrderController - Retrieving all active orders for delivery and in READY state
2024-11-18 22:43:50 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to get all active orders marked for delivery and in READY state
2024-11-18 22:43:50 INFO  s.e.n.i.o.controller.OrderController - Retrieving ACTIVE orders for profileType customer with ID 1
2024-11-18 22:43:50 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to get ACTIVE orders for profileType customer with ID 1
2024-11-18 22:43:50 INFO  s.e.n.i.o.controller.OrderController - Retrieving all active orders for delivery and in READY state
2024-11-18 22:43:50 INFO  s.e.n.i.o.controller.OrderController - Active orders found marked for delivery and in READY state. Orders count : 1
2024-11-18 22:43:50 INFO  s.e.n.i.o.controller.OrderController - Updating order status by orderId order1
2024-11-18 22:43:50 INFO  s.e.n.i.o.controller.OrderController - Optional request body null
2024-11-18 22:43:50 INFO  s.e.n.i.o.controller.OrderController - Order status updated for orderId order1 for status READY
2024-11-18 22:43:50 INFO  s.e.n.i.o.controller.OrderController - V2 :: Creating order from cart for customer with ID 1, if delivery is needed or not true and if reward points are needed or not true
2024-11-18 22:43:50 INFO  s.e.n.i.o.controller.OrderController - V2 :: Order created from cart for customer with ID 1 with response {}
2024-11-18 22:43:50 INFO  s.e.n.i.o.controller.OrderController - Retrieving ACTIVE orders for profileType customer with ID 1
2024-11-18 22:43:50 INFO  s.e.n.i.o.controller.OrderController - ACTIVE orders for profileType customer with ID 1 found. Orders count : 1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. Creating new cart.
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Create cart for customer with ID customer1, merchant id merchant1 and products : [Item(productId=item1, quantity=10, price=null)]
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Creating cart for customer with ID customer1, merchant id merchant1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Cart created successfully for customer with ID customer1 for add item
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Cart is empty after removing last item for customer with ID customer1. So deleting the cart.
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1 with query : Document{{customerId=customer1}}
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Cart deleted/emptied successfully for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Finding cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Adding item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Updating cart for customer with ID customer1, with update document : {"$set":{"cartItems":[{"productId":"item1","quantity":20}],"updatedAt":1731950030208}}
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Cart updated successfully for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. Creating new cart.
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Create cart for customer with ID customer1, merchant id merchant1 and products : [Item(productId=item1, quantity=10, price=null)]
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Creating cart for customer with ID customer1, merchant id merchant1
2024-11-18 22:43:50 ERROR s.e.n.i.o.service.CartService - Failed to create cart for customer with ID customer1 for add item
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Cart is empty after removing last item for customer with ID customer1. So deleting the cart.
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1 with query : Document{{customerId=customer1}}
2024-11-18 22:43:50 ERROR s.e.n.i.o.service.CartService - Failed to delete/empty cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Finding cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Cart not found for customerID customer1.
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. Creating new cart.
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Create cart for customer with ID customer1, merchant id merchant1 and products : [Item(productId=item1, quantity=10, price=null)]
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Creating cart for customer with ID customer1, merchant id merchant1
2024-11-18 22:43:50 ERROR s.e.n.i.o.service.CartService - Failed to create cart for customer with ID customer1 for add item
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=5, price=null) to cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=5, price=null) to cart.
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Updating cart for customer with ID customer1, with update document : {"$set":{"cartItems":[{"productId":"item1","quantity":5}],"updatedAt":1731950030225}} to remove it
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Cart updated successfully for removing item for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. So no action required.
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item3, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item3, quantity=10, price=null) to cart.
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Item Item(productId=item3, quantity=10, price=null) not found in cart for customer with ID customer1. So no action required.
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=5, price=null) to cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=5, price=null) to cart.
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Updating cart for customer with ID customer1, with update document : {"$set":{"cartItems":[{"productId":"item1","quantity":5}],"updatedAt":1731950030230}} to remove it
2024-11-18 22:43:50 ERROR s.e.n.i.o.service.CartService - Failed to update cart for removing item for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Cart is empty after removing last item for customer with ID customer1. So deleting the cart.
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1 with query : Document{{customerId=customer1}}
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.CartService - Cart deleted/emptied successfully for customer with ID customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Product details found for productIds: ed5072f3-ffea-4aaf-a38a-e188f9946210
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Updating customer reward points for orderId: 5875cf0b-b32e-47c4-b4f9-3b070b327ccd and customerId : customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Customer customer1 reward points updated successfully for orderId: 5875cf0b-b32e-47c4-b4f9-3b070b327ccd with order amount 0
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Order to be created : Order(orderId=5875cf0b-b32e-47c4-b4f9-3b070b327ccd, customerId=customer1, merchantId=ed5072f3-ffea-4aaf-a38a-e188f9946210, deliveryPartnerId=null, orderItems=[Item(productId=ed5072f3-ffea-4aaf-a38a-e188f9946210, quantity=10, price=1E+1)], totalPrice=95.0, status=CREATED, createdDate=1731950030263, updatedDate=1731950030263, createdBy=customer, updatedBy=customer, useRewards=true, useDelivery=true, rewardsAmountUsed=5.0, customerRewardsPointsUsed=500.0)
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Order created successfully for customer: customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Starting generateProductUpdateReqObts, products: [Product(productId=ed5072f3-ffea-4aaf-a38a-e188f9946210, productName=null, category=Category(categoryId=ed5072f3-ffea-4aaf-a38a-e188f9946210, categoryName=cat1, categoryDescription=cat1 desc), imageUrl=null, productDescription=null, originalPrice=null, listingPrice=1E+1, availableStock=10, merchantId=ed5072f3-ffea-4aaf-a38a-e188f9946210, pincode=null)], cartItems: [Item(productId=ed5072f3-ffea-4aaf-a38a-e188f9946210, quantity=10, price=1E+1)]
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Updating stock for productId: ed5072f3-ffea-4aaf-a38a-e188f9946210
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Product stock updated successfully for productId: ed5072f3-ffea-4aaf-a38a-e188f9946210
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_PICKED_UP
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : da308330-6fd7-4af9-bb39-de87c870d274 and deliveryPartnerId da308330-6fd7-4af9-bb39-de87c870d274 with status DELIVERY_PICKED_UP
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Delivery status updated successfully for orderId: da308330-6fd7-4af9-bb39-de87c870d274 with deliveryPartnerId null for status DELIVERY_PICKED_UP
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Delivery record successfully updated in delivery service for orderId: order1 and deliveryPartnerId: da308330-6fd7-4af9-bb39-de87c870d274, updating data in order colls.
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for order: order1 using query : {"orderId":"order1"}
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Successfully update delivery status for order: order1 and kept status : DELIVERY_PICKED_UP
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : COMPLETED
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 58d82f5e-c0f4-4fce-9c13-60bf70cc785c and deliveryPartnerId 58d82f5e-c0f4-4fce-9c13-60bf70cc785c with status COMPLETED
2024-11-18 22:43:50 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: 58d82f5e-c0f4-4fce-9c13-60bf70cc785c for status COMPLETED
2024-11-18 22:43:50 ERROR s.e.n.i.o.service.OrderService - Failed to complete delivery for orderId: order1 for deliveryPartnerId: 58d82f5e-c0f4-4fce-9c13-60bf70cc785c
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_ACCEPTED
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 2ca947fc-39ba-4d61-a54f-186dc1c9376a and deliveryPartnerId 2ca947fc-39ba-4d61-a54f-186dc1c9376a with status DELIVERY_ACCEPTED
2024-11-18 22:43:50 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: 2ca947fc-39ba-4d61-a54f-186dc1c9376a for status DELIVERY_ACCEPTED
2024-11-18 22:43:50 ERROR s.e.n.i.o.service.OrderService - Failed to start delivery for orderId: order1 for deliveryPartnerId: 2ca947fc-39ba-4d61-a54f-186dc1c9376a
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Fetching order by orderId: order1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Found orders for provided orderId: order1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Deleting order for orderId: order1
2024-11-18 22:43:50 ERROR s.e.n.i.o.service.OrderService - Failed to delete order for orderId: order1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Fetching all active orders available for delivery, having status READY and opted for delivery
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Query to fetch active orders for delivery : Document{{status=READY, useDelivery=true}} from orders coll
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - No active orders found for delivery having status READY and opted for delivery
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Fetching order by orderId: order1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - No orders found for orderId: order1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_ACCEPTED
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : d67008c0-3c77-4b01-b1e5-4049a19ad2ca and deliveryPartnerId d67008c0-3c77-4b01-b1e5-4049a19ad2ca with status DELIVERY_ACCEPTED
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Delivery status updated successfully for orderId: d67008c0-3c77-4b01-b1e5-4049a19ad2ca with deliveryPartnerId null for status DELIVERY_ACCEPTED
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Delivery record successfully created in delivery service for orderId: order1 and deliveryPartnerId: d67008c0-3c77-4b01-b1e5-4049a19ad2ca, updating data in order colls.
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Starting delivery for order: order1 using query : {"orderId":"order1"}
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Started delivery flow successfully for order: order1 and kept status : DELIVERY_ACCEPTED
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_PICKED_UP
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 70015c57-0296-464e-85bc-a1787d9146f8 and deliveryPartnerId 70015c57-0296-464e-85bc-a1787d9146f8 with status DELIVERY_PICKED_UP
2024-11-18 22:43:50 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: 70015c57-0296-464e-85bc-a1787d9146f8 for status DELIVERY_PICKED_UP
2024-11-18 22:43:50 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: order1 for deliveryPartnerId: 70015c57-0296-464e-85bc-a1787d9146f8 in delivery service
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : CANCELLED
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Updating customer reward points for orderId: order1 and customerId : 12a33c34-7e81-47c2-be51-7818bc5dff23
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Customer 12a33c34-7e81-47c2-be51-7818bc5dff23 reward points updated successfully for orderId: order1 with order amount 500.0
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Order has been cancelled successfully for orderId: order1 and kept in cancelled coll
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-18 22:43:50 ERROR s.e.n.i.o.service.OrderService - No items found in cart for customer: customer1, so no order to be created
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : READY
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 using query : {"orderId":"order1"}
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Order status updated successfully for orderId: order1 to status : READY
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Product details found for productIds: 76ab35b3-7e86-4292-a18c-855edd74d906
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Order to be created : Order(orderId=dade6111-5522-4d44-91bb-f268a070f5c4, customerId=customer1, merchantId=76ab35b3-7e86-4292-a18c-855edd74d906, deliveryPartnerId=null, orderItems=[Item(productId=76ab35b3-7e86-4292-a18c-855edd74d906, quantity=10, price=1E+1)], totalPrice=100, status=CREATED, createdDate=1731950030321, updatedDate=1731950030321, createdBy=customer, updatedBy=customer, useRewards=false, useDelivery=true, rewardsAmountUsed=0, customerRewardsPointsUsed=0)
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Order created successfully for customer: customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Starting generateProductUpdateReqObts, products: [Product(productId=76ab35b3-7e86-4292-a18c-855edd74d906, productName=null, category=Category(categoryId=76ab35b3-7e86-4292-a18c-855edd74d906, categoryName=cat1, categoryDescription=cat1 desc), imageUrl=null, productDescription=null, originalPrice=null, listingPrice=1E+1, availableStock=10, merchantId=76ab35b3-7e86-4292-a18c-855edd74d906, pincode=null)], cartItems: [Item(productId=76ab35b3-7e86-4292-a18c-855edd74d906, quantity=10, price=1E+1)]
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Updating stock for productId: 76ab35b3-7e86-4292-a18c-855edd74d906
2024-11-18 22:43:50 ERROR s.e.n.i.o.service.OrderService - Failed to update product stock for productId: 76ab35b3-7e86-4292-a18c-855edd74d906
2024-11-18 22:43:50 ERROR s.e.n.i.o.service.OrderService - Failed to update stock for 1 products out of 1, so deleting previously created order
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Deleting order for orderId: dade6111-5522-4d44-91bb-f268a070f5c4
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Order deleted successfully for orderId: dade6111-5522-4d44-91bb-f268a070f5c4
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-18 22:43:50 ERROR s.e.n.i.o.service.OrderService - Failed to get product details for productIds: e145bde8-047e-444f-a4f0-ac7e6f90789e
2024-11-18 22:43:50 ERROR s.e.n.i.o.service.OrderService - Failed to get product details or found non matching products for items in cart for customer: customer1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : COMPLETED
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 5350c0ee-b7d5-4eb8-8da5-c291cd252bf7 and deliveryPartnerId 5350c0ee-b7d5-4eb8-8da5-c291cd252bf7 with status COMPLETED
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Delivery status updated successfully for orderId: 5350c0ee-b7d5-4eb8-8da5-c291cd252bf7 with deliveryPartnerId null for status COMPLETED
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Delivery completed successfully in delivery service for orderId: order1 and deliveryPartnerId: 5350c0ee-b7d5-4eb8-8da5-c291cd252bf7, updating data in order colls.
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Updating merchant earnings for orderId : order1 and merchantId 5350c0ee-b7d5-4eb8-8da5-c291cd252bf7
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Merchant 5350c0ee-b7d5-4eb8-8da5-c291cd252bf7 earnings updated successfully for orderId: order1 with order amount 100.0
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Updating customer reward points for orderId: order1 and customerId : 5350c0ee-b7d5-4eb8-8da5-c291cd252bf7
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Customer 5350c0ee-b7d5-4eb8-8da5-c291cd252bf7 reward points updated successfully for orderId: order1 with order amount 100.0
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Order has been completed successfully for orderId: order1 and kept in completed coll
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : READY
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 using query : {"orderId":"order1"}
2024-11-18 22:43:50 ERROR s.e.n.i.o.service.OrderService - Failed to update order status for orderId: order1 to status : READY
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : READY
2024-11-18 22:43:50 ERROR s.e.n.i.o.service.OrderService - No order found for orderId: order1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Deleting order for orderId: order1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Order deleted successfully for orderId: order1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Fetching all active orders available for delivery, having status READY and opted for delivery
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Query to fetch active orders for delivery : Document{{status=READY, useDelivery=true}} from orders coll
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Found active orders for delivery having status READY and opted for delivery, count 1
2024-11-18 22:43:50 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : INVALID
2024-11-18 22:43:50 ERROR s.e.n.i.o.service.OrderService - Invalid status provided for orderId: order1
2024-11-18 22:43:50 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [sg.edu.nus.iss.order_service.HomeControllerTest]: HomeControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-11-18 22:43:50 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration sg.edu.nus.iss.order_service.OrderServiceApplication for test class sg.edu.nus.iss.order_service.HomeControllerTest
2024-11-18 22:43:50 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2024-11-18 22:43:50 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-18 22:43:50 INFO  s.e.n.i.o.HomeControllerTest - Starting HomeControllerTest using Java 21.0.3 with PID 15037 (started by rituthori in /Users/rituthori/projects/order-service)
2024-11-18 22:43:50 INFO  s.e.n.i.o.HomeControllerTest - No active profile set, falling back to 1 default profile: "default"
2024-11-18 22:43:51 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2024-11-18 22:43:51 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2024-11-18 22:43:51 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2024-11-18 22:43:51 INFO  s.e.n.i.o.HomeControllerTest - Started HomeControllerTest in 0.666 seconds (process running for 2.697)
2024-11-18 22:43:51 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management"}
2024-11-18 22:43:51 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management Home"}
2024-11-18 22:43:51 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management Home"}
2024-11-18 22:43:51 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management"}
2024-11-18 23:20:09 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-18 23:20:09 INFO  s.e.n.i.o.OrderServiceApplication - Starting OrderServiceApplication using Java 21.0.3 with PID 15448 (/Users/rituthori/projects/order-service/target/classes started by rituthori in /Users/rituthori/projects/order-service)
2024-11-18 23:20:09 INFO  s.e.n.i.o.OrderServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-18 23:20:09 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-11-18 23:20:09 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-11-18 23:20:09 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-11-18 23:20:09 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-11-18 23:20:10 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 1 MongoDB repository interface.
2024-11-18 23:20:10 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-18 23:20:10 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-18 23:20:10 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-18 23:20:10 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2024-11-18 23:20:10 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-18 23:20:10 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 502 ms
2024-11-18 23:20:10 WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderController' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/controller/OrderController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'orderService' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/service/OrderService.class]: Unsatisfied dependency expressed through constructor parameter 4: Error creating bean with name 'orderTypeStrategyContext' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/strategy/context/OrderTypeStrategyContext.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'ACTIVE': Unsatisfied dependency expressed through field 'orderRepository': Error creating bean with name 'orderRepository' defined in sg.edu.nus.iss.order_service.repository.OrderRepository defined in @EnableMongoRepositories declared on MongoRepositoriesRegistrar.EnableMongoRepositoriesConfiguration: Cannot resolve reference to bean 'mongoTemplate' while setting bean property 'mongoOperations'
2024-11-18 23:20:10 INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2024-11-18 23:20:10 INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-11-18 23:20:10 ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field orderRepository in sg.edu.nus.iss.order_service.strategy.order.impl.ActiveOrderStrategy required a bean named 'mongoTemplate' that could not be found.


Action:

Consider defining a bean named 'mongoTemplate' in your configuration.

2024-11-18 23:23:35 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-18 23:23:35 INFO  s.e.n.i.o.OrderServiceApplication - Starting OrderServiceApplication using Java 21.0.3 with PID 15512 (/Users/rituthori/projects/order-service/target/classes started by rituthori in /Users/rituthori/projects/order-service)
2024-11-18 23:23:35 INFO  s.e.n.i.o.OrderServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-18 23:23:35 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-11-18 23:23:35 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-11-18 23:23:35 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-11-18 23:23:35 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-11-18 23:23:35 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 1 MongoDB repository interface.
2024-11-18 23:23:35 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-18 23:23:35 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-18 23:23:35 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-18 23:23:35 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2024-11-18 23:23:35 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-18 23:23:35 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 481 ms
2024-11-18 23:23:35 WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderController' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/controller/OrderController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'orderService' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/service/OrderService.class]: Unsatisfied dependency expressed through constructor parameter 4: Error creating bean with name 'orderTypeStrategyContext' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/strategy/context/OrderTypeStrategyContext.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'ACTIVE': Unsatisfied dependency expressed through field 'mongoTemplate': No qualifying bean of type 'org.springframework.data.mongodb.core.MongoTemplate' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2024-11-18 23:23:35 INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2024-11-18 23:23:35 INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-11-18 23:23:35 ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field mongoTemplate in sg.edu.nus.iss.order_service.strategy.order.impl.ActiveOrderStrategy required a bean of type 'org.springframework.data.mongodb.core.MongoTemplate' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.data.mongodb.core.MongoTemplate' in your configuration.

2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.CartController - Retrieving cart for customer with ID 1
2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.CartController - Cart for customer with ID 1 found. Cart: {"customerId":"1","cartItems":[{"productId":"1","quantity":10}],"createdAt":0,"updatedAt":0}
2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.CartController - Adding item Item(productId=1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.CartController - Item added to cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.CartController - Retrieving cart for customer with ID 1
2024-11-18 23:24:13 ERROR s.e.n.i.o.controller.CartController - Cart for customer with ID 1 not found
2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.CartController - Adding item Item(productId=1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 23:24:13 ERROR s.e.n.i.o.controller.CartController - Failed to add item to cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.CartController - Deleting or emptying cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.CartController - Cart deleted/emptied for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.CartController - Removing item Item(productId=1, quantity=10, price=null) from cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.CartController - Item removed from cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.CartController - Deleting or emptying cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.CartController - Some error occurred while trying to delete or empty cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.CartController - Retrieving cart for customer with ID 1
2024-11-18 23:24:13 ERROR s.e.n.i.o.controller.CartController - Some exception happened to get cart for customer with ID 1
2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.CartController - Removing item Item(productId=1, quantity=10, price=null) from cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.CartController - Some error occurred while trying to remove item from cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.CartController - Adding item Item(productId=1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.CartController - Some error occurred while trying to add item added to cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.CartController - Deleting or emptying cart for customer with ID customer1
2024-11-18 23:24:13 ERROR s.e.n.i.o.controller.CartController - Failed to delete cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.CartController - Removing item Item(productId=1, quantity=10, price=null) from cart for customer with ID customer1
2024-11-18 23:24:13 ERROR s.e.n.i.o.controller.CartController - Failed to remove item from cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.OrderController - Creating order from cart for customer with ID 1
2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.OrderController - Order created from cart for customer with ID 1 with response {}
2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.OrderController - Updating order status by orderId order1
2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.OrderController - Optional request body null
2024-11-18 23:24:13 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to update order status READY for orderId order1
2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.OrderController - Retrieving order by orderId 1
2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.OrderController - Order with ID 1 found. Order: {"orderId":"orderId1","createdDate":0,"updatedDate":0,"useRewards":false,"useDelivery":false}
2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.OrderController - Retrieving all active orders for delivery and in READY state
2024-11-18 23:24:13 ERROR s.e.n.i.o.controller.OrderController - No active orders found marked for delivery and in READY state
2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.OrderController - Updating order status by orderId order1
2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.OrderController - Optional request body null
2024-11-18 23:24:13 ERROR s.e.n.i.o.controller.OrderController - Failed to update order status READY for orderId order1
2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.OrderController - V2 :: Creating order from cart for customer with ID 1, if delivery is needed or not true and if reward points are needed or not true
2024-11-18 23:24:13 ERROR s.e.n.i.o.controller.OrderController - V2 :: Failed to create order for customerId 1 using useRewardPoints true and deliveryNeeded true
2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.OrderController - Creating order from cart for customer with ID 1
2024-11-18 23:24:13 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to create order from cart for customer with ID 1
2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.OrderController - Retrieving ACTIVE orders for profileType customer with ID 1
2024-11-18 23:24:13 ERROR s.e.n.i.o.controller.OrderController - No ACTIVE orders found with profileType customer and ID 1
2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.OrderController - V2 :: Creating order from cart for customer with ID 1, if delivery is needed or not true and if reward points are needed or not true
2024-11-18 23:24:13 ERROR s.e.n.i.o.controller.OrderController - V2 :: Some exception happened trying to create order from cart for customer with ID 1
2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.OrderController - Creating order from cart for customer with ID 1
2024-11-18 23:24:13 ERROR s.e.n.i.o.controller.OrderController - Failed to create order for customerId 1
2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.OrderController - Retrieving order by orderId 1
2024-11-18 23:24:13 ERROR s.e.n.i.o.controller.OrderController - Order with ID 1 not found
2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.OrderController - Retrieving order by orderId 1
2024-11-18 23:24:13 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to find order with orderId 1
2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.OrderController - Retrieving all active orders for delivery and in READY state
2024-11-18 23:24:13 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to get all active orders marked for delivery and in READY state
2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.OrderController - Retrieving ACTIVE orders for profileType customer with ID 1
2024-11-18 23:24:13 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to get ACTIVE orders for profileType customer with ID 1
2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.OrderController - Retrieving all active orders for delivery and in READY state
2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.OrderController - Active orders found marked for delivery and in READY state. Orders count : 1
2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.OrderController - Updating order status by orderId order1
2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.OrderController - Optional request body null
2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.OrderController - Order status updated for orderId order1 for status READY
2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.OrderController - V2 :: Creating order from cart for customer with ID 1, if delivery is needed or not true and if reward points are needed or not true
2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.OrderController - V2 :: Order created from cart for customer with ID 1 with response {}
2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.OrderController - Retrieving ACTIVE orders for profileType customer with ID 1
2024-11-18 23:24:13 INFO  s.e.n.i.o.controller.OrderController - ACTIVE orders for profileType customer with ID 1 found. Orders count : 1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. Creating new cart.
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Create cart for customer with ID customer1, merchant id merchant1 and products : [Item(productId=item1, quantity=10, price=null)]
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Creating cart for customer with ID customer1, merchant id merchant1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Cart created successfully for customer with ID customer1 for add item
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Cart is empty after removing last item for customer with ID customer1. So deleting the cart.
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1 with query : Document{{customerId=customer1}}
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Cart deleted/emptied successfully for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Finding cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Adding item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Updating cart for customer with ID customer1, with update document : {"$set":{"cartItems":[{"productId":"item1","quantity":20}],"updatedAt":1731952453543}}
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Cart updated successfully for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. Creating new cart.
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Create cart for customer with ID customer1, merchant id merchant1 and products : [Item(productId=item1, quantity=10, price=null)]
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Creating cart for customer with ID customer1, merchant id merchant1
2024-11-18 23:24:13 ERROR s.e.n.i.o.service.CartService - Failed to create cart for customer with ID customer1 for add item
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Cart is empty after removing last item for customer with ID customer1. So deleting the cart.
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1 with query : Document{{customerId=customer1}}
2024-11-18 23:24:13 ERROR s.e.n.i.o.service.CartService - Failed to delete/empty cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Finding cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Cart not found for customerID customer1.
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. Creating new cart.
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Create cart for customer with ID customer1, merchant id merchant1 and products : [Item(productId=item1, quantity=10, price=null)]
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Creating cart for customer with ID customer1, merchant id merchant1
2024-11-18 23:24:13 ERROR s.e.n.i.o.service.CartService - Failed to create cart for customer with ID customer1 for add item
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=5, price=null) to cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=5, price=null) to cart.
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Updating cart for customer with ID customer1, with update document : {"$set":{"cartItems":[{"productId":"item1","quantity":5}],"updatedAt":1731952453565}} to remove it
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Cart updated successfully for removing item for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. So no action required.
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item3, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item3, quantity=10, price=null) to cart.
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Item Item(productId=item3, quantity=10, price=null) not found in cart for customer with ID customer1. So no action required.
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=5, price=null) to cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=5, price=null) to cart.
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Updating cart for customer with ID customer1, with update document : {"$set":{"cartItems":[{"productId":"item1","quantity":5}],"updatedAt":1731952453573}} to remove it
2024-11-18 23:24:13 ERROR s.e.n.i.o.service.CartService - Failed to update cart for removing item for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Cart is empty after removing last item for customer with ID customer1. So deleting the cart.
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1 with query : Document{{customerId=customer1}}
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.CartService - Cart deleted/emptied successfully for customer with ID customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Product details found for productIds: e68bf644-1306-4bd0-aa78-c1d698e5d2cb
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Updating customer reward points for orderId: 1b5381b2-df5c-4500-a227-925dd7c27bcb and customerId : customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Customer customer1 reward points updated successfully for orderId: 1b5381b2-df5c-4500-a227-925dd7c27bcb with order amount 0
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Order to be created : Order(orderId=1b5381b2-df5c-4500-a227-925dd7c27bcb, customerId=customer1, merchantId=e68bf644-1306-4bd0-aa78-c1d698e5d2cb, deliveryPartnerId=null, orderItems=[Item(productId=e68bf644-1306-4bd0-aa78-c1d698e5d2cb, quantity=10, price=1E+1)], totalPrice=95.0, status=CREATED, createdDate=1731952453607, updatedDate=1731952453607, createdBy=customer, updatedBy=customer, useRewards=true, useDelivery=true, rewardsAmountUsed=5.0, customerRewardsPointsUsed=500.0)
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Order created successfully for customer: customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Starting generateProductUpdateReqObts, products: [Product(productId=e68bf644-1306-4bd0-aa78-c1d698e5d2cb, productName=null, category=Category(categoryId=e68bf644-1306-4bd0-aa78-c1d698e5d2cb, categoryName=cat1, categoryDescription=cat1 desc), imageUrl=null, productDescription=null, originalPrice=null, listingPrice=1E+1, availableStock=10, merchantId=e68bf644-1306-4bd0-aa78-c1d698e5d2cb, pincode=null)], cartItems: [Item(productId=e68bf644-1306-4bd0-aa78-c1d698e5d2cb, quantity=10, price=1E+1)]
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Updating stock for productId: e68bf644-1306-4bd0-aa78-c1d698e5d2cb
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Product stock updated successfully for productId: e68bf644-1306-4bd0-aa78-c1d698e5d2cb
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_PICKED_UP
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 5f343334-c6b2-4a4b-821f-ab4cb42e1970 and deliveryPartnerId 5f343334-c6b2-4a4b-821f-ab4cb42e1970 with status DELIVERY_PICKED_UP
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Delivery status updated successfully for orderId: 5f343334-c6b2-4a4b-821f-ab4cb42e1970 with deliveryPartnerId null for status DELIVERY_PICKED_UP
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Delivery record successfully updated in delivery service for orderId: order1 and deliveryPartnerId: 5f343334-c6b2-4a4b-821f-ab4cb42e1970, updating data in order colls.
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for order: order1 using query : {"orderId":"order1"}
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Successfully update delivery status for order: order1 and kept status : DELIVERY_PICKED_UP
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : COMPLETED
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 81eac38e-84b8-43b4-b619-c3210345e450 and deliveryPartnerId 81eac38e-84b8-43b4-b619-c3210345e450 with status COMPLETED
2024-11-18 23:24:13 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: 81eac38e-84b8-43b4-b619-c3210345e450 for status COMPLETED
2024-11-18 23:24:13 ERROR s.e.n.i.o.service.OrderService - Failed to complete delivery for orderId: order1 for deliveryPartnerId: 81eac38e-84b8-43b4-b619-c3210345e450
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_ACCEPTED
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : ea8e1cf9-fa7c-4fb7-b3ca-6f6f0d9940bb and deliveryPartnerId ea8e1cf9-fa7c-4fb7-b3ca-6f6f0d9940bb with status DELIVERY_ACCEPTED
2024-11-18 23:24:13 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: ea8e1cf9-fa7c-4fb7-b3ca-6f6f0d9940bb for status DELIVERY_ACCEPTED
2024-11-18 23:24:13 ERROR s.e.n.i.o.service.OrderService - Failed to start delivery for orderId: order1 for deliveryPartnerId: ea8e1cf9-fa7c-4fb7-b3ca-6f6f0d9940bb
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Fetching order by orderId: order1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Found orders for provided orderId: order1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Deleting order for orderId: order1
2024-11-18 23:24:13 ERROR s.e.n.i.o.service.OrderService - Failed to delete order for orderId: order1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Fetching all active orders available for delivery, having status READY and opted for delivery
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Query to fetch active orders for delivery : Document{{status=READY, useDelivery=true}} from orders coll
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - No active orders found for delivery having status READY and opted for delivery
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Fetching order by orderId: order1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - No orders found for orderId: order1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_ACCEPTED
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 72f63df8-05af-43b9-96ac-316114e7fce9 and deliveryPartnerId 72f63df8-05af-43b9-96ac-316114e7fce9 with status DELIVERY_ACCEPTED
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Delivery status updated successfully for orderId: 72f63df8-05af-43b9-96ac-316114e7fce9 with deliveryPartnerId null for status DELIVERY_ACCEPTED
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Delivery record successfully created in delivery service for orderId: order1 and deliveryPartnerId: 72f63df8-05af-43b9-96ac-316114e7fce9, updating data in order colls.
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Starting delivery for order: order1 using query : {"orderId":"order1"}
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Started delivery flow successfully for order: order1 and kept status : DELIVERY_ACCEPTED
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_PICKED_UP
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : a5ff2464-e21b-422c-8c6f-3f75d6d7ea88 and deliveryPartnerId a5ff2464-e21b-422c-8c6f-3f75d6d7ea88 with status DELIVERY_PICKED_UP
2024-11-18 23:24:13 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: a5ff2464-e21b-422c-8c6f-3f75d6d7ea88 for status DELIVERY_PICKED_UP
2024-11-18 23:24:13 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: order1 for deliveryPartnerId: a5ff2464-e21b-422c-8c6f-3f75d6d7ea88 in delivery service
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : CANCELLED
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Updating customer reward points for orderId: order1 and customerId : d8e1d208-c183-4b4c-8f4c-4841aedec024
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Customer d8e1d208-c183-4b4c-8f4c-4841aedec024 reward points updated successfully for orderId: order1 with order amount 500.0
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Order has been cancelled successfully for orderId: order1 and kept in cancelled coll
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-18 23:24:13 ERROR s.e.n.i.o.service.OrderService - No items found in cart for customer: customer1, so no order to be created
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : READY
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 using query : {"orderId":"order1"}
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Order status updated successfully for orderId: order1 to status : READY
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Product details found for productIds: 6a543ad0-1d2b-423e-b9e7-d8600118decc
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Order to be created : Order(orderId=66041ce3-cab9-4962-9217-a78b2777db24, customerId=customer1, merchantId=6a543ad0-1d2b-423e-b9e7-d8600118decc, deliveryPartnerId=null, orderItems=[Item(productId=6a543ad0-1d2b-423e-b9e7-d8600118decc, quantity=10, price=1E+1)], totalPrice=100, status=CREATED, createdDate=1731952453664, updatedDate=1731952453664, createdBy=customer, updatedBy=customer, useRewards=false, useDelivery=true, rewardsAmountUsed=0, customerRewardsPointsUsed=0)
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Order created successfully for customer: customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Starting generateProductUpdateReqObts, products: [Product(productId=6a543ad0-1d2b-423e-b9e7-d8600118decc, productName=null, category=Category(categoryId=6a543ad0-1d2b-423e-b9e7-d8600118decc, categoryName=cat1, categoryDescription=cat1 desc), imageUrl=null, productDescription=null, originalPrice=null, listingPrice=1E+1, availableStock=10, merchantId=6a543ad0-1d2b-423e-b9e7-d8600118decc, pincode=null)], cartItems: [Item(productId=6a543ad0-1d2b-423e-b9e7-d8600118decc, quantity=10, price=1E+1)]
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Updating stock for productId: 6a543ad0-1d2b-423e-b9e7-d8600118decc
2024-11-18 23:24:13 ERROR s.e.n.i.o.service.OrderService - Failed to update product stock for productId: 6a543ad0-1d2b-423e-b9e7-d8600118decc
2024-11-18 23:24:13 ERROR s.e.n.i.o.service.OrderService - Failed to update stock for 1 products out of 1, so deleting previously created order
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Deleting order for orderId: 66041ce3-cab9-4962-9217-a78b2777db24
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Order deleted successfully for orderId: 66041ce3-cab9-4962-9217-a78b2777db24
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-18 23:24:13 ERROR s.e.n.i.o.service.OrderService - Failed to get product details for productIds: 9f38f76a-4aec-4ddb-81ab-15d50959ea57
2024-11-18 23:24:13 ERROR s.e.n.i.o.service.OrderService - Failed to get product details or found non matching products for items in cart for customer: customer1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : COMPLETED
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 82a69295-7c9c-4c42-86dd-41ffc50db13c and deliveryPartnerId 82a69295-7c9c-4c42-86dd-41ffc50db13c with status COMPLETED
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Delivery status updated successfully for orderId: 82a69295-7c9c-4c42-86dd-41ffc50db13c with deliveryPartnerId null for status COMPLETED
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Delivery completed successfully in delivery service for orderId: order1 and deliveryPartnerId: 82a69295-7c9c-4c42-86dd-41ffc50db13c, updating data in order colls.
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Updating merchant earnings for orderId : order1 and merchantId 82a69295-7c9c-4c42-86dd-41ffc50db13c
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Merchant 82a69295-7c9c-4c42-86dd-41ffc50db13c earnings updated successfully for orderId: order1 with order amount 100.0
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Updating customer reward points for orderId: order1 and customerId : 82a69295-7c9c-4c42-86dd-41ffc50db13c
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Customer 82a69295-7c9c-4c42-86dd-41ffc50db13c reward points updated successfully for orderId: order1 with order amount 100.0
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Order has been completed successfully for orderId: order1 and kept in completed coll
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : READY
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 using query : {"orderId":"order1"}
2024-11-18 23:24:13 ERROR s.e.n.i.o.service.OrderService - Failed to update order status for orderId: order1 to status : READY
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : READY
2024-11-18 23:24:13 ERROR s.e.n.i.o.service.OrderService - No order found for orderId: order1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Deleting order for orderId: order1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Order deleted successfully for orderId: order1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Fetching all active orders available for delivery, having status READY and opted for delivery
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Query to fetch active orders for delivery : Document{{status=READY, useDelivery=true}} from orders coll
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Found active orders for delivery having status READY and opted for delivery, count 1
2024-11-18 23:24:13 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : INVALID
2024-11-18 23:24:13 ERROR s.e.n.i.o.service.OrderService - Invalid status provided for orderId: order1
2024-11-18 23:24:13 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [sg.edu.nus.iss.order_service.HomeControllerTest]: HomeControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-11-18 23:24:13 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration sg.edu.nus.iss.order_service.OrderServiceApplication for test class sg.edu.nus.iss.order_service.HomeControllerTest
2024-11-18 23:24:13 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2024-11-18 23:24:14 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-18 23:24:14 INFO  s.e.n.i.o.HomeControllerTest - Starting HomeControllerTest using Java 21.0.3 with PID 15537 (started by rituthori in /Users/rituthori/projects/order-service)
2024-11-18 23:24:14 INFO  s.e.n.i.o.HomeControllerTest - No active profile set, falling back to 1 default profile: "default"
2024-11-18 23:24:14 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2024-11-18 23:24:14 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2024-11-18 23:24:14 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2024-11-18 23:24:14 INFO  s.e.n.i.o.HomeControllerTest - Started HomeControllerTest in 0.652 seconds (process running for 2.657)
2024-11-18 23:24:14 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management"}
2024-11-18 23:24:14 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management Home"}
2024-11-18 23:24:14 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management Home"}
2024-11-18 23:24:14 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management"}
2024-11-18 23:24:29 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-18 23:24:29 INFO  s.e.n.i.o.OrderServiceApplication - Starting OrderServiceApplication using Java 21.0.3 with PID 15580 (/Users/rituthori/projects/order-service/target/classes started by rituthori in /Users/rituthori/projects/order-service)
2024-11-18 23:24:29 INFO  s.e.n.i.o.OrderServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-18 23:24:29 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-11-18 23:24:29 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-11-18 23:24:29 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-11-18 23:24:29 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-11-18 23:24:29 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 1 MongoDB repository interface.
2024-11-18 23:24:29 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-18 23:24:29 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-18 23:24:29 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-18 23:24:29 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2024-11-18 23:24:29 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-18 23:24:29 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 475 ms
2024-11-18 23:24:29 WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderController' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/controller/OrderController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'orderService' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/service/OrderService.class]: Unsatisfied dependency expressed through constructor parameter 4: Error creating bean with name 'orderTypeStrategyContext' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/strategy/context/OrderTypeStrategyContext.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'ACTIVE': Unsatisfied dependency expressed through field 'mongoTemplate': No qualifying bean of type 'org.springframework.data.mongodb.core.MongoTemplate' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2024-11-18 23:24:29 INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2024-11-18 23:24:29 INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-11-18 23:24:29 ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field mongoTemplate in sg.edu.nus.iss.order_service.strategy.order.impl.ActiveOrderStrategy required a bean of type 'org.springframework.data.mongodb.core.MongoTemplate' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.data.mongodb.core.MongoTemplate' in your configuration.

2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.CartController - Retrieving cart for customer with ID 1
2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.CartController - Cart for customer with ID 1 found. Cart: {"customerId":"1","cartItems":[{"productId":"1","quantity":10}],"createdAt":0,"updatedAt":0}
2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.CartController - Adding item Item(productId=1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.CartController - Item added to cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.CartController - Retrieving cart for customer with ID 1
2024-11-18 23:27:09 ERROR s.e.n.i.o.controller.CartController - Cart for customer with ID 1 not found
2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.CartController - Adding item Item(productId=1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 23:27:09 ERROR s.e.n.i.o.controller.CartController - Failed to add item to cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.CartController - Deleting or emptying cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.CartController - Cart deleted/emptied for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.CartController - Removing item Item(productId=1, quantity=10, price=null) from cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.CartController - Item removed from cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.CartController - Deleting or emptying cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.CartController - Some error occurred while trying to delete or empty cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.CartController - Retrieving cart for customer with ID 1
2024-11-18 23:27:09 ERROR s.e.n.i.o.controller.CartController - Some exception happened to get cart for customer with ID 1
2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.CartController - Removing item Item(productId=1, quantity=10, price=null) from cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.CartController - Some error occurred while trying to remove item from cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.CartController - Adding item Item(productId=1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.CartController - Some error occurred while trying to add item added to cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.CartController - Deleting or emptying cart for customer with ID customer1
2024-11-18 23:27:09 ERROR s.e.n.i.o.controller.CartController - Failed to delete cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.CartController - Removing item Item(productId=1, quantity=10, price=null) from cart for customer with ID customer1
2024-11-18 23:27:09 ERROR s.e.n.i.o.controller.CartController - Failed to remove item from cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.OrderController - Creating order from cart for customer with ID 1
2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.OrderController - Order created from cart for customer with ID 1 with response {}
2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.OrderController - Updating order status by orderId order1
2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.OrderController - Optional request body null
2024-11-18 23:27:09 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to update order status READY for orderId order1
2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.OrderController - Retrieving order by orderId 1
2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.OrderController - Order with ID 1 found. Order: {"orderId":"orderId1","createdDate":0,"updatedDate":0,"useRewards":false,"useDelivery":false}
2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.OrderController - Retrieving all active orders for delivery and in READY state
2024-11-18 23:27:09 ERROR s.e.n.i.o.controller.OrderController - No active orders found marked for delivery and in READY state
2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.OrderController - Updating order status by orderId order1
2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.OrderController - Optional request body null
2024-11-18 23:27:09 ERROR s.e.n.i.o.controller.OrderController - Failed to update order status READY for orderId order1
2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.OrderController - V2 :: Creating order from cart for customer with ID 1, if delivery is needed or not true and if reward points are needed or not true
2024-11-18 23:27:09 ERROR s.e.n.i.o.controller.OrderController - V2 :: Failed to create order for customerId 1 using useRewardPoints true and deliveryNeeded true
2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.OrderController - Creating order from cart for customer with ID 1
2024-11-18 23:27:09 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to create order from cart for customer with ID 1
2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.OrderController - Retrieving ACTIVE orders for profileType customer with ID 1
2024-11-18 23:27:09 ERROR s.e.n.i.o.controller.OrderController - No ACTIVE orders found with profileType customer and ID 1
2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.OrderController - V2 :: Creating order from cart for customer with ID 1, if delivery is needed or not true and if reward points are needed or not true
2024-11-18 23:27:09 ERROR s.e.n.i.o.controller.OrderController - V2 :: Some exception happened trying to create order from cart for customer with ID 1
2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.OrderController - Creating order from cart for customer with ID 1
2024-11-18 23:27:09 ERROR s.e.n.i.o.controller.OrderController - Failed to create order for customerId 1
2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.OrderController - Retrieving order by orderId 1
2024-11-18 23:27:09 ERROR s.e.n.i.o.controller.OrderController - Order with ID 1 not found
2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.OrderController - Retrieving order by orderId 1
2024-11-18 23:27:09 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to find order with orderId 1
2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.OrderController - Retrieving all active orders for delivery and in READY state
2024-11-18 23:27:09 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to get all active orders marked for delivery and in READY state
2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.OrderController - Retrieving ACTIVE orders for profileType customer with ID 1
2024-11-18 23:27:09 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to get ACTIVE orders for profileType customer with ID 1
2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.OrderController - Retrieving all active orders for delivery and in READY state
2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.OrderController - Active orders found marked for delivery and in READY state. Orders count : 1
2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.OrderController - Updating order status by orderId order1
2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.OrderController - Optional request body null
2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.OrderController - Order status updated for orderId order1 for status READY
2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.OrderController - V2 :: Creating order from cart for customer with ID 1, if delivery is needed or not true and if reward points are needed or not true
2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.OrderController - V2 :: Order created from cart for customer with ID 1 with response {}
2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.OrderController - Retrieving ACTIVE orders for profileType customer with ID 1
2024-11-18 23:27:09 INFO  s.e.n.i.o.controller.OrderController - ACTIVE orders for profileType customer with ID 1 found. Orders count : 1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. Creating new cart.
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Create cart for customer with ID customer1, merchant id merchant1 and products : [Item(productId=item1, quantity=10, price=null)]
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Creating cart for customer with ID customer1, merchant id merchant1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Cart created successfully for customer with ID customer1 for add item
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Cart is empty after removing last item for customer with ID customer1. So deleting the cart.
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1 with query : Document{{customerId=customer1}}
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Cart deleted/emptied successfully for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Finding cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Adding item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Updating cart for customer with ID customer1, with update document : {"$set":{"cartItems":[{"productId":"item1","quantity":20}],"updatedAt":1731952629620}}
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Cart updated successfully for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. Creating new cart.
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Create cart for customer with ID customer1, merchant id merchant1 and products : [Item(productId=item1, quantity=10, price=null)]
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Creating cart for customer with ID customer1, merchant id merchant1
2024-11-18 23:27:09 ERROR s.e.n.i.o.service.CartService - Failed to create cart for customer with ID customer1 for add item
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Cart is empty after removing last item for customer with ID customer1. So deleting the cart.
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1 with query : Document{{customerId=customer1}}
2024-11-18 23:27:09 ERROR s.e.n.i.o.service.CartService - Failed to delete/empty cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Finding cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Cart not found for customerID customer1.
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. Creating new cart.
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Create cart for customer with ID customer1, merchant id merchant1 and products : [Item(productId=item1, quantity=10, price=null)]
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Creating cart for customer with ID customer1, merchant id merchant1
2024-11-18 23:27:09 ERROR s.e.n.i.o.service.CartService - Failed to create cart for customer with ID customer1 for add item
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=5, price=null) to cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=5, price=null) to cart.
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Updating cart for customer with ID customer1, with update document : {"$set":{"cartItems":[{"productId":"item1","quantity":5}],"updatedAt":1731952629642}} to remove it
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Cart updated successfully for removing item for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. So no action required.
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item3, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item3, quantity=10, price=null) to cart.
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Item Item(productId=item3, quantity=10, price=null) not found in cart for customer with ID customer1. So no action required.
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=5, price=null) to cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=5, price=null) to cart.
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Updating cart for customer with ID customer1, with update document : {"$set":{"cartItems":[{"productId":"item1","quantity":5}],"updatedAt":1731952629648}} to remove it
2024-11-18 23:27:09 ERROR s.e.n.i.o.service.CartService - Failed to update cart for removing item for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Cart is empty after removing last item for customer with ID customer1. So deleting the cart.
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1 with query : Document{{customerId=customer1}}
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.CartService - Cart deleted/emptied successfully for customer with ID customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Product details found for productIds: 34593059-1ee7-49ed-af89-1f834894365d
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Updating customer reward points for orderId: 79260f09-a1a1-46ee-9085-325d057a73a1 and customerId : customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Customer customer1 reward points updated successfully for orderId: 79260f09-a1a1-46ee-9085-325d057a73a1 with order amount 0
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Order to be created : Order(orderId=79260f09-a1a1-46ee-9085-325d057a73a1, customerId=customer1, merchantId=34593059-1ee7-49ed-af89-1f834894365d, deliveryPartnerId=null, orderItems=[Item(productId=34593059-1ee7-49ed-af89-1f834894365d, quantity=10, price=1E+1)], totalPrice=95.0, status=CREATED, createdDate=1731952629680, updatedDate=1731952629680, createdBy=customer, updatedBy=customer, useRewards=true, useDelivery=true, rewardsAmountUsed=5.0, customerRewardsPointsUsed=500.0)
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Order created successfully for customer: customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Starting generateProductUpdateReqObts, products: [Product(productId=34593059-1ee7-49ed-af89-1f834894365d, productName=null, category=Category(categoryId=34593059-1ee7-49ed-af89-1f834894365d, categoryName=cat1, categoryDescription=cat1 desc), imageUrl=null, productDescription=null, originalPrice=null, listingPrice=1E+1, availableStock=10, merchantId=34593059-1ee7-49ed-af89-1f834894365d, pincode=null)], cartItems: [Item(productId=34593059-1ee7-49ed-af89-1f834894365d, quantity=10, price=1E+1)]
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Updating stock for productId: 34593059-1ee7-49ed-af89-1f834894365d
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Product stock updated successfully for productId: 34593059-1ee7-49ed-af89-1f834894365d
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_PICKED_UP
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : aa4e325c-f0b4-424f-b321-1ee30a95a3d4 and deliveryPartnerId aa4e325c-f0b4-424f-b321-1ee30a95a3d4 with status DELIVERY_PICKED_UP
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Delivery status updated successfully for orderId: aa4e325c-f0b4-424f-b321-1ee30a95a3d4 with deliveryPartnerId null for status DELIVERY_PICKED_UP
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Delivery record successfully updated in delivery service for orderId: order1 and deliveryPartnerId: aa4e325c-f0b4-424f-b321-1ee30a95a3d4, updating data in order colls.
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for order: order1 using query : {"orderId":"order1"}
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Successfully update delivery status for order: order1 and kept status : DELIVERY_PICKED_UP
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : COMPLETED
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 7deae5fc-ac5b-4028-8d4f-bce6514bdd3c and deliveryPartnerId 7deae5fc-ac5b-4028-8d4f-bce6514bdd3c with status COMPLETED
2024-11-18 23:27:09 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: 7deae5fc-ac5b-4028-8d4f-bce6514bdd3c for status COMPLETED
2024-11-18 23:27:09 ERROR s.e.n.i.o.service.OrderService - Failed to complete delivery for orderId: order1 for deliveryPartnerId: 7deae5fc-ac5b-4028-8d4f-bce6514bdd3c
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_ACCEPTED
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 7219e8c7-3222-4620-b4f6-5675675d0def and deliveryPartnerId 7219e8c7-3222-4620-b4f6-5675675d0def with status DELIVERY_ACCEPTED
2024-11-18 23:27:09 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: 7219e8c7-3222-4620-b4f6-5675675d0def for status DELIVERY_ACCEPTED
2024-11-18 23:27:09 ERROR s.e.n.i.o.service.OrderService - Failed to start delivery for orderId: order1 for deliveryPartnerId: 7219e8c7-3222-4620-b4f6-5675675d0def
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Fetching order by orderId: order1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Found orders for provided orderId: order1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Deleting order for orderId: order1
2024-11-18 23:27:09 ERROR s.e.n.i.o.service.OrderService - Failed to delete order for orderId: order1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Fetching all active orders available for delivery, having status READY and opted for delivery
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Query to fetch active orders for delivery : Document{{status=READY, useDelivery=true}} from orders coll
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - No active orders found for delivery having status READY and opted for delivery
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Fetching order by orderId: order1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - No orders found for orderId: order1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_ACCEPTED
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : aa2a57c2-70c0-4978-8ba9-1e4eb751eda7 and deliveryPartnerId aa2a57c2-70c0-4978-8ba9-1e4eb751eda7 with status DELIVERY_ACCEPTED
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Delivery status updated successfully for orderId: aa2a57c2-70c0-4978-8ba9-1e4eb751eda7 with deliveryPartnerId null for status DELIVERY_ACCEPTED
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Delivery record successfully created in delivery service for orderId: order1 and deliveryPartnerId: aa2a57c2-70c0-4978-8ba9-1e4eb751eda7, updating data in order colls.
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Starting delivery for order: order1 using query : {"orderId":"order1"}
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Started delivery flow successfully for order: order1 and kept status : DELIVERY_ACCEPTED
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_PICKED_UP
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 2ae57513-ccf0-4aff-9c8e-f1c769954b5e and deliveryPartnerId 2ae57513-ccf0-4aff-9c8e-f1c769954b5e with status DELIVERY_PICKED_UP
2024-11-18 23:27:09 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: 2ae57513-ccf0-4aff-9c8e-f1c769954b5e for status DELIVERY_PICKED_UP
2024-11-18 23:27:09 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: order1 for deliveryPartnerId: 2ae57513-ccf0-4aff-9c8e-f1c769954b5e in delivery service
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : CANCELLED
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Updating customer reward points for orderId: order1 and customerId : f770d6b8-63fc-4420-aceb-8fbbc44dc540
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Customer f770d6b8-63fc-4420-aceb-8fbbc44dc540 reward points updated successfully for orderId: order1 with order amount 500.0
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Order has been cancelled successfully for orderId: order1 and kept in cancelled coll
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-18 23:27:09 ERROR s.e.n.i.o.service.OrderService - No items found in cart for customer: customer1, so no order to be created
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : READY
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 using query : {"orderId":"order1"}
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Order status updated successfully for orderId: order1 to status : READY
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Product details found for productIds: 33fda31b-5f12-4b6b-a824-2ac3a7d9c1c4
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Order to be created : Order(orderId=6fda0503-d8af-4599-9fbc-bede95bb3c2c, customerId=customer1, merchantId=33fda31b-5f12-4b6b-a824-2ac3a7d9c1c4, deliveryPartnerId=null, orderItems=[Item(productId=33fda31b-5f12-4b6b-a824-2ac3a7d9c1c4, quantity=10, price=1E+1)], totalPrice=100, status=CREATED, createdDate=1731952629745, updatedDate=1731952629745, createdBy=customer, updatedBy=customer, useRewards=false, useDelivery=true, rewardsAmountUsed=0, customerRewardsPointsUsed=0)
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Order created successfully for customer: customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Starting generateProductUpdateReqObts, products: [Product(productId=33fda31b-5f12-4b6b-a824-2ac3a7d9c1c4, productName=null, category=Category(categoryId=33fda31b-5f12-4b6b-a824-2ac3a7d9c1c4, categoryName=cat1, categoryDescription=cat1 desc), imageUrl=null, productDescription=null, originalPrice=null, listingPrice=1E+1, availableStock=10, merchantId=33fda31b-5f12-4b6b-a824-2ac3a7d9c1c4, pincode=null)], cartItems: [Item(productId=33fda31b-5f12-4b6b-a824-2ac3a7d9c1c4, quantity=10, price=1E+1)]
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Updating stock for productId: 33fda31b-5f12-4b6b-a824-2ac3a7d9c1c4
2024-11-18 23:27:09 ERROR s.e.n.i.o.service.OrderService - Failed to update product stock for productId: 33fda31b-5f12-4b6b-a824-2ac3a7d9c1c4
2024-11-18 23:27:09 ERROR s.e.n.i.o.service.OrderService - Failed to update stock for 1 products out of 1, so deleting previously created order
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Deleting order for orderId: 6fda0503-d8af-4599-9fbc-bede95bb3c2c
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Order deleted successfully for orderId: 6fda0503-d8af-4599-9fbc-bede95bb3c2c
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-18 23:27:09 ERROR s.e.n.i.o.service.OrderService - Failed to get product details for productIds: 2899b5d8-a1ed-4c88-9125-3e49311eff8b
2024-11-18 23:27:09 ERROR s.e.n.i.o.service.OrderService - Failed to get product details or found non matching products for items in cart for customer: customer1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : COMPLETED
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : bd8395db-9897-4aa4-8b73-a0c173734a3d and deliveryPartnerId bd8395db-9897-4aa4-8b73-a0c173734a3d with status COMPLETED
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Delivery status updated successfully for orderId: bd8395db-9897-4aa4-8b73-a0c173734a3d with deliveryPartnerId null for status COMPLETED
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Delivery completed successfully in delivery service for orderId: order1 and deliveryPartnerId: bd8395db-9897-4aa4-8b73-a0c173734a3d, updating data in order colls.
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Updating merchant earnings for orderId : order1 and merchantId bd8395db-9897-4aa4-8b73-a0c173734a3d
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Merchant bd8395db-9897-4aa4-8b73-a0c173734a3d earnings updated successfully for orderId: order1 with order amount 100.0
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Updating customer reward points for orderId: order1 and customerId : bd8395db-9897-4aa4-8b73-a0c173734a3d
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Customer bd8395db-9897-4aa4-8b73-a0c173734a3d reward points updated successfully for orderId: order1 with order amount 100.0
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Order has been completed successfully for orderId: order1 and kept in completed coll
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : READY
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 using query : {"orderId":"order1"}
2024-11-18 23:27:09 ERROR s.e.n.i.o.service.OrderService - Failed to update order status for orderId: order1 to status : READY
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : READY
2024-11-18 23:27:09 ERROR s.e.n.i.o.service.OrderService - No order found for orderId: order1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Deleting order for orderId: order1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Order deleted successfully for orderId: order1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Fetching all active orders available for delivery, having status READY and opted for delivery
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Query to fetch active orders for delivery : Document{{status=READY, useDelivery=true}} from orders coll
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Found active orders for delivery having status READY and opted for delivery, count 1
2024-11-18 23:27:09 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : INVALID
2024-11-18 23:27:09 ERROR s.e.n.i.o.service.OrderService - Invalid status provided for orderId: order1
2024-11-18 23:27:09 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [sg.edu.nus.iss.order_service.HomeControllerTest]: HomeControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-11-18 23:27:09 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration sg.edu.nus.iss.order_service.OrderServiceApplication for test class sg.edu.nus.iss.order_service.HomeControllerTest
2024-11-18 23:27:09 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2024-11-18 23:27:10 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-18 23:27:10 INFO  s.e.n.i.o.HomeControllerTest - Starting HomeControllerTest using Java 21.0.3 with PID 15630 (started by rituthori in /Users/rituthori/projects/order-service)
2024-11-18 23:27:10 INFO  s.e.n.i.o.HomeControllerTest - No active profile set, falling back to 1 default profile: "default"
2024-11-18 23:27:10 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2024-11-18 23:27:10 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2024-11-18 23:27:10 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2024-11-18 23:27:10 INFO  s.e.n.i.o.HomeControllerTest - Started HomeControllerTest in 0.678 seconds (process running for 2.747)
2024-11-18 23:27:10 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management"}
2024-11-18 23:27:10 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management Home"}
2024-11-18 23:27:10 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management Home"}
2024-11-18 23:27:10 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management"}
2024-11-18 23:27:17 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-18 23:27:17 INFO  s.e.n.i.o.OrderServiceApplication - Starting OrderServiceApplication using Java 21.0.3 with PID 15675 (/Users/rituthori/projects/order-service/target/classes started by rituthori in /Users/rituthori/projects/order-service)
2024-11-18 23:27:17 INFO  s.e.n.i.o.OrderServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-18 23:27:17 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-11-18 23:27:17 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-11-18 23:27:17 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-11-18 23:27:17 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-11-18 23:27:17 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 1 MongoDB repository interface.
2024-11-18 23:27:17 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-18 23:27:17 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-18 23:27:17 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-18 23:27:17 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2024-11-18 23:27:17 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-18 23:27:17 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 496 ms
2024-11-18 23:27:17 WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderController' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/controller/OrderController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'orderService' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/service/OrderService.class]: Unsatisfied dependency expressed through constructor parameter 4: Error creating bean with name 'orderTypeStrategyContext' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/strategy/context/OrderTypeStrategyContext.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'ACTIVE': Unsatisfied dependency expressed through field 'mongoTemplate': No qualifying bean of type 'org.springframework.data.mongodb.core.MongoTemplate' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2024-11-18 23:27:17 INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2024-11-18 23:27:17 INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-11-18 23:27:17 ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field mongoTemplate in sg.edu.nus.iss.order_service.strategy.order.impl.ActiveOrderStrategy required a bean of type 'org.springframework.data.mongodb.core.MongoTemplate' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.data.mongodb.core.MongoTemplate' in your configuration.

2024-11-18 23:27:49 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-18 23:27:49 INFO  s.e.n.i.o.OrderServiceApplication - Starting OrderServiceApplication using Java 21.0.3 with PID 15685 (/Users/rituthori/projects/order-service/target/classes started by rituthori in /Users/rituthori/projects/order-service)
2024-11-18 23:27:49 INFO  s.e.n.i.o.OrderServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-18 23:27:49 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-11-18 23:27:49 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-11-18 23:27:49 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-11-18 23:27:49 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-11-18 23:27:49 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 1 MongoDB repository interface.
2024-11-18 23:27:49 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-18 23:27:49 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-18 23:27:49 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-18 23:27:49 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2024-11-18 23:27:49 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-18 23:27:50 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 479 ms
2024-11-18 23:27:50 WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderController' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/controller/OrderController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'orderService' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/service/OrderService.class]: Unsatisfied dependency expressed through constructor parameter 4: Error creating bean with name 'orderTypeStrategyContext' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/strategy/context/OrderTypeStrategyContext.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'ACTIVE': Unsatisfied dependency expressed through field 'orderRepository': Error creating bean with name 'orderRepository' defined in sg.edu.nus.iss.order_service.repository.OrderRepository defined in @EnableMongoRepositories declared on MongoRepositoriesRegistrar.EnableMongoRepositoriesConfiguration: Cannot resolve reference to bean 'mongoTemplate' while setting bean property 'mongoOperations'
2024-11-18 23:27:50 INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2024-11-18 23:27:50 INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-11-18 23:27:50 ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field orderRepository in sg.edu.nus.iss.order_service.strategy.order.impl.ActiveOrderStrategy required a bean named 'mongoTemplate' that could not be found.


Action:

Consider defining a bean named 'mongoTemplate' in your configuration.

2024-11-18 23:31:37 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-18 23:31:37 INFO  s.e.n.i.o.OrderServiceApplication - Starting OrderServiceApplication using Java 21.0.3 with PID 15748 (/Users/rituthori/projects/order-service/target/classes started by rituthori in /Users/rituthori/projects/order-service)
2024-11-18 23:31:37 INFO  s.e.n.i.o.OrderServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-18 23:31:37 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-11-18 23:31:37 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-11-18 23:31:37 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-11-18 23:31:37 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-11-18 23:31:37 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 1 MongoDB repository interface.
2024-11-18 23:31:38 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-18 23:31:38 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-18 23:31:38 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-18 23:31:38 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2024-11-18 23:31:38 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-18 23:31:38 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 491 ms
2024-11-18 23:31:38 WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderController' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/controller/OrderController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'orderService' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/service/OrderService.class]: Unsatisfied dependency expressed through constructor parameter 4: Error creating bean with name 'orderTypeStrategyContext' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/strategy/context/OrderTypeStrategyContext.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'ACTIVE': Unsatisfied dependency expressed through field 'orderRepository': Error creating bean with name 'orderRepository' defined in sg.edu.nus.iss.order_service.repository.OrderRepository defined in @EnableMongoRepositories declared on MongoRepositoriesRegistrar.EnableMongoRepositoriesConfiguration: Cannot resolve reference to bean 'mongoTemplate' while setting bean property 'mongoOperations'
2024-11-18 23:31:38 INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2024-11-18 23:31:38 INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-11-18 23:31:38 ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field orderRepository in sg.edu.nus.iss.order_service.strategy.order.impl.ActiveOrderStrategy required a bean named 'mongoTemplate' that could not be found.


Action:

Consider defining a bean named 'mongoTemplate' in your configuration.

2024-11-18 23:35:19 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-18 23:35:19 INFO  s.e.n.i.o.OrderServiceApplication - Starting OrderServiceApplication using Java 21.0.3 with PID 15807 (/Users/rituthori/projects/order-service/target/classes started by rituthori in /Users/rituthori/projects/order-service)
2024-11-18 23:35:19 INFO  s.e.n.i.o.OrderServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-18 23:35:19 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-11-18 23:35:19 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-11-18 23:35:20 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-11-18 23:35:20 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-11-18 23:35:20 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 18 ms. Found 1 MongoDB repository interface.
2024-11-18 23:35:20 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-18 23:35:20 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-18 23:35:20 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-18 23:35:20 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2024-11-18 23:35:20 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-18 23:35:20 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 492 ms
2024-11-18 23:35:20 WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderController' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/controller/OrderController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'orderService' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/service/OrderService.class]: Unsatisfied dependency expressed through constructor parameter 4: Error creating bean with name 'orderTypeStrategyContext' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/strategy/context/OrderTypeStrategyContext.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'ACTIVE': Unsatisfied dependency expressed through field 'orderRepository': Error creating bean with name 'orderRepository' defined in sg.edu.nus.iss.order_service.repository.OrderRepository defined in @EnableMongoRepositories declared on MongoRepositoriesRegistrar.EnableMongoRepositoriesConfiguration: Cannot resolve reference to bean 'mongoTemplate' while setting bean property 'mongoOperations'
2024-11-18 23:35:20 INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2024-11-18 23:35:20 INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-11-18 23:35:20 ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field orderRepository in sg.edu.nus.iss.order_service.strategy.order.impl.ActiveOrderStrategy required a bean named 'mongoTemplate' that could not be found.


Action:

Consider defining a bean named 'mongoTemplate' in your configuration.

2024-11-18 23:35:53 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-18 23:35:53 INFO  s.e.n.i.o.OrderServiceApplication - Starting OrderServiceApplication using Java 21.0.3 with PID 15815 (/Users/rituthori/projects/order-service/target/classes started by rituthori in /Users/rituthori/projects/order-service)
2024-11-18 23:35:53 INFO  s.e.n.i.o.OrderServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-18 23:35:53 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-11-18 23:35:53 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-11-18 23:35:53 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-11-18 23:35:53 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-11-18 23:35:53 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 1 MongoDB repository interface.
2024-11-18 23:35:53 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-18 23:35:53 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-18 23:35:53 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-18 23:35:53 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2024-11-18 23:35:53 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-18 23:35:53 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 475 ms
2024-11-18 23:35:53 WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderController' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/controller/OrderController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'orderService' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/service/OrderService.class]: Unsatisfied dependency expressed through constructor parameter 4: Error creating bean with name 'orderTypeStrategyContext' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/strategy/context/OrderTypeStrategyContext.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'ACTIVE': Unsatisfied dependency expressed through field 'orderRepository': Error creating bean with name 'orderRepository' defined in sg.edu.nus.iss.order_service.repository.OrderRepository defined in @EnableMongoRepositories declared on MongoRepositoriesRegistrar.EnableMongoRepositoriesConfiguration: Cannot resolve reference to bean 'mongoTemplate' while setting bean property 'mongoOperations'
2024-11-18 23:35:53 INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2024-11-18 23:35:53 INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-11-18 23:35:53 ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field orderRepository in sg.edu.nus.iss.order_service.strategy.order.impl.ActiveOrderStrategy required a bean named 'mongoTemplate' that could not be found.


Action:

Consider defining a bean named 'mongoTemplate' in your configuration.

2024-11-18 23:36:35 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-18 23:36:35 INFO  s.e.n.i.o.OrderServiceApplication - Starting OrderServiceApplication using Java 21.0.3 with PID 15838 (/Users/rituthori/projects/order-service/target/classes started by rituthori in /Users/rituthori/projects/order-service)
2024-11-18 23:36:35 INFO  s.e.n.i.o.OrderServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-18 23:36:35 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-11-18 23:36:35 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-11-18 23:36:35 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-11-18 23:36:35 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-11-18 23:36:35 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 18 ms. Found 1 MongoDB repository interface.
2024-11-18 23:36:35 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-18 23:36:35 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-18 23:36:35 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-18 23:36:35 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2024-11-18 23:36:35 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-18 23:36:35 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 485 ms
2024-11-18 23:36:35 WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderController' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/controller/OrderController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'orderService' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/service/OrderService.class]: Unsatisfied dependency expressed through constructor parameter 4: Error creating bean with name 'orderTypeStrategyContext' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/strategy/context/OrderTypeStrategyContext.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'ACTIVE': Unsatisfied dependency expressed through field 'orderRepository': Error creating bean with name 'orderRepository' defined in sg.edu.nus.iss.order_service.repository.OrderRepository defined in @EnableMongoRepositories declared on MongoRepositoriesRegistrar.EnableMongoRepositoriesConfiguration: Cannot resolve reference to bean 'mongoTemplate' while setting bean property 'mongoOperations'
2024-11-18 23:36:35 INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2024-11-18 23:36:35 INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-11-18 23:36:35 ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field orderRepository in sg.edu.nus.iss.order_service.strategy.order.impl.ActiveOrderStrategy required a bean named 'mongoTemplate' that could not be found.


Action:

Consider defining a bean named 'mongoTemplate' in your configuration.

2024-11-18 23:38:08 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-18 23:38:08 INFO  s.e.n.i.o.OrderServiceApplication - Starting OrderServiceApplication using Java 21.0.3 with PID 15850 (/Users/rituthori/projects/order-service/target/classes started by rituthori in /Users/rituthori/projects/order-service)
2024-11-18 23:38:08 INFO  s.e.n.i.o.OrderServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-18 23:38:08 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-11-18 23:38:08 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-11-18 23:38:09 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-11-18 23:38:09 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-11-18 23:38:09 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 1 MongoDB repository interface.
2024-11-18 23:38:09 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-18 23:38:09 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-18 23:38:09 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-18 23:38:09 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2024-11-18 23:38:09 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-18 23:38:09 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 479 ms
2024-11-18 23:38:09 WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderController' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/controller/OrderController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'orderService' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/service/OrderService.class]: Unsatisfied dependency expressed through constructor parameter 4: Error creating bean with name 'orderTypeStrategyContext' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/strategy/context/OrderTypeStrategyContext.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'ACTIVE': Unsatisfied dependency expressed through field 'orderRepository': Error creating bean with name 'orderRepository' defined in sg.edu.nus.iss.order_service.repository.OrderRepository defined in @EnableMongoRepositories declared on MongoRepositoriesRegistrar.EnableMongoRepositoriesConfiguration: Cannot resolve reference to bean 'mongoTemplate' while setting bean property 'mongoOperations'
2024-11-18 23:38:09 INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2024-11-18 23:38:09 INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-11-18 23:38:09 ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field orderRepository in sg.edu.nus.iss.order_service.strategy.order.impl.ActiveOrderStrategy required a bean named 'mongoTemplate' that could not be found.


Action:

Consider defining a bean named 'mongoTemplate' in your configuration.

2024-11-18 23:39:55 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-18 23:39:55 INFO  s.e.n.i.o.OrderServiceApplication - Starting OrderServiceApplication using Java 21.0.3 with PID 15869 (/Users/rituthori/projects/order-service/target/classes started by rituthori in /Users/rituthori/projects/order-service)
2024-11-18 23:39:55 INFO  s.e.n.i.o.OrderServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-18 23:39:55 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-11-18 23:39:55 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-11-18 23:39:56 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-11-18 23:39:56 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-11-18 23:39:56 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 1 MongoDB repository interface.
2024-11-18 23:39:56 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-18 23:39:56 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-18 23:39:56 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-18 23:39:56 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2024-11-18 23:39:56 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-18 23:39:56 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 483 ms
2024-11-18 23:39:56 WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderController' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/controller/OrderController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'orderService' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/service/OrderService.class]: Unsatisfied dependency expressed through constructor parameter 4: Error creating bean with name 'orderTypeStrategyContext' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/strategy/context/OrderTypeStrategyContext.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'ACTIVE': Unsatisfied dependency expressed through field 'orderRepository': Error creating bean with name 'orderRepository' defined in sg.edu.nus.iss.order_service.repository.OrderRepository defined in @EnableMongoRepositories declared on MongoRepositoriesRegistrar.EnableMongoRepositoriesConfiguration: Cannot resolve reference to bean 'mongoTemplate' while setting bean property 'mongoOperations'
2024-11-18 23:39:56 INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2024-11-18 23:39:56 INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-11-18 23:39:56 ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field orderRepository in sg.edu.nus.iss.order_service.strategy.order.impl.ActiveOrderStrategy required a bean named 'mongoTemplate' that could not be found.


Action:

Consider defining a bean named 'mongoTemplate' in your configuration.

2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.CartController - Retrieving cart for customer with ID 1
2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.CartController - Cart for customer with ID 1 found. Cart: {"customerId":"1","cartItems":[{"productId":"1","quantity":10}],"createdAt":0,"updatedAt":0}
2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.CartController - Adding item Item(productId=1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.CartController - Item added to cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.CartController - Retrieving cart for customer with ID 1
2024-11-18 23:40:13 ERROR s.e.n.i.o.controller.CartController - Cart for customer with ID 1 not found
2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.CartController - Adding item Item(productId=1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 23:40:13 ERROR s.e.n.i.o.controller.CartController - Failed to add item to cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.CartController - Deleting or emptying cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.CartController - Cart deleted/emptied for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.CartController - Removing item Item(productId=1, quantity=10, price=null) from cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.CartController - Item removed from cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.CartController - Deleting or emptying cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.CartController - Some error occurred while trying to delete or empty cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.CartController - Retrieving cart for customer with ID 1
2024-11-18 23:40:13 ERROR s.e.n.i.o.controller.CartController - Some exception happened to get cart for customer with ID 1
2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.CartController - Removing item Item(productId=1, quantity=10, price=null) from cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.CartController - Some error occurred while trying to remove item from cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.CartController - Adding item Item(productId=1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.CartController - Some error occurred while trying to add item added to cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.CartController - Deleting or emptying cart for customer with ID customer1
2024-11-18 23:40:13 ERROR s.e.n.i.o.controller.CartController - Failed to delete cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.CartController - Removing item Item(productId=1, quantity=10, price=null) from cart for customer with ID customer1
2024-11-18 23:40:13 ERROR s.e.n.i.o.controller.CartController - Failed to remove item from cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.OrderController - Creating order from cart for customer with ID 1
2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.OrderController - Order created from cart for customer with ID 1 with response {}
2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.OrderController - Updating order status by orderId order1
2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.OrderController - Optional request body null
2024-11-18 23:40:13 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to update order status READY for orderId order1
2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.OrderController - Retrieving order by orderId 1
2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.OrderController - Order with ID 1 found. Order: {"orderId":"orderId1","createdDate":0,"updatedDate":0,"useRewards":false,"useDelivery":false}
2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.OrderController - Retrieving all active orders for delivery and in READY state
2024-11-18 23:40:13 ERROR s.e.n.i.o.controller.OrderController - No active orders found marked for delivery and in READY state
2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.OrderController - Updating order status by orderId order1
2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.OrderController - Optional request body null
2024-11-18 23:40:13 ERROR s.e.n.i.o.controller.OrderController - Failed to update order status READY for orderId order1
2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.OrderController - V2 :: Creating order from cart for customer with ID 1, if delivery is needed or not true and if reward points are needed or not true
2024-11-18 23:40:13 ERROR s.e.n.i.o.controller.OrderController - V2 :: Failed to create order for customerId 1 using useRewardPoints true and deliveryNeeded true
2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.OrderController - Creating order from cart for customer with ID 1
2024-11-18 23:40:13 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to create order from cart for customer with ID 1
2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.OrderController - Retrieving ACTIVE orders for profileType customer with ID 1
2024-11-18 23:40:13 ERROR s.e.n.i.o.controller.OrderController - No ACTIVE orders found with profileType customer and ID 1
2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.OrderController - V2 :: Creating order from cart for customer with ID 1, if delivery is needed or not true and if reward points are needed or not true
2024-11-18 23:40:13 ERROR s.e.n.i.o.controller.OrderController - V2 :: Some exception happened trying to create order from cart for customer with ID 1
2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.OrderController - Creating order from cart for customer with ID 1
2024-11-18 23:40:13 ERROR s.e.n.i.o.controller.OrderController - Failed to create order for customerId 1
2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.OrderController - Retrieving order by orderId 1
2024-11-18 23:40:13 ERROR s.e.n.i.o.controller.OrderController - Order with ID 1 not found
2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.OrderController - Retrieving order by orderId 1
2024-11-18 23:40:13 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to find order with orderId 1
2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.OrderController - Retrieving all active orders for delivery and in READY state
2024-11-18 23:40:13 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to get all active orders marked for delivery and in READY state
2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.OrderController - Retrieving ACTIVE orders for profileType customer with ID 1
2024-11-18 23:40:13 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to get ACTIVE orders for profileType customer with ID 1
2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.OrderController - Retrieving all active orders for delivery and in READY state
2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.OrderController - Active orders found marked for delivery and in READY state. Orders count : 1
2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.OrderController - Updating order status by orderId order1
2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.OrderController - Optional request body null
2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.OrderController - Order status updated for orderId order1 for status READY
2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.OrderController - V2 :: Creating order from cart for customer with ID 1, if delivery is needed or not true and if reward points are needed or not true
2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.OrderController - V2 :: Order created from cart for customer with ID 1 with response {}
2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.OrderController - Retrieving ACTIVE orders for profileType customer with ID 1
2024-11-18 23:40:13 INFO  s.e.n.i.o.controller.OrderController - ACTIVE orders for profileType customer with ID 1 found. Orders count : 1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. Creating new cart.
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Create cart for customer with ID customer1, merchant id merchant1 and products : [Item(productId=item1, quantity=10, price=null)]
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Creating cart for customer with ID customer1, merchant id merchant1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Cart created successfully for customer with ID customer1 for add item
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Cart is empty after removing last item for customer with ID customer1. So deleting the cart.
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1 with query : Document{{customerId=customer1}}
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Cart deleted/emptied successfully for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Finding cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Adding item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Updating cart for customer with ID customer1, with update document : {"$set":{"cartItems":[{"productId":"item1","quantity":20}],"updatedAt":1731953413659}}
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Cart updated successfully for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. Creating new cart.
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Create cart for customer with ID customer1, merchant id merchant1 and products : [Item(productId=item1, quantity=10, price=null)]
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Creating cart for customer with ID customer1, merchant id merchant1
2024-11-18 23:40:13 ERROR s.e.n.i.o.service.CartService - Failed to create cart for customer with ID customer1 for add item
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Cart is empty after removing last item for customer with ID customer1. So deleting the cart.
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1 with query : Document{{customerId=customer1}}
2024-11-18 23:40:13 ERROR s.e.n.i.o.service.CartService - Failed to delete/empty cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Finding cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Cart not found for customerID customer1.
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. Creating new cart.
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Create cart for customer with ID customer1, merchant id merchant1 and products : [Item(productId=item1, quantity=10, price=null)]
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Creating cart for customer with ID customer1, merchant id merchant1
2024-11-18 23:40:13 ERROR s.e.n.i.o.service.CartService - Failed to create cart for customer with ID customer1 for add item
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=5, price=null) to cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=5, price=null) to cart.
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Updating cart for customer with ID customer1, with update document : {"$set":{"cartItems":[{"productId":"item1","quantity":5}],"updatedAt":1731953413678}} to remove it
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Cart updated successfully for removing item for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. So no action required.
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item3, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item3, quantity=10, price=null) to cart.
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Item Item(productId=item3, quantity=10, price=null) not found in cart for customer with ID customer1. So no action required.
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=5, price=null) to cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=5, price=null) to cart.
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Updating cart for customer with ID customer1, with update document : {"$set":{"cartItems":[{"productId":"item1","quantity":5}],"updatedAt":1731953413685}} to remove it
2024-11-18 23:40:13 ERROR s.e.n.i.o.service.CartService - Failed to update cart for removing item for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Cart is empty after removing last item for customer with ID customer1. So deleting the cart.
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1 with query : Document{{customerId=customer1}}
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.CartService - Cart deleted/emptied successfully for customer with ID customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Product details found for productIds: 358f9248-a888-46d7-87c5-ab8cb18c0275
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Updating customer reward points for orderId: eac67340-426a-4da8-8fd1-dacc3a496f1d and customerId : customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Customer customer1 reward points updated successfully for orderId: eac67340-426a-4da8-8fd1-dacc3a496f1d with order amount 0
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Order to be created : Order(orderId=eac67340-426a-4da8-8fd1-dacc3a496f1d, customerId=customer1, merchantId=358f9248-a888-46d7-87c5-ab8cb18c0275, deliveryPartnerId=null, orderItems=[Item(productId=358f9248-a888-46d7-87c5-ab8cb18c0275, quantity=10, price=1E+1)], totalPrice=95.0, status=CREATED, createdDate=1731953413719, updatedDate=1731953413719, createdBy=customer, updatedBy=customer, useRewards=true, useDelivery=true, rewardsAmountUsed=5.0, customerRewardsPointsUsed=500.0)
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Order created successfully for customer: customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Starting generateProductUpdateReqObts, products: [Product(productId=358f9248-a888-46d7-87c5-ab8cb18c0275, productName=null, category=Category(categoryId=358f9248-a888-46d7-87c5-ab8cb18c0275, categoryName=cat1, categoryDescription=cat1 desc), imageUrl=null, productDescription=null, originalPrice=null, listingPrice=1E+1, availableStock=10, merchantId=358f9248-a888-46d7-87c5-ab8cb18c0275, pincode=null)], cartItems: [Item(productId=358f9248-a888-46d7-87c5-ab8cb18c0275, quantity=10, price=1E+1)]
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Updating stock for productId: 358f9248-a888-46d7-87c5-ab8cb18c0275
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Product stock updated successfully for productId: 358f9248-a888-46d7-87c5-ab8cb18c0275
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_PICKED_UP
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 13aad0e8-4059-4361-b06d-3626e751f8cb and deliveryPartnerId 13aad0e8-4059-4361-b06d-3626e751f8cb with status DELIVERY_PICKED_UP
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Delivery status updated successfully for orderId: 13aad0e8-4059-4361-b06d-3626e751f8cb with deliveryPartnerId null for status DELIVERY_PICKED_UP
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Delivery record successfully updated in delivery service for orderId: order1 and deliveryPartnerId: 13aad0e8-4059-4361-b06d-3626e751f8cb, updating data in order colls.
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for order: order1 using query : {"orderId":"order1"}
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Successfully update delivery status for order: order1 and kept status : DELIVERY_PICKED_UP
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : COMPLETED
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 65bae629-9781-40f2-8971-cd8c13977491 and deliveryPartnerId 65bae629-9781-40f2-8971-cd8c13977491 with status COMPLETED
2024-11-18 23:40:13 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: 65bae629-9781-40f2-8971-cd8c13977491 for status COMPLETED
2024-11-18 23:40:13 ERROR s.e.n.i.o.service.OrderService - Failed to complete delivery for orderId: order1 for deliveryPartnerId: 65bae629-9781-40f2-8971-cd8c13977491
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_ACCEPTED
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 8dc253ee-d2f7-412f-a640-b0bf066d237e and deliveryPartnerId 8dc253ee-d2f7-412f-a640-b0bf066d237e with status DELIVERY_ACCEPTED
2024-11-18 23:40:13 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: 8dc253ee-d2f7-412f-a640-b0bf066d237e for status DELIVERY_ACCEPTED
2024-11-18 23:40:13 ERROR s.e.n.i.o.service.OrderService - Failed to start delivery for orderId: order1 for deliveryPartnerId: 8dc253ee-d2f7-412f-a640-b0bf066d237e
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Fetching order by orderId: order1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Found orders for provided orderId: order1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Deleting order for orderId: order1
2024-11-18 23:40:13 ERROR s.e.n.i.o.service.OrderService - Failed to delete order for orderId: order1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Fetching all active orders available for delivery, having status READY and opted for delivery
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Query to fetch active orders for delivery : Document{{status=READY, useDelivery=true}} from orders coll
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - No active orders found for delivery having status READY and opted for delivery
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Fetching order by orderId: order1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - No orders found for orderId: order1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_ACCEPTED
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : e0491845-88ef-4ba0-9645-d0f75fcbe749 and deliveryPartnerId e0491845-88ef-4ba0-9645-d0f75fcbe749 with status DELIVERY_ACCEPTED
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Delivery status updated successfully for orderId: e0491845-88ef-4ba0-9645-d0f75fcbe749 with deliveryPartnerId null for status DELIVERY_ACCEPTED
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Delivery record successfully created in delivery service for orderId: order1 and deliveryPartnerId: e0491845-88ef-4ba0-9645-d0f75fcbe749, updating data in order colls.
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Starting delivery for order: order1 using query : {"orderId":"order1"}
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Started delivery flow successfully for order: order1 and kept status : DELIVERY_ACCEPTED
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_PICKED_UP
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 0b6399e5-db91-463c-be7e-96a977b1b54f and deliveryPartnerId 0b6399e5-db91-463c-be7e-96a977b1b54f with status DELIVERY_PICKED_UP
2024-11-18 23:40:13 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: 0b6399e5-db91-463c-be7e-96a977b1b54f for status DELIVERY_PICKED_UP
2024-11-18 23:40:13 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: order1 for deliveryPartnerId: 0b6399e5-db91-463c-be7e-96a977b1b54f in delivery service
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : CANCELLED
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Updating customer reward points for orderId: order1 and customerId : 52287cd1-4373-48ec-b142-799edb878bc4
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Customer 52287cd1-4373-48ec-b142-799edb878bc4 reward points updated successfully for orderId: order1 with order amount 500.0
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Order has been cancelled successfully for orderId: order1 and kept in cancelled coll
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-18 23:40:13 ERROR s.e.n.i.o.service.OrderService - No items found in cart for customer: customer1, so no order to be created
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : READY
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 using query : {"orderId":"order1"}
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Order status updated successfully for orderId: order1 to status : READY
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Product details found for productIds: 224e9230-e8a1-4821-abb4-625522c04db1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Order to be created : Order(orderId=05178c2f-d213-41b3-b257-7471821167b8, customerId=customer1, merchantId=224e9230-e8a1-4821-abb4-625522c04db1, deliveryPartnerId=null, orderItems=[Item(productId=224e9230-e8a1-4821-abb4-625522c04db1, quantity=10, price=1E+1)], totalPrice=100, status=CREATED, createdDate=1731953413778, updatedDate=1731953413778, createdBy=customer, updatedBy=customer, useRewards=false, useDelivery=true, rewardsAmountUsed=0, customerRewardsPointsUsed=0)
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Order created successfully for customer: customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Starting generateProductUpdateReqObts, products: [Product(productId=224e9230-e8a1-4821-abb4-625522c04db1, productName=null, category=Category(categoryId=224e9230-e8a1-4821-abb4-625522c04db1, categoryName=cat1, categoryDescription=cat1 desc), imageUrl=null, productDescription=null, originalPrice=null, listingPrice=1E+1, availableStock=10, merchantId=224e9230-e8a1-4821-abb4-625522c04db1, pincode=null)], cartItems: [Item(productId=224e9230-e8a1-4821-abb4-625522c04db1, quantity=10, price=1E+1)]
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Updating stock for productId: 224e9230-e8a1-4821-abb4-625522c04db1
2024-11-18 23:40:13 ERROR s.e.n.i.o.service.OrderService - Failed to update product stock for productId: 224e9230-e8a1-4821-abb4-625522c04db1
2024-11-18 23:40:13 ERROR s.e.n.i.o.service.OrderService - Failed to update stock for 1 products out of 1, so deleting previously created order
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Deleting order for orderId: 05178c2f-d213-41b3-b257-7471821167b8
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Order deleted successfully for orderId: 05178c2f-d213-41b3-b257-7471821167b8
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-18 23:40:13 ERROR s.e.n.i.o.service.OrderService - Failed to get product details for productIds: b9875592-8841-425e-9608-40711b735356
2024-11-18 23:40:13 ERROR s.e.n.i.o.service.OrderService - Failed to get product details or found non matching products for items in cart for customer: customer1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : COMPLETED
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : b16386f6-9793-4c86-8b41-4e5381b85c9a and deliveryPartnerId b16386f6-9793-4c86-8b41-4e5381b85c9a with status COMPLETED
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Delivery status updated successfully for orderId: b16386f6-9793-4c86-8b41-4e5381b85c9a with deliveryPartnerId null for status COMPLETED
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Delivery completed successfully in delivery service for orderId: order1 and deliveryPartnerId: b16386f6-9793-4c86-8b41-4e5381b85c9a, updating data in order colls.
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Updating merchant earnings for orderId : order1 and merchantId b16386f6-9793-4c86-8b41-4e5381b85c9a
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Merchant b16386f6-9793-4c86-8b41-4e5381b85c9a earnings updated successfully for orderId: order1 with order amount 100.0
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Updating customer reward points for orderId: order1 and customerId : b16386f6-9793-4c86-8b41-4e5381b85c9a
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Customer b16386f6-9793-4c86-8b41-4e5381b85c9a reward points updated successfully for orderId: order1 with order amount 100.0
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Order has been completed successfully for orderId: order1 and kept in completed coll
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : READY
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 using query : {"orderId":"order1"}
2024-11-18 23:40:13 ERROR s.e.n.i.o.service.OrderService - Failed to update order status for orderId: order1 to status : READY
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : READY
2024-11-18 23:40:13 ERROR s.e.n.i.o.service.OrderService - No order found for orderId: order1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Deleting order for orderId: order1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Order deleted successfully for orderId: order1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Fetching all active orders available for delivery, having status READY and opted for delivery
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Query to fetch active orders for delivery : Document{{status=READY, useDelivery=true}} from orders coll
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Found active orders for delivery having status READY and opted for delivery, count 1
2024-11-18 23:40:13 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : INVALID
2024-11-18 23:40:13 ERROR s.e.n.i.o.service.OrderService - Invalid status provided for orderId: order1
2024-11-18 23:40:13 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [sg.edu.nus.iss.order_service.HomeControllerTest]: HomeControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-11-18 23:40:13 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration sg.edu.nus.iss.order_service.OrderServiceApplication for test class sg.edu.nus.iss.order_service.HomeControllerTest
2024-11-18 23:40:13 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2024-11-18 23:40:14 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-18 23:40:14 INFO  s.e.n.i.o.HomeControllerTest - Starting HomeControllerTest using Java 21.0.3 with PID 15897 (started by rituthori in /Users/rituthori/projects/order-service)
2024-11-18 23:40:14 INFO  s.e.n.i.o.HomeControllerTest - No active profile set, falling back to 1 default profile: "default"
2024-11-18 23:40:14 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2024-11-18 23:40:14 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2024-11-18 23:40:14 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2024-11-18 23:40:14 INFO  s.e.n.i.o.HomeControllerTest - Started HomeControllerTest in 0.662 seconds (process running for 2.67)
2024-11-18 23:40:14 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management"}
2024-11-18 23:40:14 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management Home"}
2024-11-18 23:40:14 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management Home"}
2024-11-18 23:40:14 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management"}
2024-11-18 23:40:32 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-18 23:40:32 INFO  s.e.n.i.o.OrderServiceApplication - Starting OrderServiceApplication using Java 21.0.3 with PID 15939 (/Users/rituthori/projects/order-service/target/classes started by rituthori in /Users/rituthori/projects/order-service)
2024-11-18 23:40:32 INFO  s.e.n.i.o.OrderServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-18 23:40:32 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-11-18 23:40:32 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-11-18 23:40:32 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-11-18 23:40:32 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-11-18 23:40:32 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 1 MongoDB repository interface.
2024-11-18 23:40:32 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-18 23:40:32 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-18 23:40:32 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-18 23:40:32 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2024-11-18 23:40:32 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-18 23:40:32 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 478 ms
2024-11-18 23:40:32 WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderController' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/controller/OrderController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'orderService' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/service/OrderService.class]: Unsatisfied dependency expressed through constructor parameter 4: Error creating bean with name 'orderTypeStrategyContext' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/strategy/context/OrderTypeStrategyContext.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'ACTIVE': Unsatisfied dependency expressed through field 'orderRepository': Error creating bean with name 'orderRepository' defined in sg.edu.nus.iss.order_service.repository.OrderRepository defined in @EnableMongoRepositories declared on MongoRepositoriesRegistrar.EnableMongoRepositoriesConfiguration: Cannot resolve reference to bean 'mongoTemplate' while setting bean property 'mongoOperations'
2024-11-18 23:40:32 INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2024-11-18 23:40:32 INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-11-18 23:40:32 ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field orderRepository in sg.edu.nus.iss.order_service.strategy.order.impl.ActiveOrderStrategy required a bean named 'mongoTemplate' that could not be found.


Action:

Consider defining a bean named 'mongoTemplate' in your configuration.

2024-11-19 13:56:44 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-19 13:56:44 INFO  s.e.n.i.o.OrderServiceApplication - Starting OrderServiceApplication using Java 21.0.3 with PID 17873 (/Users/rituthori/projects/order-service/target/classes started by rituthori in /Users/rituthori/projects/order-service)
2024-11-19 13:56:44 INFO  s.e.n.i.o.OrderServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-19 13:56:45 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-11-19 13:56:45 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-11-19 13:56:45 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-11-19 13:56:45 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-11-19 13:56:45 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 1 MongoDB repository interface.
2024-11-19 13:56:45 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-19 13:56:45 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-19 13:56:45 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-19 13:56:45 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2024-11-19 13:56:45 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-19 13:56:45 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 528 ms
2024-11-19 13:56:45 WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderController' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/controller/OrderController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'orderService' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/service/OrderService.class]: Unsatisfied dependency expressed through constructor parameter 4: Error creating bean with name 'orderTypeStrategyContext' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/strategy/context/OrderTypeStrategyContext.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'ACTIVE': Unsatisfied dependency expressed through field 'orderRepository': Error creating bean with name 'orderRepository' defined in sg.edu.nus.iss.order_service.repository.OrderRepository defined in @EnableMongoRepositories declared on MongoRepositoriesRegistrar.EnableMongoRepositoriesConfiguration: Cannot resolve reference to bean 'mongoTemplate' while setting bean property 'mongoOperations'
2024-11-19 13:56:45 INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2024-11-19 13:56:45 INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-11-19 13:56:45 ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field orderRepository in sg.edu.nus.iss.order_service.strategy.order.impl.ActiveOrderStrategy required a bean named 'mongoTemplate' that could not be found.


Action:

Consider defining a bean named 'mongoTemplate' in your configuration.

2024-11-19 14:41:00 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-19 14:41:00 INFO  s.e.n.i.o.OrderServiceApplication - Starting OrderServiceApplication using Java 21.0.3 with PID 18346 (/Users/rituthori/projects/order-service/target/classes started by rituthori in /Users/rituthori/projects/order-service)
2024-11-19 14:41:00 INFO  s.e.n.i.o.OrderServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-19 14:41:00 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-11-19 14:41:00 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-11-19 14:41:00 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-11-19 14:41:00 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-11-19 14:41:00 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 0 MongoDB repository interfaces.
2024-11-19 14:41:00 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-19 14:41:00 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-19 14:41:00 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-19 14:41:00 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2024-11-19 14:41:00 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-19 14:41:00 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 471 ms
2024-11-19 14:41:00 WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderController' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/controller/OrderController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'orderService' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/service/OrderService.class]: Unsatisfied dependency expressed through constructor parameter 4: Error creating bean with name 'orderTypeStrategyContext' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/strategy/context/OrderTypeStrategyContext.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'ACTIVE': Injection of autowired dependencies failed
2024-11-19 14:41:00 INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2024-11-19 14:41:00 INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-11-19 14:41:00 ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderController' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/controller/OrderController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'orderService' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/service/OrderService.class]: Unsatisfied dependency expressed through constructor parameter 4: Error creating bean with name 'orderTypeStrategyContext' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/strategy/context/OrderTypeStrategyContext.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'ACTIVE': Injection of autowired dependencies failed
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1212)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:971)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at sg.edu.nus.iss.order_service.OrderServiceApplication.main(OrderServiceApplication.java:13)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderService' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/service/OrderService.class]: Unsatisfied dependency expressed through constructor parameter 4: Error creating bean with name 'orderTypeStrategyContext' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/strategy/context/OrderTypeStrategyContext.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'ACTIVE': Injection of autowired dependencies failed
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1212)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782)
	... 22 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderTypeStrategyContext' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/strategy/context/OrderTypeStrategyContext.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'ACTIVE': Injection of autowired dependencies failed
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1212)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782)
	... 36 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ACTIVE': Injection of autowired dependencies failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:515)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1439)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1689)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1653)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeanMap(DefaultListableBeanFactory.java:1575)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1514)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1392)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782)
	... 50 common frames omitted
Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'ORDER_DB' in value "${ORDER_DB}"
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180)
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126)
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239)
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:964)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1374)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	... 66 common frames omitted
2024-11-19 14:53:28 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-19 14:53:28 INFO  s.e.n.i.o.OrderServiceApplication - Starting OrderServiceApplication using Java 21.0.3 with PID 18491 (/Users/rituthori/projects/order-service/target/classes started by rituthori in /Users/rituthori/projects/order-service)
2024-11-19 14:53:28 INFO  s.e.n.i.o.OrderServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-19 14:53:28 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-11-19 14:53:28 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-11-19 14:53:28 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-11-19 14:53:28 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-11-19 14:53:28 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 MongoDB repository interfaces.
2024-11-19 14:53:29 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-19 14:53:29 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-19 14:53:29 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-19 14:53:29 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2024-11-19 14:53:29 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-19 14:53:29 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 478 ms
2024-11-19 14:53:29 WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderController' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/controller/OrderController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'orderService' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/service/OrderService.class]: Unsatisfied dependency expressed through constructor parameter 4: Error creating bean with name 'orderTypeStrategyContext' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/strategy/context/OrderTypeStrategyContext.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'ACTIVE': Injection of autowired dependencies failed
2024-11-19 14:53:29 INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2024-11-19 14:53:29 INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-11-19 14:53:29 ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderController' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/controller/OrderController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'orderService' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/service/OrderService.class]: Unsatisfied dependency expressed through constructor parameter 4: Error creating bean with name 'orderTypeStrategyContext' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/strategy/context/OrderTypeStrategyContext.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'ACTIVE': Injection of autowired dependencies failed
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1212)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:971)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at sg.edu.nus.iss.order_service.OrderServiceApplication.main(OrderServiceApplication.java:13)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderService' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/service/OrderService.class]: Unsatisfied dependency expressed through constructor parameter 4: Error creating bean with name 'orderTypeStrategyContext' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/strategy/context/OrderTypeStrategyContext.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'ACTIVE': Injection of autowired dependencies failed
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1212)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782)
	... 22 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderTypeStrategyContext' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/strategy/context/OrderTypeStrategyContext.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'ACTIVE': Injection of autowired dependencies failed
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1212)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782)
	... 36 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ACTIVE': Injection of autowired dependencies failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:515)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1439)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782)
	... 50 common frames omitted
Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'ORDER_DB' in value "${ORDER_DB}"
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180)
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126)
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239)
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:964)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1374)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	... 62 common frames omitted
2024-11-19 14:55:40 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-19 14:55:40 INFO  s.e.n.i.o.OrderServiceApplication - Starting OrderServiceApplication using Java 21.0.3 with PID 18522 (/Users/rituthori/projects/order-service/target/classes started by rituthori in /Users/rituthori/projects/order-service)
2024-11-19 14:55:40 INFO  s.e.n.i.o.OrderServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-19 14:55:40 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-11-19 14:55:40 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-11-19 14:55:40 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-11-19 14:55:40 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-11-19 14:55:40 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 0 MongoDB repository interfaces.
2024-11-19 14:55:40 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-19 14:55:40 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-19 14:55:40 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-19 14:55:40 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2024-11-19 14:55:40 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-19 14:55:40 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 463 ms
2024-11-19 14:55:40 WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderController' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/controller/OrderController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'orderService' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/service/OrderService.class]: Unsatisfied dependency expressed through constructor parameter 4: Error creating bean with name 'orderTypeStrategyContext' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/strategy/context/OrderTypeStrategyContext.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'ACTIVE': Injection of autowired dependencies failed
2024-11-19 14:55:40 INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2024-11-19 14:55:40 INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-11-19 14:55:40 ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderController' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/controller/OrderController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'orderService' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/service/OrderService.class]: Unsatisfied dependency expressed through constructor parameter 4: Error creating bean with name 'orderTypeStrategyContext' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/strategy/context/OrderTypeStrategyContext.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'ACTIVE': Injection of autowired dependencies failed
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1212)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:971)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at sg.edu.nus.iss.order_service.OrderServiceApplication.main(OrderServiceApplication.java:13)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderService' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/service/OrderService.class]: Unsatisfied dependency expressed through constructor parameter 4: Error creating bean with name 'orderTypeStrategyContext' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/strategy/context/OrderTypeStrategyContext.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'ACTIVE': Injection of autowired dependencies failed
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1212)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782)
	... 22 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderTypeStrategyContext' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/strategy/context/OrderTypeStrategyContext.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'ACTIVE': Injection of autowired dependencies failed
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1212)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782)
	... 36 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ACTIVE': Injection of autowired dependencies failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:515)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1439)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782)
	... 50 common frames omitted
Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'ORDER_DB' in value "${ORDER_DB}"
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180)
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126)
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239)
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:964)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1374)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	... 62 common frames omitted
2024-11-19 15:00:51 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-19 15:00:51 INFO  s.e.n.i.o.OrderServiceApplication - Starting OrderServiceApplication using Java 21.0.3 with PID 18600 (/Users/rituthori/projects/order-service/target/classes started by rituthori in /Users/rituthori/projects/order-service)
2024-11-19 15:00:51 INFO  s.e.n.i.o.OrderServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-19 15:00:51 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-11-19 15:00:51 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-11-19 15:00:52 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-11-19 15:00:52 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-11-19 15:00:52 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 0 MongoDB repository interfaces.
2024-11-19 15:00:52 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-19 15:00:52 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-19 15:00:52 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-19 15:00:52 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2024-11-19 15:00:52 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-19 15:00:52 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 461 ms
2024-11-19 15:00:52 WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderController' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/controller/OrderController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'orderService' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/service/OrderService.class]: Unsatisfied dependency expressed through constructor parameter 5: Error creating bean with name 'profileTypeStrategyContext' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/strategy/context/ProfileTypeStrategyContext.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'customer': Injection of autowired dependencies failed
2024-11-19 15:00:52 INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2024-11-19 15:00:52 INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-11-19 15:00:52 ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderController' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/controller/OrderController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'orderService' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/service/OrderService.class]: Unsatisfied dependency expressed through constructor parameter 5: Error creating bean with name 'profileTypeStrategyContext' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/strategy/context/ProfileTypeStrategyContext.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'customer': Injection of autowired dependencies failed
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1212)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:971)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at sg.edu.nus.iss.order_service.OrderServiceApplication.main(OrderServiceApplication.java:13)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderService' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/service/OrderService.class]: Unsatisfied dependency expressed through constructor parameter 5: Error creating bean with name 'profileTypeStrategyContext' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/strategy/context/ProfileTypeStrategyContext.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'customer': Injection of autowired dependencies failed
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1212)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782)
	... 22 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'profileTypeStrategyContext' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/strategy/context/ProfileTypeStrategyContext.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'customer': Injection of autowired dependencies failed
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1212)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782)
	... 36 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'customer': Injection of autowired dependencies failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:515)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1439)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1689)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1653)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeanMap(DefaultListableBeanFactory.java:1575)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1514)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1392)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782)
	... 50 common frames omitted
Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'ORDER_DB' in value "${ORDER_DB}"
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180)
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126)
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239)
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:964)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1374)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	... 66 common frames omitted
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.CartController - Retrieving cart for customer with ID 1
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.CartController - Cart for customer with ID 1 found. Cart: {"customerId":"1","cartItems":[{"productId":"1","quantity":10}],"createdAt":0,"updatedAt":0}
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.CartController - Adding item Item(productId=1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.CartController - Item added to cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.CartController - Retrieving cart for customer with ID 1
2024-11-19 15:01:09 ERROR s.e.n.i.o.controller.CartController - Cart for customer with ID 1 not found
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.CartController - Adding item Item(productId=1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 15:01:09 ERROR s.e.n.i.o.controller.CartController - Failed to add item to cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.CartController - Deleting or emptying cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.CartController - Cart deleted/emptied for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.CartController - Removing item Item(productId=1, quantity=10, price=null) from cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.CartController - Item removed from cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.CartController - Deleting or emptying cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.CartController - Some error occurred while trying to delete or empty cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.CartController - Retrieving cart for customer with ID 1
2024-11-19 15:01:09 ERROR s.e.n.i.o.controller.CartController - Some exception happened to get cart for customer with ID 1
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.CartController - Removing item Item(productId=1, quantity=10, price=null) from cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.CartController - Some error occurred while trying to remove item from cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.CartController - Adding item Item(productId=1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.CartController - Some error occurred while trying to add item added to cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.CartController - Deleting or emptying cart for customer with ID customer1
2024-11-19 15:01:09 ERROR s.e.n.i.o.controller.CartController - Failed to delete cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.CartController - Removing item Item(productId=1, quantity=10, price=null) from cart for customer with ID customer1
2024-11-19 15:01:09 ERROR s.e.n.i.o.controller.CartController - Failed to remove item from cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.OrderController - Creating order from cart for customer with ID 1
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.OrderController - Order created from cart for customer with ID 1 with response {}
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.OrderController - Updating order status by orderId order1
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.OrderController - Optional request body null
2024-11-19 15:01:09 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to update order status READY for orderId order1
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.OrderController - Retrieving order by orderId 1
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.OrderController - Order with ID 1 found. Order: {"orderId":"orderId1","createdDate":0,"updatedDate":0,"useRewards":false,"useDelivery":false}
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.OrderController - Retrieving all active orders for delivery and in READY state
2024-11-19 15:01:09 ERROR s.e.n.i.o.controller.OrderController - No active orders found marked for delivery and in READY state
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.OrderController - Updating order status by orderId order1
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.OrderController - Optional request body null
2024-11-19 15:01:09 ERROR s.e.n.i.o.controller.OrderController - Failed to update order status READY for orderId order1
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.OrderController - V2 :: Creating order from cart for customer with ID 1, if delivery is needed or not true and if reward points are needed or not true
2024-11-19 15:01:09 ERROR s.e.n.i.o.controller.OrderController - V2 :: Failed to create order for customerId 1 using useRewardPoints true and deliveryNeeded true
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.OrderController - Creating order from cart for customer with ID 1
2024-11-19 15:01:09 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to create order from cart for customer with ID 1
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.OrderController - Retrieving ACTIVE orders for profileType customer with ID 1
2024-11-19 15:01:09 ERROR s.e.n.i.o.controller.OrderController - No ACTIVE orders found with profileType customer and ID 1
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.OrderController - V2 :: Creating order from cart for customer with ID 1, if delivery is needed or not true and if reward points are needed or not true
2024-11-19 15:01:09 ERROR s.e.n.i.o.controller.OrderController - V2 :: Some exception happened trying to create order from cart for customer with ID 1
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.OrderController - Creating order from cart for customer with ID 1
2024-11-19 15:01:09 ERROR s.e.n.i.o.controller.OrderController - Failed to create order for customerId 1
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.OrderController - Retrieving order by orderId 1
2024-11-19 15:01:09 ERROR s.e.n.i.o.controller.OrderController - Order with ID 1 not found
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.OrderController - Retrieving order by orderId 1
2024-11-19 15:01:09 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to find order with orderId 1
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.OrderController - Retrieving all active orders for delivery and in READY state
2024-11-19 15:01:09 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to get all active orders marked for delivery and in READY state
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.OrderController - Retrieving ACTIVE orders for profileType customer with ID 1
2024-11-19 15:01:09 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to get ACTIVE orders for profileType customer with ID 1
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.OrderController - Retrieving all active orders for delivery and in READY state
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.OrderController - Active orders found marked for delivery and in READY state. Orders count : 1
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.OrderController - Updating order status by orderId order1
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.OrderController - Optional request body null
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.OrderController - Order status updated for orderId order1 for status READY
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.OrderController - V2 :: Creating order from cart for customer with ID 1, if delivery is needed or not true and if reward points are needed or not true
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.OrderController - V2 :: Order created from cart for customer with ID 1 with response {}
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.OrderController - Retrieving ACTIVE orders for profileType customer with ID 1
2024-11-19 15:01:09 INFO  s.e.n.i.o.controller.OrderController - ACTIVE orders for profileType customer with ID 1 found. Orders count : 1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. Creating new cart.
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Create cart for customer with ID customer1, merchant id merchant1 and products : [Item(productId=item1, quantity=10, price=null)]
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Creating cart for customer with ID customer1, merchant id merchant1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Cart created successfully for customer with ID customer1 for add item
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Cart is empty after removing last item for customer with ID customer1. So deleting the cart.
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1 with query : Document{{customerId=customer1}}
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Cart deleted/emptied successfully for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Finding cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Adding item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Updating cart for customer with ID customer1, with update document : {"$set":{"cartItems":[{"productId":"item1","quantity":20}],"updatedAt":1732008669601}}
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Cart updated successfully for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. Creating new cart.
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Create cart for customer with ID customer1, merchant id merchant1 and products : [Item(productId=item1, quantity=10, price=null)]
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Creating cart for customer with ID customer1, merchant id merchant1
2024-11-19 15:01:09 ERROR s.e.n.i.o.service.CartService - Failed to create cart for customer with ID customer1 for add item
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Cart is empty after removing last item for customer with ID customer1. So deleting the cart.
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1 with query : Document{{customerId=customer1}}
2024-11-19 15:01:09 ERROR s.e.n.i.o.service.CartService - Failed to delete/empty cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Finding cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Cart not found for customerID customer1.
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. Creating new cart.
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Create cart for customer with ID customer1, merchant id merchant1 and products : [Item(productId=item1, quantity=10, price=null)]
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Creating cart for customer with ID customer1, merchant id merchant1
2024-11-19 15:01:09 ERROR s.e.n.i.o.service.CartService - Failed to create cart for customer with ID customer1 for add item
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=5, price=null) to cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=5, price=null) to cart.
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Updating cart for customer with ID customer1, with update document : {"$set":{"cartItems":[{"productId":"item1","quantity":5}],"updatedAt":1732008669624}} to remove it
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Cart updated successfully for removing item for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. So no action required.
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item3, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item3, quantity=10, price=null) to cart.
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Item Item(productId=item3, quantity=10, price=null) not found in cart for customer with ID customer1. So no action required.
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=5, price=null) to cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=5, price=null) to cart.
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Updating cart for customer with ID customer1, with update document : {"$set":{"cartItems":[{"productId":"item1","quantity":5}],"updatedAt":1732008669631}} to remove it
2024-11-19 15:01:09 ERROR s.e.n.i.o.service.CartService - Failed to update cart for removing item for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Cart is empty after removing last item for customer with ID customer1. So deleting the cart.
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1 with query : Document{{customerId=customer1}}
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.CartService - Cart deleted/emptied successfully for customer with ID customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Product details found for productIds: 47c053ec-eb87-466d-bfc8-b1b004c991ba
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Updating customer reward points for orderId: b52bdd4e-9fb5-4840-83eb-22f9997dbf02 and customerId : customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Customer customer1 reward points updated successfully for orderId: b52bdd4e-9fb5-4840-83eb-22f9997dbf02 with order amount 0
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Order to be created : Order(orderId=b52bdd4e-9fb5-4840-83eb-22f9997dbf02, customerId=customer1, merchantId=47c053ec-eb87-466d-bfc8-b1b004c991ba, deliveryPartnerId=null, orderItems=[Item(productId=47c053ec-eb87-466d-bfc8-b1b004c991ba, quantity=10, price=1E+1)], totalPrice=95.0, status=CREATED, createdDate=1732008669673, updatedDate=1732008669673, createdBy=customer, updatedBy=customer, useRewards=true, useDelivery=true, rewardsAmountUsed=5.0, customerRewardsPointsUsed=500.0)
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Order created successfully for customer: customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Starting generateProductUpdateReqObts, products: [Product(productId=47c053ec-eb87-466d-bfc8-b1b004c991ba, productName=null, category=Category(categoryId=47c053ec-eb87-466d-bfc8-b1b004c991ba, categoryName=cat1, categoryDescription=cat1 desc), imageUrl=null, productDescription=null, originalPrice=null, listingPrice=1E+1, availableStock=10, merchantId=47c053ec-eb87-466d-bfc8-b1b004c991ba, pincode=null)], cartItems: [Item(productId=47c053ec-eb87-466d-bfc8-b1b004c991ba, quantity=10, price=1E+1)]
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Updating stock for productId: 47c053ec-eb87-466d-bfc8-b1b004c991ba
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Product stock updated successfully for productId: 47c053ec-eb87-466d-bfc8-b1b004c991ba
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_PICKED_UP
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : aba8cc13-837d-4fb1-9b21-fa5df5ba88f3 and deliveryPartnerId aba8cc13-837d-4fb1-9b21-fa5df5ba88f3 with status DELIVERY_PICKED_UP
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Delivery status updated successfully for orderId: aba8cc13-837d-4fb1-9b21-fa5df5ba88f3 with deliveryPartnerId null for status DELIVERY_PICKED_UP
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Delivery record successfully updated in delivery service for orderId: order1 and deliveryPartnerId: aba8cc13-837d-4fb1-9b21-fa5df5ba88f3, updating data in order colls.
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for order: order1 using query : {"orderId":"order1"}
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Successfully update delivery status for order: order1 and kept status : DELIVERY_PICKED_UP
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : COMPLETED
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : bb52feb8-47f5-4d70-9745-64425323ad95 and deliveryPartnerId bb52feb8-47f5-4d70-9745-64425323ad95 with status COMPLETED
2024-11-19 15:01:09 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: bb52feb8-47f5-4d70-9745-64425323ad95 for status COMPLETED
2024-11-19 15:01:09 ERROR s.e.n.i.o.service.OrderService - Failed to complete delivery for orderId: order1 for deliveryPartnerId: bb52feb8-47f5-4d70-9745-64425323ad95
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_ACCEPTED
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 4baf9c2b-1d77-4660-800a-0ca23dc8080c and deliveryPartnerId 4baf9c2b-1d77-4660-800a-0ca23dc8080c with status DELIVERY_ACCEPTED
2024-11-19 15:01:09 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: 4baf9c2b-1d77-4660-800a-0ca23dc8080c for status DELIVERY_ACCEPTED
2024-11-19 15:01:09 ERROR s.e.n.i.o.service.OrderService - Failed to start delivery for orderId: order1 for deliveryPartnerId: 4baf9c2b-1d77-4660-800a-0ca23dc8080c
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Fetching order by orderId: order1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Found orders for provided orderId: order1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Deleting order for orderId: order1
2024-11-19 15:01:09 ERROR s.e.n.i.o.service.OrderService - Failed to delete order for orderId: order1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Fetching all active orders available for delivery, having status READY and opted for delivery
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Query to fetch active orders for delivery : Document{{status=READY, useDelivery=true}} from orders coll
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - No active orders found for delivery having status READY and opted for delivery
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Fetching order by orderId: order1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - No orders found for orderId: order1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_ACCEPTED
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 03d66034-cb29-40d1-a479-d72b69350410 and deliveryPartnerId 03d66034-cb29-40d1-a479-d72b69350410 with status DELIVERY_ACCEPTED
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Delivery status updated successfully for orderId: 03d66034-cb29-40d1-a479-d72b69350410 with deliveryPartnerId null for status DELIVERY_ACCEPTED
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Delivery record successfully created in delivery service for orderId: order1 and deliveryPartnerId: 03d66034-cb29-40d1-a479-d72b69350410, updating data in order colls.
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Starting delivery for order: order1 using query : {"orderId":"order1"}
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Started delivery flow successfully for order: order1 and kept status : DELIVERY_ACCEPTED
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_PICKED_UP
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 52cca136-fc04-43a0-bbd0-a545f1424e70 and deliveryPartnerId 52cca136-fc04-43a0-bbd0-a545f1424e70 with status DELIVERY_PICKED_UP
2024-11-19 15:01:09 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: 52cca136-fc04-43a0-bbd0-a545f1424e70 for status DELIVERY_PICKED_UP
2024-11-19 15:01:09 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: order1 for deliveryPartnerId: 52cca136-fc04-43a0-bbd0-a545f1424e70 in delivery service
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : CANCELLED
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Updating customer reward points for orderId: order1 and customerId : 80888b59-0d26-40e2-bdd3-d5c67cbfcf6a
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Customer 80888b59-0d26-40e2-bdd3-d5c67cbfcf6a reward points updated successfully for orderId: order1 with order amount 500.0
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Order has been cancelled successfully for orderId: order1 and kept in cancelled coll
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-19 15:01:09 ERROR s.e.n.i.o.service.OrderService - No items found in cart for customer: customer1, so no order to be created
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : READY
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 using query : {"orderId":"order1"}
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Order status updated successfully for orderId: order1 to status : READY
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Product details found for productIds: 17088354-ae89-45b2-85f8-9a2d966031f0
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Order to be created : Order(orderId=1649e5cb-c3af-4da0-a971-5c6636bb553d, customerId=customer1, merchantId=17088354-ae89-45b2-85f8-9a2d966031f0, deliveryPartnerId=null, orderItems=[Item(productId=17088354-ae89-45b2-85f8-9a2d966031f0, quantity=10, price=1E+1)], totalPrice=100, status=CREATED, createdDate=1732008669733, updatedDate=1732008669733, createdBy=customer, updatedBy=customer, useRewards=false, useDelivery=true, rewardsAmountUsed=0, customerRewardsPointsUsed=0)
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Order created successfully for customer: customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Starting generateProductUpdateReqObts, products: [Product(productId=17088354-ae89-45b2-85f8-9a2d966031f0, productName=null, category=Category(categoryId=17088354-ae89-45b2-85f8-9a2d966031f0, categoryName=cat1, categoryDescription=cat1 desc), imageUrl=null, productDescription=null, originalPrice=null, listingPrice=1E+1, availableStock=10, merchantId=17088354-ae89-45b2-85f8-9a2d966031f0, pincode=null)], cartItems: [Item(productId=17088354-ae89-45b2-85f8-9a2d966031f0, quantity=10, price=1E+1)]
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Updating stock for productId: 17088354-ae89-45b2-85f8-9a2d966031f0
2024-11-19 15:01:09 ERROR s.e.n.i.o.service.OrderService - Failed to update product stock for productId: 17088354-ae89-45b2-85f8-9a2d966031f0
2024-11-19 15:01:09 ERROR s.e.n.i.o.service.OrderService - Failed to update stock for 1 products out of 1, so deleting previously created order
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Deleting order for orderId: 1649e5cb-c3af-4da0-a971-5c6636bb553d
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Order deleted successfully for orderId: 1649e5cb-c3af-4da0-a971-5c6636bb553d
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-19 15:01:09 ERROR s.e.n.i.o.service.OrderService - Failed to get product details for productIds: ef12394f-83e3-495b-b613-1b34b7c2d89f
2024-11-19 15:01:09 ERROR s.e.n.i.o.service.OrderService - Failed to get product details or found non matching products for items in cart for customer: customer1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : COMPLETED
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : b3f89ce9-6ba3-428f-ac75-626f7aeed439 and deliveryPartnerId b3f89ce9-6ba3-428f-ac75-626f7aeed439 with status COMPLETED
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Delivery status updated successfully for orderId: b3f89ce9-6ba3-428f-ac75-626f7aeed439 with deliveryPartnerId null for status COMPLETED
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Delivery completed successfully in delivery service for orderId: order1 and deliveryPartnerId: b3f89ce9-6ba3-428f-ac75-626f7aeed439, updating data in order colls.
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Updating merchant earnings for orderId : order1 and merchantId b3f89ce9-6ba3-428f-ac75-626f7aeed439
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Merchant b3f89ce9-6ba3-428f-ac75-626f7aeed439 earnings updated successfully for orderId: order1 with order amount 100.0
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Updating customer reward points for orderId: order1 and customerId : b3f89ce9-6ba3-428f-ac75-626f7aeed439
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Customer b3f89ce9-6ba3-428f-ac75-626f7aeed439 reward points updated successfully for orderId: order1 with order amount 100.0
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Order has been completed successfully for orderId: order1 and kept in completed coll
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : READY
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 using query : {"orderId":"order1"}
2024-11-19 15:01:09 ERROR s.e.n.i.o.service.OrderService - Failed to update order status for orderId: order1 to status : READY
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : READY
2024-11-19 15:01:09 ERROR s.e.n.i.o.service.OrderService - No order found for orderId: order1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Deleting order for orderId: order1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Order deleted successfully for orderId: order1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Fetching all active orders available for delivery, having status READY and opted for delivery
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Query to fetch active orders for delivery : Document{{status=READY, useDelivery=true}} from orders coll
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Found active orders for delivery having status READY and opted for delivery, count 1
2024-11-19 15:01:09 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : INVALID
2024-11-19 15:01:09 ERROR s.e.n.i.o.service.OrderService - Invalid status provided for orderId: order1
2024-11-19 15:01:09 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [sg.edu.nus.iss.order_service.HomeControllerTest]: HomeControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-11-19 15:01:09 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration sg.edu.nus.iss.order_service.OrderServiceApplication for test class sg.edu.nus.iss.order_service.HomeControllerTest
2024-11-19 15:01:09 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2024-11-19 15:01:10 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-19 15:01:10 INFO  s.e.n.i.o.HomeControllerTest - Starting HomeControllerTest using Java 21.0.3 with PID 18637 (started by rituthori in /Users/rituthori/projects/order-service)
2024-11-19 15:01:10 INFO  s.e.n.i.o.HomeControllerTest - No active profile set, falling back to 1 default profile: "default"
2024-11-19 15:01:10 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2024-11-19 15:01:10 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2024-11-19 15:01:10 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2024-11-19 15:01:10 INFO  s.e.n.i.o.HomeControllerTest - Started HomeControllerTest in 0.707 seconds (process running for 2.813)
2024-11-19 15:01:10 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management"}
2024-11-19 15:01:10 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management Home"}
2024-11-19 15:01:10 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management Home"}
2024-11-19 15:01:10 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management"}
2024-11-19 15:02:13 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-19 15:02:13 INFO  s.e.n.i.o.OrderServiceApplication - Starting OrderServiceApplication using Java 21.0.3 with PID 18694 (/Users/rituthori/projects/order-service/target/classes started by rituthori in /Users/rituthori/projects/order-service)
2024-11-19 15:02:13 INFO  s.e.n.i.o.OrderServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-19 15:02:13 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-11-19 15:02:13 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-11-19 15:02:13 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-11-19 15:02:13 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-11-19 15:02:13 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 MongoDB repository interfaces.
2024-11-19 15:02:13 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-19 15:02:13 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-19 15:02:13 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-19 15:02:13 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2024-11-19 15:02:14 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-19 15:02:14 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 485 ms
2024-11-19 15:02:14 WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderController' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/controller/OrderController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'orderService' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/service/OrderService.class]: Unsatisfied dependency expressed through constructor parameter 5: Error creating bean with name 'profileTypeStrategyContext' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/strategy/context/ProfileTypeStrategyContext.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'customer': Injection of autowired dependencies failed
2024-11-19 15:02:14 INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2024-11-19 15:02:14 INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-11-19 15:02:14 ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderController' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/controller/OrderController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'orderService' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/service/OrderService.class]: Unsatisfied dependency expressed through constructor parameter 5: Error creating bean with name 'profileTypeStrategyContext' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/strategy/context/ProfileTypeStrategyContext.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'customer': Injection of autowired dependencies failed
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1212)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:971)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at sg.edu.nus.iss.order_service.OrderServiceApplication.main(OrderServiceApplication.java:13)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderService' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/service/OrderService.class]: Unsatisfied dependency expressed through constructor parameter 5: Error creating bean with name 'profileTypeStrategyContext' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/strategy/context/ProfileTypeStrategyContext.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'customer': Injection of autowired dependencies failed
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1212)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782)
	... 22 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'profileTypeStrategyContext' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/strategy/context/ProfileTypeStrategyContext.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'customer': Injection of autowired dependencies failed
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1212)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782)
	... 36 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'customer': Injection of autowired dependencies failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:515)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1439)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1689)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1653)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeanMap(DefaultListableBeanFactory.java:1575)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1514)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1392)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782)
	... 50 common frames omitted
Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'ORDER_DB' in value "${ORDER_DB}"
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180)
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126)
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239)
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:964)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1374)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	... 66 common frames omitted
2024-11-19 15:04:08 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-19 15:04:08 INFO  s.e.n.i.o.OrderServiceApplication - Starting OrderServiceApplication using Java 21.0.3 with PID 18715 (/Users/rituthori/projects/order-service/target/classes started by rituthori in /Users/rituthori/projects/order-service)
2024-11-19 15:04:08 INFO  s.e.n.i.o.OrderServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-19 15:04:08 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-11-19 15:04:08 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-11-19 15:04:08 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-11-19 15:04:08 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-11-19 15:04:09 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 MongoDB repository interfaces.
2024-11-19 15:04:09 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-19 15:04:09 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-19 15:04:09 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-19 15:04:09 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2024-11-19 15:04:09 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-19 15:04:09 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 486 ms
2024-11-19 15:04:09 WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderController' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/controller/OrderController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'orderService': Unsatisfied dependency expressed through field 'completedOrderStrategy': No qualifying bean of type 'sg.edu.nus.iss.order_service.strategy.order.OrderTypeStrategy' available: expected single matching bean but found 4: ACTIVE,ALL,CANCELLED,COMPLETED
2024-11-19 15:04:09 INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2024-11-19 15:04:09 INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-11-19 15:04:09 ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field completedOrderStrategy in sg.edu.nus.iss.order_service.service.OrderService required a single bean, but 4 were found:
	- ACTIVE: defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/strategy/order/impl/ActiveOrderStrategy.class]
	- ALL: defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/strategy/order/impl/AllOrderStrategy.class]
	- CANCELLED: defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/strategy/order/impl/CancelledOrderStrategy.class]
	- COMPLETED: defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/strategy/order/impl/CompletedOrderStrategy.class]

This may be due to missing parameter name information

Action:

Consider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed

Ensure that your compiler is configured to use the '-parameters' flag.
You may need to update both your build tool settings as well as your IDE.
(See https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-6.x#parameter-name-retention)


2024-11-19 15:08:47 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-19 15:08:47 INFO  s.e.n.i.o.OrderServiceApplication - Starting OrderServiceApplication using Java 21.0.3 with PID 18772 (/Users/rituthori/projects/order-service/target/classes started by rituthori in /Users/rituthori/projects/order-service)
2024-11-19 15:08:47 INFO  s.e.n.i.o.OrderServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-19 15:08:47 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-11-19 15:08:47 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-11-19 15:08:48 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-11-19 15:08:48 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-11-19 15:08:48 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 MongoDB repository interfaces.
2024-11-19 15:08:48 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-19 15:08:48 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-19 15:08:48 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-19 15:08:48 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2024-11-19 15:08:48 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-19 15:08:48 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 480 ms
2024-11-19 15:08:48 WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderController' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/controller/OrderController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'orderService' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/service/OrderService.class]: Unsatisfied dependency expressed through constructor parameter 6: No qualifying bean of type 'sg.edu.nus.iss.order_service.strategy.order.OrderTypeStrategy' available: expected single matching bean but found 4: ACTIVE,ALL,CANCELLED,COMPLETED
2024-11-19 15:08:48 INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2024-11-19 15:08:48 INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-11-19 15:08:48 ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 6 of constructor in sg.edu.nus.iss.order_service.service.OrderService required a single bean, but 4 were found:
	- ACTIVE: defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/strategy/order/impl/ActiveOrderStrategy.class]
	- ALL: defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/strategy/order/impl/AllOrderStrategy.class]
	- CANCELLED: defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/strategy/order/impl/CancelledOrderStrategy.class]
	- COMPLETED: defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/strategy/order/impl/CompletedOrderStrategy.class]

This may be due to missing parameter name information

Action:

Consider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed

Ensure that your compiler is configured to use the '-parameters' flag.
You may need to update both your build tool settings as well as your IDE.
(See https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-6.x#parameter-name-retention)


2024-11-19 15:57:44 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-19 15:57:45 INFO  s.e.n.i.o.OrderServiceApplication - Starting OrderServiceApplication using Java 21.0.3 with PID 18876 (/Users/rituthori/projects/order-service/target/classes started by rituthori in /Users/rituthori/projects/order-service)
2024-11-19 15:57:45 INFO  s.e.n.i.o.OrderServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-19 15:57:45 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-11-19 15:57:45 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-11-19 15:57:45 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-11-19 15:57:45 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-11-19 15:57:45 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 MongoDB repository interfaces.
2024-11-19 15:57:45 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-19 15:57:45 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-19 15:57:45 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-19 15:57:45 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2024-11-19 15:57:45 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-19 15:57:45 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 479 ms
2024-11-19 15:57:45 WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderController' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/controller/OrderController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'orderService' defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/service/OrderService.class]: Unsatisfied dependency expressed through constructor parameter 10: No qualifying bean of type 'sg.edu.nus.iss.order_service.strategy.profile.ProfileTypeStrategy' available: expected single matching bean but found 3: customer,deliveryPartner,merchant
2024-11-19 15:57:45 INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2024-11-19 15:57:45 INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-11-19 15:57:45 ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 10 of constructor in sg.edu.nus.iss.order_service.service.OrderService required a single bean, but 3 were found:
	- customer: defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/strategy/profile/impl/CustomerProfileStrategy.class]
	- deliveryPartner: defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/strategy/profile/impl/DeliveryPartnerProfileStrategy.class]
	- merchant: defined in file [/Users/rituthori/projects/order-service/target/classes/sg/edu/nus/iss/order_service/strategy/profile/impl/MerchantProfileStrategy.class]

This may be due to missing parameter name information

Action:

Consider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed

Ensure that your compiler is configured to use the '-parameters' flag.
You may need to update both your build tool settings as well as your IDE.
(See https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-6.x#parameter-name-retention)


2024-11-19 16:00:14 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-19 16:00:14 INFO  s.e.n.i.o.OrderServiceApplication - Starting OrderServiceApplication using Java 21.0.3 with PID 18906 (/Users/rituthori/projects/order-service/target/classes started by rituthori in /Users/rituthori/projects/order-service)
2024-11-19 16:00:14 INFO  s.e.n.i.o.OrderServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-19 16:00:14 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-11-19 16:00:14 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-11-19 16:00:14 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-11-19 16:00:14 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-11-19 16:00:14 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 0 MongoDB repository interfaces.
2024-11-19 16:00:14 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-19 16:00:14 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-19 16:00:14 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-19 16:00:14 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2024-11-19 16:00:14 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-19 16:00:14 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 493 ms
2024-11-19 16:00:15 INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2024-11-19 16:00:15 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-11-19 16:00:15 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-11-19 16:00:15 INFO  s.e.n.i.o.OrderServiceApplication - Started OrderServiceApplication in 1.006 seconds (process running for 1.176)
2024-11-19 16:00:28 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-19 16:00:28 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-19 16:00:28 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-11-19 16:00:29 INFO  o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 149 ms
2024-11-19 16:20:11 INFO  s.e.n.i.o.controller.OrderController - Retrieving COMPLETED orders for profileType merchant with ID 9fa15283-f8e6-49aa-bfdc-75f294ec776f
2024-11-19 16:20:11 INFO  s.e.n.i.o.db.MongoSingleton - Setting mongo client for Order DB.
2024-11-19 16:20:11 INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "5.0.1"}, "os": {"type": "Darwin", "name": "Mac OS X", "architecture": "aarch64", "version": "14.4"}, "platform": "Java/Oracle Corporation/21.0.3+7-LTS-152"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='test', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@5bab40b1, com.mongodb.Jep395RecordCodecProvider@4a1723c8, com.mongodb.KotlinCodecProvider@31441179]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=cluster0.17mmg.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-98aab7-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=STANDARD, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2024-11-19 16:20:11 INFO  org.mongodb.driver.cluster - Adding discovered server cluster0-shard-00-00.17mmg.mongodb.net:27017 to client view of cluster
2024-11-19 16:20:11 INFO  org.mongodb.driver.cluster - Waiting for server to become available for operation with ID 1. Remaining time: 30000 ms. Selector: ReadPreferenceServerSelector{readPreference=primary}, topology description: {type=UNKNOWN, servers=[].
2024-11-19 16:20:11 INFO  org.mongodb.driver.cluster - Adding discovered server cluster0-shard-00-01.17mmg.mongodb.net:27017 to client view of cluster
2024-11-19 16:20:11 INFO  org.mongodb.driver.cluster - Adding discovered server cluster0-shard-00-02.17mmg.mongodb.net:27017 to client view of cluster
2024-11-19 16:20:12 INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-00.17mmg.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=288232375, setName='atlas-98aab7-shard-0', canonicalAddress=cluster0-shard-00-00.17mmg.mongodb.net:27017, hosts=[cluster0-shard-00-00.17mmg.mongodb.net:27017, cluster0-shard-00-01.17mmg.mongodb.net:27017, cluster0-shard-00-02.17mmg.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.17mmg.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='apse1-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_SOUTHEAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=304, topologyVersion=TopologyVersion{processId=673b5f37b227313ffc7af85c, counter=5}, lastWriteDate=Tue Nov 19 16:20:12 IST 2024, lastUpdateTimeNanos=548512114687500}
2024-11-19 16:20:12 INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-01.17mmg.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=292675375, setName='atlas-98aab7-shard-0', canonicalAddress=cluster0-shard-00-01.17mmg.mongodb.net:27017, hosts=[cluster0-shard-00-00.17mmg.mongodb.net:27017, cluster0-shard-00-01.17mmg.mongodb.net:27017, cluster0-shard-00-02.17mmg.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.17mmg.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='apse1-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_SOUTHEAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff00000000000002df, setVersion=304, topologyVersion=TopologyVersion{processId=673b5f81b0c27b71fba3b3e0, counter=7}, lastWriteDate=Tue Nov 19 16:20:12 IST 2024, lastUpdateTimeNanos=548512121453708}
2024-11-19 16:20:12 INFO  org.mongodb.driver.cluster - Discovered replica set primary cluster0-shard-00-01.17mmg.mongodb.net:27017 with max election id 7fffffff00000000000002df and max set version 304
2024-11-19 16:20:12 INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-02.17mmg.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=343331250, setName='atlas-98aab7-shard-0', canonicalAddress=cluster0-shard-00-02.17mmg.mongodb.net:27017, hosts=[cluster0-shard-00-00.17mmg.mongodb.net:27017, cluster0-shard-00-01.17mmg.mongodb.net:27017, cluster0-shard-00-02.17mmg.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.17mmg.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='apse1-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_SOUTHEAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=304, topologyVersion=TopologyVersion{processId=673b5fcfca90516ccb72493f, counter=4}, lastWriteDate=Tue Nov 19 16:20:12 IST 2024, lastUpdateTimeNanos=548512169895291}
2024-11-19 16:20:13 ERROR s.e.n.i.o.controller.OrderController - No COMPLETED orders found with profileType merchant and ID 9fa15283-f8e6-49aa-bfdc-75f294ec776f
2024-11-19 16:20:13 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [sg.edu.nus.iss.order_service.exception.ResourceNotFoundException: No orders found with ID 9fa15283-f8e6-49aa-bfdc-75f294ec776f]
2024-11-19 16:20:42 INFO  s.e.n.i.o.controller.OrderController - Retrieving COMPLETED orders for profileType merchant with ID 9fa15283-f8e6-49aa-bfdc-75f294ec776f
2024-11-19 16:20:42 ERROR s.e.n.i.o.controller.OrderController - No COMPLETED orders found with profileType merchant and ID 9fa15283-f8e6-49aa-bfdc-75f294ec776f
2024-11-19 16:20:42 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [sg.edu.nus.iss.order_service.exception.ResourceNotFoundException: No orders found with ID 9fa15283-f8e6-49aa-bfdc-75f294ec776f]
2024-11-19 16:24:09 INFO  s.e.n.i.o.controller.OrderController - Retrieving all active orders for delivery and in READY state
2024-11-19 16:24:09 INFO  s.e.n.i.o.service.OrderService - Fetching all active orders available for delivery, having status READY and opted for delivery
2024-11-19 16:24:09 INFO  s.e.n.i.o.service.OrderService - Query to fetch active orders for delivery : Document{{status=READY, useDelivery=true}} from orders coll
2024-11-19 16:24:09 INFO  s.e.n.i.o.service.OrderService - No active orders found for delivery having status READY and opted for delivery
2024-11-19 16:24:09 ERROR s.e.n.i.o.controller.OrderController - No active orders found marked for delivery and in READY state
2024-11-19 16:24:09 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [sg.edu.nus.iss.order_service.exception.ResourceNotFoundException: No active orders found marked for delivery and in READY state]
2024-11-19 16:26:38 INFO  s.e.n.i.o.db.MongoSingleton - Starting closing of all mongoClients.
2024-11-19 16:26:39 INFO  s.e.n.i.o.db.MongoSingleton - All MongoClient connections closed.
2024-11-19 16:26:40 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-19 16:26:40 INFO  s.e.n.i.o.OrderServiceApplication - Starting OrderServiceApplication using Java 21.0.3 with PID 19611 (/Users/rituthori/projects/order-service/target/classes started by rituthori in /Users/rituthori/projects/order-service)
2024-11-19 16:26:40 INFO  s.e.n.i.o.OrderServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-19 16:26:40 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-11-19 16:26:40 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-11-19 16:26:40 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-11-19 16:26:40 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-11-19 16:26:40 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 MongoDB repository interfaces.
2024-11-19 16:26:40 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-19 16:26:40 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-19 16:26:40 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-19 16:26:40 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2024-11-19 16:26:40 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-19 16:26:40 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 525 ms
2024-11-19 16:26:41 INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2024-11-19 16:26:41 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-11-19 16:26:41 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-11-19 16:26:41 INFO  s.e.n.i.o.OrderServiceApplication - Started OrderServiceApplication in 1.679 seconds (process running for 2.094)
2024-11-19 16:26:45 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-19 16:26:45 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-19 16:26:45 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-19 16:26:46 INFO  o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 297 ms
2024-11-19 16:27:05 INFO  s.e.n.i.o.controller.OrderController - Retrieving completed orders for profileType merchant with ID 9fa15283-f8e6-49aa-bfdc-75f294ec776f
2024-11-19 16:27:45 INFO  s.e.n.i.o.db.MongoSingleton - Setting mongo client for Order DB.
2024-11-19 16:27:45 INFO  org.mongodb.driver.cluster - Adding discovered server cluster0-shard-00-01.17mmg.mongodb.net:27017 to client view of cluster
2024-11-19 16:27:45 INFO  org.mongodb.driver.cluster - Adding discovered server cluster0-shard-00-00.17mmg.mongodb.net:27017 to client view of cluster
2024-11-19 16:27:45 INFO  org.mongodb.driver.cluster - Adding discovered server cluster0-shard-00-02.17mmg.mongodb.net:27017 to client view of cluster
2024-11-19 16:27:45 INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "5.0.1"}, "os": {"type": "Darwin", "name": "Mac OS X", "architecture": "aarch64", "version": "14.4"}, "platform": "Java/Oracle Corporation/21.0.3+7-LTS-152"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='test', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@1c8ea9bf, com.mongodb.Jep395RecordCodecProvider@19b39dca, com.mongodb.KotlinCodecProvider@4e9d9d6d]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=cluster0.17mmg.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-98aab7-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=STANDARD, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2024-11-19 16:27:45 INFO  org.mongodb.driver.cluster - Waiting for server to become available for operation with ID 1. Remaining time: 30000 ms. Selector: ReadPreferenceServerSelector{readPreference=primary}, topology description: {type=REPLICA_SET, servers=[{address=cluster0-shard-00-02.17mmg.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=cluster0-shard-00-00.17mmg.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=cluster0-shard-00-01.17mmg.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}].
2024-11-19 16:27:46 INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-00.17mmg.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=346578417, setName='atlas-98aab7-shard-0', canonicalAddress=cluster0-shard-00-00.17mmg.mongodb.net:27017, hosts=[cluster0-shard-00-00.17mmg.mongodb.net:27017, cluster0-shard-00-01.17mmg.mongodb.net:27017, cluster0-shard-00-02.17mmg.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.17mmg.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='apse1-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_SOUTHEAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=304, topologyVersion=TopologyVersion{processId=673b5f37b227313ffc7af85c, counter=5}, lastWriteDate=Tue Nov 19 16:27:46 IST 2024, lastUpdateTimeNanos=548965850768125}
2024-11-19 16:27:46 INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-01.17mmg.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=345166084, setName='atlas-98aab7-shard-0', canonicalAddress=cluster0-shard-00-01.17mmg.mongodb.net:27017, hosts=[cluster0-shard-00-00.17mmg.mongodb.net:27017, cluster0-shard-00-01.17mmg.mongodb.net:27017, cluster0-shard-00-02.17mmg.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.17mmg.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='apse1-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_SOUTHEAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff00000000000002df, setVersion=304, topologyVersion=TopologyVersion{processId=673b5f81b0c27b71fba3b3e0, counter=7}, lastWriteDate=Tue Nov 19 16:27:46 IST 2024, lastUpdateTimeNanos=548965855301875}
2024-11-19 16:27:46 INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-02.17mmg.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=344922166, setName='atlas-98aab7-shard-0', canonicalAddress=cluster0-shard-00-02.17mmg.mongodb.net:27017, hosts=[cluster0-shard-00-00.17mmg.mongodb.net:27017, cluster0-shard-00-01.17mmg.mongodb.net:27017, cluster0-shard-00-02.17mmg.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.17mmg.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='apse1-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_SOUTHEAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=304, topologyVersion=TopologyVersion{processId=673b5fcfca90516ccb72493f, counter=4}, lastWriteDate=Tue Nov 19 16:27:46 IST 2024, lastUpdateTimeNanos=548965855338083}
2024-11-19 16:27:46 INFO  org.mongodb.driver.cluster - Discovered replica set primary cluster0-shard-00-01.17mmg.mongodb.net:27017 with max election id 7fffffff00000000000002df and max set version 304
2024-11-19 16:28:19 ERROR s.e.n.i.o.controller.OrderController - No completed orders found with profileType merchant and ID 9fa15283-f8e6-49aa-bfdc-75f294ec776f
2024-11-19 16:28:27 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [sg.edu.nus.iss.order_service.exception.ResourceNotFoundException: No orders found with ID 9fa15283-f8e6-49aa-bfdc-75f294ec776f]
2024-11-19 16:28:27 INFO  s.e.n.i.o.db.MongoSingleton - Starting closing of all mongoClients.
2024-11-19 16:28:28 INFO  s.e.n.i.o.db.MongoSingleton - All MongoClient connections closed.
2024-11-19 16:28:54 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-19 16:28:54 INFO  s.e.n.i.o.OrderServiceApplication - Starting OrderServiceApplication using Java 21.0.3 with PID 19647 (/Users/rituthori/projects/order-service/target/classes started by rituthori in /Users/rituthori/projects/order-service)
2024-11-19 16:28:54 INFO  s.e.n.i.o.OrderServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-19 16:28:54 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-11-19 16:28:54 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-11-19 16:28:54 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-11-19 16:28:54 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-11-19 16:28:54 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 MongoDB repository interfaces.
2024-11-19 16:28:54 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-19 16:28:54 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-19 16:28:54 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-19 16:28:54 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2024-11-19 16:28:54 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-19 16:28:54 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 544 ms
2024-11-19 16:28:55 INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2024-11-19 16:28:55 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-11-19 16:28:55 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-11-19 16:28:55 INFO  s.e.n.i.o.OrderServiceApplication - Started OrderServiceApplication in 1.462 seconds (process running for 1.68)
2024-11-19 16:29:48 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-19 16:29:48 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-19 16:29:48 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-11-19 16:29:48 INFO  s.e.n.i.o.controller.OrderController - Retrieving completed orders for profileType merchant with ID 9fa15283-f8e6-49aa-bfdc-75f294ec776f
2024-11-19 16:29:54 INFO  s.e.n.i.o.db.MongoSingleton - Setting mongo client for Order DB.
2024-11-19 16:29:55 INFO  org.mongodb.driver.cluster - Adding discovered server cluster0-shard-00-01.17mmg.mongodb.net:27017 to client view of cluster
2024-11-19 16:29:55 INFO  org.mongodb.driver.cluster - Adding discovered server cluster0-shard-00-00.17mmg.mongodb.net:27017 to client view of cluster
2024-11-19 16:29:55 INFO  org.mongodb.driver.cluster - Adding discovered server cluster0-shard-00-02.17mmg.mongodb.net:27017 to client view of cluster
2024-11-19 16:29:55 INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "5.0.1"}, "os": {"type": "Darwin", "name": "Mac OS X", "architecture": "aarch64", "version": "14.4"}, "platform": "Java/Oracle Corporation/21.0.3+7-LTS-152"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='test', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@466caba2, com.mongodb.Jep395RecordCodecProvider@73d369c4, com.mongodb.KotlinCodecProvider@3e2bc76]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=cluster0.17mmg.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-98aab7-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=STANDARD, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2024-11-19 16:29:55 INFO  org.mongodb.driver.cluster - Waiting for server to become available for operation with ID 1. Remaining time: 30000 ms. Selector: ReadPreferenceServerSelector{readPreference=primary}, topology description: {type=REPLICA_SET, servers=[{address=cluster0-shard-00-02.17mmg.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=cluster0-shard-00-00.17mmg.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=cluster0-shard-00-01.17mmg.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}].
2024-11-19 16:29:55 INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-00.17mmg.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=342413459, setName='atlas-98aab7-shard-0', canonicalAddress=cluster0-shard-00-00.17mmg.mongodb.net:27017, hosts=[cluster0-shard-00-00.17mmg.mongodb.net:27017, cluster0-shard-00-01.17mmg.mongodb.net:27017, cluster0-shard-00-02.17mmg.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.17mmg.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='apse1-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_SOUTHEAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=304, topologyVersion=TopologyVersion{processId=673b5f37b227313ffc7af85c, counter=5}, lastWriteDate=Tue Nov 19 16:29:55 IST 2024, lastUpdateTimeNanos=549095450861708}
2024-11-19 16:29:55 INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-01.17mmg.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=344647500, setName='atlas-98aab7-shard-0', canonicalAddress=cluster0-shard-00-01.17mmg.mongodb.net:27017, hosts=[cluster0-shard-00-00.17mmg.mongodb.net:27017, cluster0-shard-00-01.17mmg.mongodb.net:27017, cluster0-shard-00-02.17mmg.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.17mmg.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='apse1-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_SOUTHEAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff00000000000002df, setVersion=304, topologyVersion=TopologyVersion{processId=673b5f81b0c27b71fba3b3e0, counter=7}, lastWriteDate=Tue Nov 19 16:29:55 IST 2024, lastUpdateTimeNanos=549095450996833}
2024-11-19 16:29:55 INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-02.17mmg.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=345448709, setName='atlas-98aab7-shard-0', canonicalAddress=cluster0-shard-00-02.17mmg.mongodb.net:27017, hosts=[cluster0-shard-00-00.17mmg.mongodb.net:27017, cluster0-shard-00-01.17mmg.mongodb.net:27017, cluster0-shard-00-02.17mmg.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.17mmg.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='apse1-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_SOUTHEAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=304, topologyVersion=TopologyVersion{processId=673b5fcfca90516ccb72493f, counter=4}, lastWriteDate=Tue Nov 19 16:29:55 IST 2024, lastUpdateTimeNanos=549095457417875}
2024-11-19 16:29:55 INFO  org.mongodb.driver.cluster - Discovered replica set primary cluster0-shard-00-01.17mmg.mongodb.net:27017 with max election id 7fffffff00000000000002df and max set version 304
2024-11-19 16:30:16 ERROR s.e.n.i.o.controller.OrderController - No completed orders found with profileType merchant and ID 9fa15283-f8e6-49aa-bfdc-75f294ec776f
2024-11-19 16:30:16 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [sg.edu.nus.iss.order_service.exception.ResourceNotFoundException: No orders found with ID 9fa15283-f8e6-49aa-bfdc-75f294ec776f]
2024-11-19 16:30:16 INFO  s.e.n.i.o.db.MongoSingleton - Starting closing of all mongoClients.
2024-11-19 16:30:16 INFO  s.e.n.i.o.db.MongoSingleton - All MongoClient connections closed.
2024-11-19 16:30:18 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-19 16:30:18 INFO  s.e.n.i.o.OrderServiceApplication - Starting OrderServiceApplication using Java 21.0.3 with PID 19666 (/Users/rituthori/projects/order-service/target/classes started by rituthori in /Users/rituthori/projects/order-service)
2024-11-19 16:30:18 INFO  s.e.n.i.o.OrderServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-19 16:30:18 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-11-19 16:30:18 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-11-19 16:30:19 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-11-19 16:30:19 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-11-19 16:30:19 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 0 MongoDB repository interfaces.
2024-11-19 16:30:19 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-19 16:30:19 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-19 16:30:19 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-19 16:30:19 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2024-11-19 16:30:19 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-19 16:30:19 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 544 ms
2024-11-19 16:30:20 INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2024-11-19 16:30:20 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-11-19 16:30:20 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-11-19 16:30:20 INFO  s.e.n.i.o.OrderServiceApplication - Started OrderServiceApplication in 1.443 seconds (process running for 1.66)
2024-11-19 16:30:21 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-19 16:30:21 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-19 16:30:21 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-11-19 16:30:21 INFO  s.e.n.i.o.controller.OrderController - Retrieving completed orders for profileType merchant with ID 9fa15283-f8e6-49aa-bfdc-75f294ec776f
2024-11-19 16:31:12 INFO  s.e.n.i.o.db.MongoSingleton - Setting mongo client for Order DB.
2024-11-19 16:31:12 INFO  org.mongodb.driver.cluster - Adding discovered server cluster0-shard-00-01.17mmg.mongodb.net:27017 to client view of cluster
2024-11-19 16:31:12 INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "5.0.1"}, "os": {"type": "Darwin", "name": "Mac OS X", "architecture": "aarch64", "version": "14.4"}, "platform": "Java/Oracle Corporation/21.0.3+7-LTS-152"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='test', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@4e123079, com.mongodb.Jep395RecordCodecProvider@523a27c3, com.mongodb.KotlinCodecProvider@a50a863]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=cluster0.17mmg.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-98aab7-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=STANDARD, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2024-11-19 16:31:12 INFO  org.mongodb.driver.cluster - Adding discovered server cluster0-shard-00-00.17mmg.mongodb.net:27017 to client view of cluster
2024-11-19 16:31:12 INFO  org.mongodb.driver.cluster - Adding discovered server cluster0-shard-00-02.17mmg.mongodb.net:27017 to client view of cluster
2024-11-19 16:31:12 INFO  org.mongodb.driver.cluster - Waiting for server to become available for operation with ID 1. Remaining time: 30000 ms. Selector: ReadPreferenceServerSelector{readPreference=primary}, topology description: {type=REPLICA_SET, servers=[{address=cluster0-shard-00-02.17mmg.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=cluster0-shard-00-00.17mmg.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=cluster0-shard-00-01.17mmg.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}].
2024-11-19 16:31:14 INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-01.17mmg.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=1503954333, setName='atlas-98aab7-shard-0', canonicalAddress=cluster0-shard-00-01.17mmg.mongodb.net:27017, hosts=[cluster0-shard-00-00.17mmg.mongodb.net:27017, cluster0-shard-00-01.17mmg.mongodb.net:27017, cluster0-shard-00-02.17mmg.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.17mmg.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='apse1-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_SOUTHEAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff00000000000002df, setVersion=304, topologyVersion=TopologyVersion{processId=673b5f81b0c27b71fba3b3e0, counter=7}, lastWriteDate=Tue Nov 19 16:31:14 IST 2024, lastUpdateTimeNanos=549174191662750}
2024-11-19 16:31:14 INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-02.17mmg.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=1503032041, setName='atlas-98aab7-shard-0', canonicalAddress=cluster0-shard-00-02.17mmg.mongodb.net:27017, hosts=[cluster0-shard-00-00.17mmg.mongodb.net:27017, cluster0-shard-00-01.17mmg.mongodb.net:27017, cluster0-shard-00-02.17mmg.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.17mmg.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='apse1-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_SOUTHEAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=304, topologyVersion=TopologyVersion{processId=673b5fcfca90516ccb72493f, counter=4}, lastWriteDate=Tue Nov 19 16:31:14 GMT+05:30 2024, lastUpdateTimeNanos=549174191662833}
2024-11-19 16:31:14 INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-00.17mmg.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=1503236792, setName='atlas-98aab7-shard-0', canonicalAddress=cluster0-shard-00-00.17mmg.mongodb.net:27017, hosts=[cluster0-shard-00-00.17mmg.mongodb.net:27017, cluster0-shard-00-01.17mmg.mongodb.net:27017, cluster0-shard-00-02.17mmg.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.17mmg.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='apse1-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_SOUTHEAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=304, topologyVersion=TopologyVersion{processId=673b5f37b227313ffc7af85c, counter=5}, lastWriteDate=Tue Nov 19 16:31:14 GMT+05:30 2024, lastUpdateTimeNanos=549174191662875}
2024-11-19 16:31:14 INFO  org.mongodb.driver.cluster - Discovered replica set primary cluster0-shard-00-01.17mmg.mongodb.net:27017 with max election id 7fffffff00000000000002df and max set version 304
2024-11-19 16:32:41 ERROR s.e.n.i.o.db.MongoManager - findAllDocuments :: Exception occurred while finding all documents in collection: Interrupted waiting for lock
2024-11-19 16:32:41 ERROR s.e.n.i.o.controller.OrderController - No completed orders found with profileType merchant and ID 9fa15283-f8e6-49aa-bfdc-75f294ec776f
2024-11-19 16:32:41 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [sg.edu.nus.iss.order_service.exception.ResourceNotFoundException: No orders found with ID 9fa15283-f8e6-49aa-bfdc-75f294ec776f]
2024-11-19 16:32:41 INFO  s.e.n.i.o.db.MongoSingleton - Starting closing of all mongoClients.
2024-11-19 16:32:42 INFO  s.e.n.i.o.db.MongoSingleton - All MongoClient connections closed.
2024-11-19 16:32:48 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-19 16:32:48 INFO  s.e.n.i.o.OrderServiceApplication - Starting OrderServiceApplication using Java 21.0.3 with PID 19698 (/Users/rituthori/projects/order-service/target/classes started by rituthori in /Users/rituthori/projects/order-service)
2024-11-19 16:32:48 INFO  s.e.n.i.o.OrderServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-19 16:32:48 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-11-19 16:32:48 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-11-19 16:32:48 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-11-19 16:32:48 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-11-19 16:32:48 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 MongoDB repository interfaces.
2024-11-19 16:32:48 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-19 16:32:48 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-19 16:32:48 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-19 16:32:48 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2024-11-19 16:32:48 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-19 16:32:48 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 576 ms
2024-11-19 16:33:06 INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2024-11-19 16:33:06 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-11-19 16:33:06 INFO  s.e.n.i.o.OrderServiceApplication - Started OrderServiceApplication in 18.301 seconds (process running for 18.515)
2024-11-19 16:33:06 INFO  s.e.n.i.o.db.MongoSingleton - Starting closing of all mongoClients.
2024-11-19 16:33:06 INFO  s.e.n.i.o.db.MongoSingleton - All MongoClient connections closed.
2024-11-19 16:33:09 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-19 16:33:09 INFO  s.e.n.i.o.OrderServiceApplication - Starting OrderServiceApplication using Java 21.0.3 with PID 19717 (/Users/rituthori/projects/order-service/target/classes started by rituthori in /Users/rituthori/projects/order-service)
2024-11-19 16:33:09 INFO  s.e.n.i.o.OrderServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-19 16:33:09 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-11-19 16:33:09 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-11-19 16:33:09 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-11-19 16:33:09 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-11-19 16:33:09 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 MongoDB repository interfaces.
2024-11-19 16:33:10 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-19 16:33:10 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-19 16:33:10 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-19 16:33:10 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2024-11-19 16:33:10 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-19 16:33:10 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 521 ms
2024-11-19 16:33:17 INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2024-11-19 16:33:17 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-11-19 16:33:17 INFO  s.e.n.i.o.OrderServiceApplication - Started OrderServiceApplication in 8.023 seconds (process running for 8.237)
2024-11-19 16:33:17 INFO  s.e.n.i.o.db.MongoSingleton - Starting closing of all mongoClients.
2024-11-19 16:33:17 INFO  s.e.n.i.o.db.MongoSingleton - All MongoClient connections closed.
2024-11-19 16:33:25 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-19 16:33:25 INFO  s.e.n.i.o.OrderServiceApplication - Starting OrderServiceApplication using Java 21.0.3 with PID 19725 (/Users/rituthori/projects/order-service/target/classes started by rituthori in /Users/rituthori/projects/order-service)
2024-11-19 16:33:25 INFO  s.e.n.i.o.OrderServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-19 16:33:25 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-11-19 16:33:25 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-11-19 16:33:25 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-11-19 16:33:25 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-11-19 16:33:25 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 MongoDB repository interfaces.
2024-11-19 16:33:25 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-19 16:33:25 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-19 16:33:25 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-19 16:33:25 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2024-11-19 16:33:25 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-19 16:33:25 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 534 ms
2024-11-19 16:33:48 INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2024-11-19 16:33:49 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-11-19 16:33:49 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-11-19 16:33:49 INFO  s.e.n.i.o.OrderServiceApplication - Started OrderServiceApplication in 24.061 seconds (process running for 24.278)
2024-11-19 16:33:51 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-19 16:33:51 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-19 16:33:51 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 17 ms
2024-11-19 16:33:53 INFO  o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 2028 ms
2024-11-19 16:34:11 INFO  s.e.n.i.o.controller.OrderController - Retrieving completed orders for profileType merchant with ID 9fa15283-f8e6-49aa-bfdc-75f294ec776f
2024-11-19 16:34:44 ERROR s.e.n.i.o.db.MongoManager - findAllDocuments :: Exception occurred while finding all documents in collection: Failed looking up TXT record for host cluster0.17mmg.mongodb.net
2024-11-19 16:34:44 ERROR s.e.n.i.o.controller.OrderController - No completed orders found with profileType merchant and ID 9fa15283-f8e6-49aa-bfdc-75f294ec776f
2024-11-19 16:34:44 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [sg.edu.nus.iss.order_service.exception.ResourceNotFoundException: No orders found with ID 9fa15283-f8e6-49aa-bfdc-75f294ec776f]
2024-11-19 16:34:44 INFO  s.e.n.i.o.db.MongoSingleton - Starting closing of all mongoClients.
2024-11-19 16:34:44 INFO  s.e.n.i.o.db.MongoSingleton - All MongoClient connections closed.
2024-11-19 16:42:11 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-19 16:42:11 INFO  s.e.n.i.o.OrderServiceApplication - Starting OrderServiceApplication using Java 21.0.3 with PID 19826 (/Users/rituthori/projects/order-service/target/classes started by rituthori in /Users/rituthori/projects/order-service)
2024-11-19 16:42:11 INFO  s.e.n.i.o.OrderServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-19 16:42:11 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-11-19 16:42:11 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-11-19 16:42:11 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-11-19 16:42:11 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-11-19 16:42:11 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 MongoDB repository interfaces.
2024-11-19 16:42:11 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-19 16:42:11 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-19 16:42:11 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-19 16:42:11 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2024-11-19 16:42:11 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-19 16:42:11 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 542 ms
2024-11-19 16:42:18 INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2024-11-19 16:42:19 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-11-19 16:42:19 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-11-19 16:42:19 INFO  s.e.n.i.o.OrderServiceApplication - Started OrderServiceApplication in 8.077 seconds (process running for 8.297)
2024-11-19 16:42:22 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-19 16:42:22 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-19 16:42:22 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 15 ms
2024-11-19 16:42:22 INFO  s.e.n.i.o.controller.OrderController - Retrieving completed orders for profileType merchant with ID 9fa15283-f8e6-49aa-bfdc-75f294ec776f
2024-11-19 16:43:07 INFO  s.e.n.i.o.db.MongoSingleton - Setting mongo client for Order DB.
2024-11-19 16:43:07 INFO  org.mongodb.driver.cluster - Adding discovered server cluster0-shard-00-01.17mmg.mongodb.net:27017 to client view of cluster
2024-11-19 16:43:07 INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "5.0.1"}, "os": {"type": "Darwin", "name": "Mac OS X", "architecture": "aarch64", "version": "14.4"}, "platform": "Java/Oracle Corporation/21.0.3+7-LTS-152"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='test', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@72d2495a, com.mongodb.Jep395RecordCodecProvider@69b9966a, com.mongodb.KotlinCodecProvider@2072d464]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=cluster0.17mmg.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-98aab7-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=STANDARD, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2024-11-19 16:43:07 INFO  org.mongodb.driver.cluster - Adding discovered server cluster0-shard-00-00.17mmg.mongodb.net:27017 to client view of cluster
2024-11-19 16:43:07 INFO  org.mongodb.driver.cluster - Adding discovered server cluster0-shard-00-02.17mmg.mongodb.net:27017 to client view of cluster
2024-11-19 16:43:07 INFO  org.mongodb.driver.cluster - Waiting for server to become available for operation with ID 1. Remaining time: 30000 ms. Selector: ReadPreferenceServerSelector{readPreference=primary}, topology description: {type=REPLICA_SET, servers=[{address=cluster0-shard-00-02.17mmg.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=cluster0-shard-00-00.17mmg.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=cluster0-shard-00-01.17mmg.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}].
2024-11-19 16:43:09 INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-00.17mmg.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=1484789834, setName='atlas-98aab7-shard-0', canonicalAddress=cluster0-shard-00-00.17mmg.mongodb.net:27017, hosts=[cluster0-shard-00-00.17mmg.mongodb.net:27017, cluster0-shard-00-01.17mmg.mongodb.net:27017, cluster0-shard-00-02.17mmg.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.17mmg.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='apse1-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_SOUTHEAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=304, topologyVersion=TopologyVersion{processId=673b5f37b227313ffc7af85c, counter=5}, lastWriteDate=Tue Nov 19 16:43:09 IST 2024, lastUpdateTimeNanos=549889202505583}
2024-11-19 16:43:09 INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-01.17mmg.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=1485062208, setName='atlas-98aab7-shard-0', canonicalAddress=cluster0-shard-00-01.17mmg.mongodb.net:27017, hosts=[cluster0-shard-00-00.17mmg.mongodb.net:27017, cluster0-shard-00-01.17mmg.mongodb.net:27017, cluster0-shard-00-02.17mmg.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.17mmg.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='apse1-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_SOUTHEAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff00000000000002df, setVersion=304, topologyVersion=TopologyVersion{processId=673b5f81b0c27b71fba3b3e0, counter=7}, lastWriteDate=Tue Nov 19 16:43:09 GMT+05:30 2024, lastUpdateTimeNanos=549889202505750}
2024-11-19 16:43:09 INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-02.17mmg.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=1485915500, setName='atlas-98aab7-shard-0', canonicalAddress=cluster0-shard-00-02.17mmg.mongodb.net:27017, hosts=[cluster0-shard-00-00.17mmg.mongodb.net:27017, cluster0-shard-00-01.17mmg.mongodb.net:27017, cluster0-shard-00-02.17mmg.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.17mmg.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='apse1-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_SOUTHEAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=304, topologyVersion=TopologyVersion{processId=673b5fcfca90516ccb72493f, counter=4}, lastWriteDate=Tue Nov 19 16:43:09 GMT+05:30 2024, lastUpdateTimeNanos=549889202505750}
2024-11-19 16:43:09 INFO  org.mongodb.driver.cluster - Discovered replica set primary cluster0-shard-00-01.17mmg.mongodb.net:27017 with max election id 7fffffff00000000000002df and max set version 304
2024-11-19 16:43:19 INFO  s.e.n.i.o.controller.OrderController - completed orders for profileType merchant with ID 9fa15283-f8e6-49aa-bfdc-75f294ec776f found. Orders count : 8
2024-11-19 16:43:31 INFO  s.e.n.i.o.db.MongoSingleton - Starting closing of all mongoClients.
2024-11-19 16:43:31 INFO  s.e.n.i.o.db.MongoSingleton - All MongoClient connections closed.
2024-11-19 17:02:01 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-19 17:02:01 INFO  s.e.n.i.o.OrderServiceApplication - Starting OrderServiceApplication using Java 21.0.3 with PID 20038 (/Users/rituthori/projects/order-service/target/classes started by rituthori in /Users/rituthori/projects/order-service)
2024-11-19 17:02:01 INFO  s.e.n.i.o.OrderServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-19 17:02:01 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-11-19 17:02:01 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-11-19 17:02:01 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-11-19 17:02:01 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-11-19 17:02:01 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 0 MongoDB repository interfaces.
2024-11-19 17:02:01 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-19 17:02:01 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-19 17:02:01 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-19 17:02:01 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2024-11-19 17:02:01 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-19 17:02:01 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 443 ms
2024-11-19 17:02:01 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 17:02:01 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Initializing ProfileTypeStrategyContext with customer, merchant, and deliveryPartner strategies.
2024-11-19 17:02:01 INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2024-11-19 17:02:01 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-11-19 17:02:01 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-11-19 17:02:01 INFO  s.e.n.i.o.OrderServiceApplication - Started OrderServiceApplication in 0.912 seconds (process running for 1.084)
2024-11-19 17:02:11 INFO  s.e.n.i.o.db.MongoSingleton - Starting closing of all mongoClients.
2024-11-19 17:02:11 INFO  s.e.n.i.o.db.MongoSingleton - All MongoClient connections closed.
2024-11-19 17:03:45 INFO  s.e.n.i.o.controller.OrderController - Creating order from cart for customer with ID 1
2024-11-19 17:03:45 INFO  s.e.n.i.o.controller.OrderController - Order created from cart for customer with ID 1 with response {}
2024-11-19 17:03:45 INFO  s.e.n.i.o.controller.OrderController - Updating order status by orderId order1
2024-11-19 17:03:45 INFO  s.e.n.i.o.controller.OrderController - Optional request body null
2024-11-19 17:03:45 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to update order status READY for orderId order1
2024-11-19 17:03:45 INFO  s.e.n.i.o.controller.OrderController - Retrieving order by orderId 1
2024-11-19 17:03:45 INFO  s.e.n.i.o.controller.OrderController - Order with ID 1 found. Order: {"orderId":"orderId1","createdDate":0,"updatedDate":0,"useRewards":false,"useDelivery":false}
2024-11-19 17:03:45 INFO  s.e.n.i.o.controller.OrderController - Retrieving all active orders for delivery and in READY state
2024-11-19 17:03:45 ERROR s.e.n.i.o.controller.OrderController - No active orders found marked for delivery and in READY state
2024-11-19 17:03:45 INFO  s.e.n.i.o.controller.OrderController - Updating order status by orderId order1
2024-11-19 17:03:45 INFO  s.e.n.i.o.controller.OrderController - Optional request body null
2024-11-19 17:03:45 ERROR s.e.n.i.o.controller.OrderController - Failed to update order status READY for orderId order1
2024-11-19 17:03:45 INFO  s.e.n.i.o.controller.OrderController - V2 :: Creating order from cart for customer with ID 1, if delivery is needed or not true and if reward points are needed or not true
2024-11-19 17:03:45 ERROR s.e.n.i.o.controller.OrderController - V2 :: Failed to create order for customerId 1 using useRewardPoints true and deliveryNeeded true
2024-11-19 17:03:45 INFO  s.e.n.i.o.controller.OrderController - Creating order from cart for customer with ID 1
2024-11-19 17:03:45 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to create order from cart for customer with ID 1
2024-11-19 17:03:45 INFO  s.e.n.i.o.controller.OrderController - Retrieving ACTIVE orders for profileType customer with ID 1
2024-11-19 17:03:45 ERROR s.e.n.i.o.controller.OrderController - No ACTIVE orders found with profileType customer and ID 1
2024-11-19 17:03:45 INFO  s.e.n.i.o.controller.OrderController - V2 :: Creating order from cart for customer with ID 1, if delivery is needed or not true and if reward points are needed or not true
2024-11-19 17:03:45 ERROR s.e.n.i.o.controller.OrderController - V2 :: Some exception happened trying to create order from cart for customer with ID 1
2024-11-19 17:03:45 INFO  s.e.n.i.o.controller.OrderController - Creating order from cart for customer with ID 1
2024-11-19 17:03:45 ERROR s.e.n.i.o.controller.OrderController - Failed to create order for customerId 1
2024-11-19 17:03:45 INFO  s.e.n.i.o.controller.OrderController - Retrieving order by orderId 1
2024-11-19 17:03:45 ERROR s.e.n.i.o.controller.OrderController - Order with ID 1 not found
2024-11-19 17:03:45 INFO  s.e.n.i.o.controller.OrderController - Retrieving order by orderId 1
2024-11-19 17:03:45 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to find order with orderId 1
2024-11-19 17:03:45 INFO  s.e.n.i.o.controller.OrderController - Retrieving all active orders for delivery and in READY state
2024-11-19 17:03:45 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to get all active orders marked for delivery and in READY state
2024-11-19 17:03:45 INFO  s.e.n.i.o.controller.OrderController - Retrieving ACTIVE orders for profileType customer with ID 1
2024-11-19 17:03:45 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to get ACTIVE orders for profileType customer with ID 1
2024-11-19 17:03:45 INFO  s.e.n.i.o.controller.OrderController - Retrieving all active orders for delivery and in READY state
2024-11-19 17:03:45 INFO  s.e.n.i.o.controller.OrderController - Active orders found marked for delivery and in READY state. Orders count : 1
2024-11-19 17:03:45 INFO  s.e.n.i.o.controller.OrderController - Updating order status by orderId order1
2024-11-19 17:03:45 INFO  s.e.n.i.o.controller.OrderController - Optional request body null
2024-11-19 17:03:45 INFO  s.e.n.i.o.controller.OrderController - Order status updated for orderId order1 for status READY
2024-11-19 17:03:45 INFO  s.e.n.i.o.controller.OrderController - V2 :: Creating order from cart for customer with ID 1, if delivery is needed or not true and if reward points are needed or not true
2024-11-19 17:03:45 INFO  s.e.n.i.o.controller.OrderController - V2 :: Order created from cart for customer with ID 1 with response {}
2024-11-19 17:03:45 INFO  s.e.n.i.o.controller.OrderController - Retrieving ACTIVE orders for profileType customer with ID 1
2024-11-19 17:03:45 INFO  s.e.n.i.o.controller.OrderController - ACTIVE orders for profileType customer with ID 1 found. Orders count : 1
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Product details found for productIds: b9bf13df-0170-4584-9065-f66dab3f3ec9
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Updating customer reward points for orderId: 0cd9f9cc-55b3-4df3-955b-2df1ef3cf121 and customerId : customer1
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Customer customer1 reward points updated successfully for orderId: 0cd9f9cc-55b3-4df3-955b-2df1ef3cf121 with order amount 0
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Order to be created : Order(orderId=0cd9f9cc-55b3-4df3-955b-2df1ef3cf121, customerId=customer1, merchantId=b9bf13df-0170-4584-9065-f66dab3f3ec9, deliveryPartnerId=null, orderItems=[Item(productId=b9bf13df-0170-4584-9065-f66dab3f3ec9, quantity=10, price=1E+1)], totalPrice=95.0, status=CREATED, createdDate=1732016025849, updatedDate=1732016025849, createdBy=customer, updatedBy=customer, useRewards=true, useDelivery=true, rewardsAmountUsed=5.0, customerRewardsPointsUsed=500.0)
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Order created successfully for customer: customer1
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Starting generateProductUpdateReqObts, products: [Product(productId=b9bf13df-0170-4584-9065-f66dab3f3ec9, productName=null, category=Category(categoryId=b9bf13df-0170-4584-9065-f66dab3f3ec9, categoryName=cat1, categoryDescription=cat1 desc), imageUrl=null, productDescription=null, originalPrice=null, listingPrice=1E+1, availableStock=10, merchantId=b9bf13df-0170-4584-9065-f66dab3f3ec9, pincode=null)], cartItems: [Item(productId=b9bf13df-0170-4584-9065-f66dab3f3ec9, quantity=10, price=1E+1)]
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Updating stock for productId: b9bf13df-0170-4584-9065-f66dab3f3ec9
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Product stock updated successfully for productId: b9bf13df-0170-4584-9065-f66dab3f3ec9
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_PICKED_UP
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : d355a7bd-184a-4d44-a924-2a5869477400 and deliveryPartnerId d355a7bd-184a-4d44-a924-2a5869477400 with status DELIVERY_PICKED_UP
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Delivery status updated successfully for orderId: d355a7bd-184a-4d44-a924-2a5869477400 with deliveryPartnerId null for status DELIVERY_PICKED_UP
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Delivery record successfully updated in delivery service for orderId: order1 and deliveryPartnerId: d355a7bd-184a-4d44-a924-2a5869477400, updating data in order colls.
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for order: order1 using query : {"orderId":"order1"}
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Successfully update delivery status for order: order1 and kept status : DELIVERY_PICKED_UP
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : COMPLETED
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 43e45805-49e3-4e85-8aca-b2eaa5349f27 and deliveryPartnerId 43e45805-49e3-4e85-8aca-b2eaa5349f27 with status COMPLETED
2024-11-19 17:03:45 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: 43e45805-49e3-4e85-8aca-b2eaa5349f27 for status COMPLETED
2024-11-19 17:03:45 ERROR s.e.n.i.o.service.OrderService - Failed to complete delivery for orderId: order1 for deliveryPartnerId: 43e45805-49e3-4e85-8aca-b2eaa5349f27
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_ACCEPTED
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 5be83107-6b80-44d9-b5b6-e16c8d7c7558 and deliveryPartnerId 5be83107-6b80-44d9-b5b6-e16c8d7c7558 with status DELIVERY_ACCEPTED
2024-11-19 17:03:45 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: 5be83107-6b80-44d9-b5b6-e16c8d7c7558 for status DELIVERY_ACCEPTED
2024-11-19 17:03:45 ERROR s.e.n.i.o.service.OrderService - Failed to start delivery for orderId: order1 for deliveryPartnerId: 5be83107-6b80-44d9-b5b6-e16c8d7c7558
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Fetching order by orderId: order1
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Found orders for provided orderId: order1
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Deleting order for orderId: order1
2024-11-19 17:03:45 ERROR s.e.n.i.o.service.OrderService - Failed to delete order for orderId: order1
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Fetching all active orders available for delivery, having status READY and opted for delivery
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Query to fetch active orders for delivery : Document{{status=READY, useDelivery=true}} from orders coll
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - No active orders found for delivery having status READY and opted for delivery
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Fetching orders for profileType: merchant with ID: merchant1 and listType: CANCELLED
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Selected order strategy: CANCELLED
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Formatted ID for profileType merchant: merchantId
2024-11-19 17:03:45 ERROR s.e.n.i.o.service.OrderService - An error occurred while retrieving orders for profileType merchant and ID merchant1: Cannot invoke "sg.edu.nus.iss.order_service.strategy.order.OrderTypeStrategy.getOrders(String, String)" because "orderTypeStrategy" is null
java.lang.NullPointerException: Cannot invoke "sg.edu.nus.iss.order_service.strategy.order.OrderTypeStrategy.getOrders(String, String)" because "orderTypeStrategy" is null
	at sg.edu.nus.iss.order_service.service.OrderService.getOrdersListByProfileId(OrderService.java:325)
	at sg.edu.nus.iss.order_service.service.OrderServiceTest.testGetOrdersListByProfileId_Cancelled_Failure(OrderServiceTest.java:231)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Fetching order by orderId: order1
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - No orders found for orderId: order1
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Fetching orders for profileType: merchant with ID: merchant1 and listType: ACTIVE
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Selected order strategy: ACTIVE
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Formatted ID for profileType merchant: merchantId
2024-11-19 17:03:45 ERROR s.e.n.i.o.service.OrderService - An error occurred while retrieving orders for profileType merchant and ID merchant1: Cannot invoke "sg.edu.nus.iss.order_service.strategy.order.OrderTypeStrategy.getOrders(String, String)" because "orderTypeStrategy" is null
java.lang.NullPointerException: Cannot invoke "sg.edu.nus.iss.order_service.strategy.order.OrderTypeStrategy.getOrders(String, String)" because "orderTypeStrategy" is null
	at sg.edu.nus.iss.order_service.service.OrderService.getOrdersListByProfileId(OrderService.java:325)
	at sg.edu.nus.iss.order_service.service.OrderServiceTest.testGetOrdersListByProfileId_Active_Failure(OrderServiceTest.java:251)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_ACCEPTED
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 60525a8a-d74c-473c-8627-f3cf19d954cb and deliveryPartnerId 60525a8a-d74c-473c-8627-f3cf19d954cb with status DELIVERY_ACCEPTED
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Delivery status updated successfully for orderId: 60525a8a-d74c-473c-8627-f3cf19d954cb with deliveryPartnerId null for status DELIVERY_ACCEPTED
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Delivery record successfully created in delivery service for orderId: order1 and deliveryPartnerId: 60525a8a-d74c-473c-8627-f3cf19d954cb, updating data in order colls.
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Starting delivery for order: order1 using query : {"orderId":"order1"}
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Started delivery flow successfully for order: order1 and kept status : DELIVERY_ACCEPTED
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_PICKED_UP
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 43f15d15-b585-41c8-8d2a-053938a5ec80 and deliveryPartnerId 43f15d15-b585-41c8-8d2a-053938a5ec80 with status DELIVERY_PICKED_UP
2024-11-19 17:03:45 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: 43f15d15-b585-41c8-8d2a-053938a5ec80 for status DELIVERY_PICKED_UP
2024-11-19 17:03:45 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: order1 for deliveryPartnerId: 43f15d15-b585-41c8-8d2a-053938a5ec80 in delivery service
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : CANCELLED
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Updating customer reward points for orderId: order1 and customerId : dfce6a5e-9787-472d-b9cb-f1480338445e
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Customer dfce6a5e-9787-472d-b9cb-f1480338445e reward points updated successfully for orderId: order1 with order amount 500.0
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Order has been cancelled successfully for orderId: order1 and kept in cancelled coll
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-19 17:03:45 ERROR s.e.n.i.o.service.OrderService - No items found in cart for customer: customer1, so no order to be created
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Fetching orders for profileType: merchant with ID: merchant1 and listType: COMPLETED
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Selected order strategy: COMPLETED
2024-11-19 17:03:45 INFO  s.e.n.i.o.service.OrderService - Formatted ID for profileType merchant: merchantId
2024-11-19 17:03:45 ERROR s.e.n.i.o.service.OrderService - An error occurred while retrieving orders for profileType merchant and ID merchant1: Cannot invoke "sg.edu.nus.iss.order_service.strategy.order.OrderTypeStrategy.getOrders(String, String)" because "orderTypeStrategy" is null
java.lang.NullPointerException: Cannot invoke "sg.edu.nus.iss.order_service.strategy.order.OrderTypeStrategy.getOrders(String, String)" because "orderTypeStrategy" is null
	at sg.edu.nus.iss.order_service.service.OrderService.getOrdersListByProfileId(OrderService.java:325)
	at sg.edu.nus.iss.order_service.service.OrderServiceTest.testGetOrdersListByProfileId_Completed_Failure(OrderServiceTest.java:211)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : READY
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 using query : {"orderId":"order1"}
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.OrderService - Order status updated successfully for orderId: order1 to status : READY
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.OrderService - Product details found for productIds: 025c5030-12b5-4070-8bfb-cbaf698bbe03
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.OrderService - Order to be created : Order(orderId=b1592ec2-00c3-455f-ba7a-8ea68bfb4c91, customerId=customer1, merchantId=025c5030-12b5-4070-8bfb-cbaf698bbe03, deliveryPartnerId=null, orderItems=[Item(productId=025c5030-12b5-4070-8bfb-cbaf698bbe03, quantity=10, price=1E+1)], totalPrice=100, status=CREATED, createdDate=1732016026004, updatedDate=1732016026004, createdBy=customer, updatedBy=customer, useRewards=false, useDelivery=true, rewardsAmountUsed=0, customerRewardsPointsUsed=0)
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.OrderService - Order created successfully for customer: customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.OrderService - Starting generateProductUpdateReqObts, products: [Product(productId=025c5030-12b5-4070-8bfb-cbaf698bbe03, productName=null, category=Category(categoryId=025c5030-12b5-4070-8bfb-cbaf698bbe03, categoryName=cat1, categoryDescription=cat1 desc), imageUrl=null, productDescription=null, originalPrice=null, listingPrice=1E+1, availableStock=10, merchantId=025c5030-12b5-4070-8bfb-cbaf698bbe03, pincode=null)], cartItems: [Item(productId=025c5030-12b5-4070-8bfb-cbaf698bbe03, quantity=10, price=1E+1)]
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.OrderService - Updating stock for productId: 025c5030-12b5-4070-8bfb-cbaf698bbe03
2024-11-19 17:03:46 ERROR s.e.n.i.o.service.OrderService - Failed to update product stock for productId: 025c5030-12b5-4070-8bfb-cbaf698bbe03
2024-11-19 17:03:46 ERROR s.e.n.i.o.service.OrderService - Failed to update stock for 1 products out of 1, so deleting previously created order
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.OrderService - Deleting order for orderId: b1592ec2-00c3-455f-ba7a-8ea68bfb4c91
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.OrderService - Order deleted successfully for orderId: b1592ec2-00c3-455f-ba7a-8ea68bfb4c91
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-19 17:03:46 ERROR s.e.n.i.o.service.OrderService - Failed to get product details for productIds: 7d30fc8e-ee7c-4e9f-ad60-bcb07aed3584
2024-11-19 17:03:46 ERROR s.e.n.i.o.service.OrderService - Failed to get product details or found non matching products for items in cart for customer: customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : COMPLETED
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : f170dae6-444a-4efc-a894-6d36fd093184 and deliveryPartnerId f170dae6-444a-4efc-a894-6d36fd093184 with status COMPLETED
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.OrderService - Delivery status updated successfully for orderId: f170dae6-444a-4efc-a894-6d36fd093184 with deliveryPartnerId null for status COMPLETED
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.OrderService - Delivery completed successfully in delivery service for orderId: order1 and deliveryPartnerId: f170dae6-444a-4efc-a894-6d36fd093184, updating data in order colls.
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.OrderService - Updating merchant earnings for orderId : order1 and merchantId f170dae6-444a-4efc-a894-6d36fd093184
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.OrderService - Merchant f170dae6-444a-4efc-a894-6d36fd093184 earnings updated successfully for orderId: order1 with order amount 100.0
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.OrderService - Updating customer reward points for orderId: order1 and customerId : f170dae6-444a-4efc-a894-6d36fd093184
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.OrderService - Customer f170dae6-444a-4efc-a894-6d36fd093184 reward points updated successfully for orderId: order1 with order amount 100.0
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.OrderService - Order has been completed successfully for orderId: order1 and kept in completed coll
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.OrderService - Fetching orders for profileType: newType with ID: new1 and listType: all
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.OrderService - Selected order strategy: ALL
2024-11-19 17:03:46 ERROR s.e.n.i.o.service.OrderService - Invalid profile type: newType
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.OrderService - Fetching orders for profileType: merchant with ID: merchant1 and listType: all
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.OrderService - Selected order strategy: ALL
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.OrderService - Formatted ID for profileType merchant: merchantId
2024-11-19 17:03:46 ERROR s.e.n.i.o.service.OrderService - An error occurred while retrieving orders for profileType merchant and ID merchant1: Cannot invoke "sg.edu.nus.iss.order_service.strategy.order.OrderTypeStrategy.getOrders(String, String)" because "orderTypeStrategy" is null
java.lang.NullPointerException: Cannot invoke "sg.edu.nus.iss.order_service.strategy.order.OrderTypeStrategy.getOrders(String, String)" because "orderTypeStrategy" is null
	at sg.edu.nus.iss.order_service.service.OrderService.getOrdersListByProfileId(OrderService.java:325)
	at sg.edu.nus.iss.order_service.service.OrderServiceTest.testGetOrdersListByProfileId_All_Failure(OrderServiceTest.java:275)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : READY
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 using query : {"orderId":"order1"}
2024-11-19 17:03:46 ERROR s.e.n.i.o.service.OrderService - Failed to update order status for orderId: order1 to status : READY
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : READY
2024-11-19 17:03:46 ERROR s.e.n.i.o.service.OrderService - No order found for orderId: order1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.OrderService - Deleting order for orderId: order1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.OrderService - Order deleted successfully for orderId: order1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.OrderService - Fetching all active orders available for delivery, having status READY and opted for delivery
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.OrderService - Query to fetch active orders for delivery : Document{{status=READY, useDelivery=true}} from orders coll
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.OrderService - Found active orders for delivery having status READY and opted for delivery, count 1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : INVALID
2024-11-19 17:03:46 ERROR s.e.n.i.o.service.OrderService - Invalid status provided for orderId: order1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. Creating new cart.
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Create cart for customer with ID customer1, merchant id merchant1 and products : [Item(productId=item1, quantity=10, price=null)]
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Creating cart for customer with ID customer1, merchant id merchant1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Cart created successfully for customer with ID customer1 for add item
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Cart is empty after removing last item for customer with ID customer1. So deleting the cart.
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1 with query : Document{{customerId=customer1}}
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Cart deleted/emptied successfully for customer with ID customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Finding cart for customer with ID customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Adding item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Updating cart for customer with ID customer1, with update document : {"$set":{"cartItems":[{"productId":"item1","quantity":20}],"updatedAt":1732016026039}}
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Cart updated successfully for customer with ID customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. Creating new cart.
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Create cart for customer with ID customer1, merchant id merchant1 and products : [Item(productId=item1, quantity=10, price=null)]
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Creating cart for customer with ID customer1, merchant id merchant1
2024-11-19 17:03:46 ERROR s.e.n.i.o.service.CartService - Failed to create cart for customer with ID customer1 for add item
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Cart is empty after removing last item for customer with ID customer1. So deleting the cart.
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1 with query : Document{{customerId=customer1}}
2024-11-19 17:03:46 ERROR s.e.n.i.o.service.CartService - Failed to delete/empty cart for customer with ID customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Finding cart for customer with ID customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Cart not found for customerID customer1.
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. Creating new cart.
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Create cart for customer with ID customer1, merchant id merchant1 and products : [Item(productId=item1, quantity=10, price=null)]
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Creating cart for customer with ID customer1, merchant id merchant1
2024-11-19 17:03:46 ERROR s.e.n.i.o.service.CartService - Failed to create cart for customer with ID customer1 for add item
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=5, price=null) to cart for customer with ID customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=5, price=null) to cart.
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Updating cart for customer with ID customer1, with update document : {"$set":{"cartItems":[{"productId":"item1","quantity":5}],"updatedAt":1732016026053}} to remove it
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Cart updated successfully for removing item for customer with ID customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. So no action required.
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item3, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item3, quantity=10, price=null) to cart.
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Item Item(productId=item3, quantity=10, price=null) not found in cart for customer with ID customer1. So no action required.
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=5, price=null) to cart for customer with ID customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=5, price=null) to cart.
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Updating cart for customer with ID customer1, with update document : {"$set":{"cartItems":[{"productId":"item1","quantity":5}],"updatedAt":1732016026059}} to remove it
2024-11-19 17:03:46 ERROR s.e.n.i.o.service.CartService - Failed to update cart for removing item for customer with ID customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Cart is empty after removing last item for customer with ID customer1. So deleting the cart.
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1 with query : Document{{customerId=customer1}}
2024-11-19 17:03:46 INFO  s.e.n.i.o.service.CartService - Cart deleted/emptied successfully for customer with ID customer1
2024-11-19 17:03:46 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [sg.edu.nus.iss.order_service.HomeControllerTest]: HomeControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-11-19 17:03:46 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration sg.edu.nus.iss.order_service.OrderServiceApplication for test class sg.edu.nus.iss.order_service.HomeControllerTest
2024-11-19 17:03:46 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2024-11-19 17:03:46 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-19 17:03:46 INFO  s.e.n.i.o.HomeControllerTest - Starting HomeControllerTest using Java 21.0.3 with PID 20071 (started by rituthori in /Users/rituthori/projects/order-service)
2024-11-19 17:03:46 INFO  s.e.n.i.o.HomeControllerTest - No active profile set, falling back to 1 default profile: "default"
2024-11-19 17:03:47 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2024-11-19 17:03:47 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2024-11-19 17:03:47 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2024-11-19 17:03:47 INFO  s.e.n.i.o.HomeControllerTest - Started HomeControllerTest in 0.726 seconds (process running for 3.091)
2024-11-19 17:03:47 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management"}
2024-11-19 17:03:47 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management Home"}
2024-11-19 17:03:47 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management Home"}
2024-11-19 17:03:47 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management"}
2024-11-19 17:03:47 INFO  s.e.n.i.o.controller.CartController - Retrieving cart for customer with ID 1
2024-11-19 17:03:47 INFO  s.e.n.i.o.controller.CartController - Cart for customer with ID 1 found. Cart: {"customerId":"1","cartItems":[{"productId":"1","quantity":10}],"createdAt":0,"updatedAt":0}
2024-11-19 17:03:47 INFO  s.e.n.i.o.controller.CartController - Adding item Item(productId=1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 17:03:47 INFO  s.e.n.i.o.controller.CartController - Item added to cart for customer with ID customer1
2024-11-19 17:03:47 INFO  s.e.n.i.o.controller.CartController - Retrieving cart for customer with ID 1
2024-11-19 17:03:47 ERROR s.e.n.i.o.controller.CartController - Cart for customer with ID 1 not found
2024-11-19 17:03:47 INFO  s.e.n.i.o.controller.CartController - Adding item Item(productId=1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 17:03:47 ERROR s.e.n.i.o.controller.CartController - Failed to add item to cart for customer with ID customer1
2024-11-19 17:03:47 INFO  s.e.n.i.o.controller.CartController - Deleting or emptying cart for customer with ID customer1
2024-11-19 17:03:47 INFO  s.e.n.i.o.controller.CartController - Cart deleted/emptied for customer with ID customer1
2024-11-19 17:03:47 INFO  s.e.n.i.o.controller.CartController - Removing item Item(productId=1, quantity=10, price=null) from cart for customer with ID customer1
2024-11-19 17:03:47 INFO  s.e.n.i.o.controller.CartController - Item removed from cart for customer with ID customer1
2024-11-19 17:03:47 INFO  s.e.n.i.o.controller.CartController - Deleting or emptying cart for customer with ID customer1
2024-11-19 17:03:47 INFO  s.e.n.i.o.controller.CartController - Some error occurred while trying to delete or empty cart for customer with ID customer1
2024-11-19 17:03:47 INFO  s.e.n.i.o.controller.CartController - Retrieving cart for customer with ID 1
2024-11-19 17:03:47 ERROR s.e.n.i.o.controller.CartController - Some exception happened to get cart for customer with ID 1
2024-11-19 17:03:47 INFO  s.e.n.i.o.controller.CartController - Removing item Item(productId=1, quantity=10, price=null) from cart for customer with ID customer1
2024-11-19 17:03:47 INFO  s.e.n.i.o.controller.CartController - Some error occurred while trying to remove item from cart for customer with ID customer1
2024-11-19 17:03:47 INFO  s.e.n.i.o.controller.CartController - Adding item Item(productId=1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 17:03:47 INFO  s.e.n.i.o.controller.CartController - Some error occurred while trying to add item added to cart for customer with ID customer1
2024-11-19 17:03:47 INFO  s.e.n.i.o.controller.CartController - Deleting or emptying cart for customer with ID customer1
2024-11-19 17:03:47 ERROR s.e.n.i.o.controller.CartController - Failed to delete cart for customer with ID customer1
2024-11-19 17:03:47 INFO  s.e.n.i.o.controller.CartController - Removing item Item(productId=1, quantity=10, price=null) from cart for customer with ID customer1
2024-11-19 17:03:47 ERROR s.e.n.i.o.controller.CartController - Failed to remove item from cart for customer with ID customer1
2024-11-19 17:11:44 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Initializing ProfileTypeStrategyContext with customer, merchant, and deliveryPartner strategies.
2024-11-19 17:11:44 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Delivery partner profile strategy fetched successfully.
2024-11-19 17:11:44 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Initializing ProfileTypeStrategyContext with customer, merchant, and deliveryPartner strategies.
2024-11-19 17:11:44 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Strategy found for profileType: merchant
2024-11-19 17:11:44 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Initializing ProfileTypeStrategyContext with customer, merchant, and deliveryPartner strategies.
2024-11-19 17:11:44 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Strategy found for profileType: deliveryPartner
2024-11-19 17:11:44 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Initializing ProfileTypeStrategyContext with customer, merchant, and deliveryPartner strategies.
2024-11-19 17:11:44 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Strategy found for profileType: customer
2024-11-19 17:11:44 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Initializing ProfileTypeStrategyContext with customer, merchant, and deliveryPartner strategies.
2024-11-19 17:11:44 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Merchant profile strategy fetched successfully.
2024-11-19 17:11:44 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Initializing ProfileTypeStrategyContext with customer, merchant, and deliveryPartner strategies.
2024-11-19 17:11:44 WARN  s.e.n.i.o.s.c.ProfileTypeStrategyContext - No strategy found for profileType: invalidProfile
2024-11-19 17:11:44 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Initializing ProfileTypeStrategyContext with customer, merchant, and deliveryPartner strategies.
2024-11-19 17:11:44 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Customer profile strategy fetched successfully.
2024-11-19 17:11:58 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 17:11:58 WARN  s.e.n.i.o.s.c.OrderTypeStrategyContext - Invalid listType: INVALID. Returning null.
2024-11-19 17:11:58 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 17:11:58 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to CANCELLED strategy.
2024-11-19 17:11:58 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 17:11:58 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ALL strategy.
2024-11-19 17:11:58 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 17:11:58 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ACTIVE strategy.
2024-11-19 17:11:58 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 17:11:58 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to COMPLETED strategy.
2024-11-19 17:12:58 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 17:12:58 WARN  s.e.n.i.o.s.c.OrderTypeStrategyContext - Invalid listType: INVALID. Returning null.
2024-11-19 17:12:58 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 17:12:58 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to CANCELLED strategy.
2024-11-19 17:12:58 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 17:12:58 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ALL strategy.
2024-11-19 17:12:58 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 17:12:58 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ACTIVE strategy.
2024-11-19 17:12:58 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 17:12:58 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to COMPLETED strategy.
2024-11-19 17:15:51 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 17:15:51 WARN  s.e.n.i.o.s.c.OrderTypeStrategyContext - Invalid listType: INVALID. Returning null.
2024-11-19 17:15:51 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 17:15:51 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to CANCELLED strategy.
2024-11-19 17:15:51 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 17:15:51 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ALL strategy.
2024-11-19 17:15:51 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 17:15:51 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ACTIVE strategy.
2024-11-19 17:15:51 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 17:15:51 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to COMPLETED strategy.
2024-11-19 17:18:42 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 17:18:42 WARN  s.e.n.i.o.s.c.OrderTypeStrategyContext - Invalid listType: INVALID. Returning null.
2024-11-19 17:18:42 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 17:18:42 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to CANCELLED strategy.
2024-11-19 17:18:42 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 17:18:42 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ALL strategy.
2024-11-19 17:18:42 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 17:18:42 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ACTIVE strategy.
2024-11-19 17:18:42 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 17:18:42 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to COMPLETED strategy.
2024-11-19 17:19:36 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 17:19:36 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to COMPLETED strategy.
2024-11-19 17:21:18 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 17:21:18 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to COMPLETED strategy.
2024-11-19 17:21:25 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 17:21:25 WARN  s.e.n.i.o.s.c.OrderTypeStrategyContext - Invalid listType: INVALID. Returning null.
2024-11-19 17:21:25 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 17:21:25 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to CANCELLED strategy.
2024-11-19 17:21:25 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 17:21:25 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ALL strategy.
2024-11-19 17:21:25 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 17:21:25 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ACTIVE strategy.
2024-11-19 17:21:25 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 17:21:25 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to COMPLETED strategy.
2024-11-19 17:23:20 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 17:23:20 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to COMPLETED strategy.
2024-11-19 17:26:41 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 17:26:41 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to COMPLETED strategy.
2024-11-19 17:28:11 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 17:28:11 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to COMPLETED strategy.
2024-11-19 17:29:58 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 17:29:58 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to COMPLETED strategy.
2024-11-19 17:56:43 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 17:56:43 WARN  s.e.n.i.o.s.c.OrderTypeStrategyContext - Invalid listType: INVALID. Returning null.
2024-11-19 17:56:43 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 17:56:43 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ACTIVE strategy.
2024-11-19 17:56:43 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 17:56:43 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 17:56:43 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 17:56:43 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:04:26 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:04:26 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ALL strategy.
2024-11-19 18:04:34 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:04:34 WARN  s.e.n.i.o.s.c.OrderTypeStrategyContext - Invalid listType: INVALID. Returning null.
2024-11-19 18:04:34 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:04:34 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ACTIVE strategy.
2024-11-19 18:04:34 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:04:34 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to CANCELLED strategy.
2024-11-19 18:04:34 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:04:34 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ALL strategy.
2024-11-19 18:04:34 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:04:34 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ACTIVE strategy.
2024-11-19 18:04:34 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:04:34 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to COMPLETED strategy.
2024-11-19 18:05:02 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:08:14 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:08:14 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to CANCELLED strategy.
2024-11-19 18:08:25 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:12:28 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:12:28 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ACTIVE strategy.
2024-11-19 18:12:28 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:12:28 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to CANCELLED strategy.
2024-11-19 18:12:28 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:12:28 WARN  s.e.n.i.o.s.c.OrderTypeStrategyContext - Invalid listType: INVALID. Returning null.
2024-11-19 18:12:28 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:12:28 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to COMPLETED strategy.
2024-11-19 18:12:28 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:12:28 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ALL strategy.
2024-11-19 18:13:56 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:13:56 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to COMPLETED strategy.
2024-11-19 18:17:52 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:17:52 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ACTIVE strategy.
2024-11-19 18:17:52 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:17:52 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ALL strategy.
2024-11-19 18:17:52 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:17:52 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to CANCELLED strategy.
2024-11-19 18:17:52 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:17:52 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to COMPLETED strategy.
2024-11-19 18:17:52 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:17:52 WARN  s.e.n.i.o.s.c.OrderTypeStrategyContext - Invalid listType: INVALID. Returning null.
2024-11-19 18:18:50 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:18:50 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ACTIVE strategy.
2024-11-19 18:18:50 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:18:50 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ALL strategy.
2024-11-19 18:18:50 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:18:50 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to CANCELLED strategy.
2024-11-19 18:18:50 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:18:50 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to COMPLETED strategy.
2024-11-19 18:18:50 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:18:50 WARN  s.e.n.i.o.s.c.OrderTypeStrategyContext - Invalid listType: INVALID. Returning null.
2024-11-19 18:19:37 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:19:37 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ACTIVE strategy.
2024-11-19 18:19:37 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:19:37 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ALL strategy.
2024-11-19 18:19:37 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:19:37 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to CANCELLED strategy.
2024-11-19 18:19:37 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:19:37 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to COMPLETED strategy.
2024-11-19 18:19:37 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:19:37 WARN  s.e.n.i.o.s.c.OrderTypeStrategyContext - Invalid listType: INVALID. Returning null.
2024-11-19 18:21:58 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:21:58 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ACTIVE strategy.
2024-11-19 18:30:45 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:30:45 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ACTIVE strategy.
2024-11-19 18:30:45 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:30:45 WARN  s.e.n.i.o.s.c.OrderTypeStrategyContext - Invalid listType: INVALID. Returning null.
2024-11-19 18:31:33 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:31:34 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ACTIVE strategy.
2024-11-19 18:31:34 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:31:34 WARN  s.e.n.i.o.s.c.OrderTypeStrategyContext - Invalid listType: INVALID. Returning null.
2024-11-19 18:32:29 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:32:29 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ACTIVE strategy.
2024-11-19 18:39:24 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:39:24 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to CANCELLED strategy.
2024-11-19 18:39:24 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:39:24 WARN  s.e.n.i.o.s.c.OrderTypeStrategyContext - Invalid listType: INVALID. Returning null.
2024-11-19 18:39:24 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:39:24 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ALL strategy.
2024-11-19 18:39:24 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:39:24 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ACTIVE strategy.
2024-11-19 18:39:24 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:39:24 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:39:24 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to COMPLETED strategy.
2024-11-19 18:43:02 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:43:02 WARN  s.e.n.i.o.s.c.OrderTypeStrategyContext - Null values detected in input parameters
2024-11-19 18:43:09 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:43:09 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to CANCELLED strategy.
2024-11-19 18:43:09 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:43:09 WARN  s.e.n.i.o.s.c.OrderTypeStrategyContext - Invalid listType: INVALID. Returning null.
2024-11-19 18:43:09 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:43:09 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ALL strategy.
2024-11-19 18:43:09 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:43:09 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ACTIVE strategy.
2024-11-19 18:43:09 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:43:09 WARN  s.e.n.i.o.s.c.OrderTypeStrategyContext - Null values detected in input parameters
2024-11-19 18:43:09 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:43:09 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to COMPLETED strategy.
2024-11-19 18:44:10 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:44:10 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ALL strategy.
2024-11-19 18:45:01 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:45:01 WARN  s.e.n.i.o.s.c.OrderTypeStrategyContext - Invalid listType: . Returning null.
2024-11-19 18:45:04 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:45:04 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ACTIVE strategy.
2024-11-19 18:45:11 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:45:11 WARN  s.e.n.i.o.s.c.OrderTypeStrategyContext - Invalid listType: . Returning null.
2024-11-19 18:45:11 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:45:11 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ALL strategy.
2024-11-19 18:45:11 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:45:11 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to CANCELLED strategy.
2024-11-19 18:45:11 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:45:11 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ACTIVE strategy.
2024-11-19 18:45:11 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:45:11 WARN  s.e.n.i.o.s.c.OrderTypeStrategyContext - Invalid listType: INVALID. Returning null.
2024-11-19 18:45:11 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:45:11 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ALL strategy.
2024-11-19 18:45:11 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:45:11 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ACTIVE strategy.
2024-11-19 18:45:11 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:45:11 WARN  s.e.n.i.o.s.c.OrderTypeStrategyContext - Null values detected in input parameters
2024-11-19 18:45:11 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:45:11 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to COMPLETED strategy.
2024-11-19 18:45:15 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:45:15 WARN  s.e.n.i.o.s.c.OrderTypeStrategyContext - Invalid listType: . Returning null.
2024-11-19 18:45:15 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:45:15 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ALL strategy.
2024-11-19 18:45:15 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:45:15 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to CANCELLED strategy.
2024-11-19 18:45:15 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:45:15 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ACTIVE strategy.
2024-11-19 18:45:15 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:45:15 WARN  s.e.n.i.o.s.c.OrderTypeStrategyContext - Invalid listType: INVALID. Returning null.
2024-11-19 18:45:15 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:45:15 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ALL strategy.
2024-11-19 18:45:15 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:45:15 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ACTIVE strategy.
2024-11-19 18:45:15 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:45:15 WARN  s.e.n.i.o.s.c.OrderTypeStrategyContext - Null values detected in input parameters
2024-11-19 18:45:15 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:45:15 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to COMPLETED strategy.
2024-11-19 18:47:56 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:47:56 WARN  s.e.n.i.o.s.c.OrderTypeStrategyContext - Invalid listType: . Returning null.
2024-11-19 18:47:56 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:47:56 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ALL strategy.
2024-11-19 18:47:56 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:47:56 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to CANCELLED strategy.
2024-11-19 18:47:56 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:47:56 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ACTIVE strategy.
2024-11-19 18:47:56 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:47:56 WARN  s.e.n.i.o.s.c.OrderTypeStrategyContext - Invalid listType: INVALID. Returning null.
2024-11-19 18:47:56 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:47:56 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ALL strategy.
2024-11-19 18:47:56 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:47:56 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ACTIVE strategy.
2024-11-19 18:47:56 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:47:56 WARN  s.e.n.i.o.s.c.OrderTypeStrategyContext - Null values detected in input parameters
2024-11-19 18:47:56 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:47:56 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to COMPLETED strategy.
2024-11-19 18:48:02 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:48:02 WARN  s.e.n.i.o.s.c.OrderTypeStrategyContext - Invalid listType: . Returning null.
2024-11-19 18:48:02 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:48:02 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ALL strategy.
2024-11-19 18:48:02 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:48:02 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to CANCELLED strategy.
2024-11-19 18:48:02 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:48:02 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ACTIVE strategy.
2024-11-19 18:48:02 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:48:02 WARN  s.e.n.i.o.s.c.OrderTypeStrategyContext - Invalid listType: INVALID. Returning null.
2024-11-19 18:48:02 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:48:02 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ALL strategy.
2024-11-19 18:48:02 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:48:02 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ACTIVE strategy.
2024-11-19 18:48:02 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:48:02 WARN  s.e.n.i.o.s.c.OrderTypeStrategyContext - Null values detected in input parameters
2024-11-19 18:48:02 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:48:02 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to COMPLETED strategy.
2024-11-19 18:58:53 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:58:53 WARN  s.e.n.i.o.s.c.OrderTypeStrategyContext - Invalid listType: . Returning null.
2024-11-19 18:58:53 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:58:54 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ALL strategy.
2024-11-19 18:58:54 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:58:54 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to CANCELLED strategy.
2024-11-19 18:58:54 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:58:54 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ACTIVE strategy.
2024-11-19 18:58:54 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:58:54 WARN  s.e.n.i.o.s.c.OrderTypeStrategyContext - Invalid listType: INVALID. Returning null.
2024-11-19 18:58:54 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:58:54 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:58:54 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ACTIVE strategy.
2024-11-19 18:58:54 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:58:54 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ALL strategy.
2024-11-19 18:58:54 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:58:54 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ACTIVE strategy.
2024-11-19 18:58:54 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:58:54 WARN  s.e.n.i.o.s.c.OrderTypeStrategyContext - Null values detected in input parameters
2024-11-19 18:58:54 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:58:54 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to COMPLETED strategy.
2024-11-19 18:59:14 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:59:14 WARN  s.e.n.i.o.s.c.OrderTypeStrategyContext - Invalid listType: . Returning null.
2024-11-19 18:59:14 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:59:15 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ALL strategy.
2024-11-19 18:59:15 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:59:15 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to CANCELLED strategy.
2024-11-19 18:59:15 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:59:15 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ACTIVE strategy.
2024-11-19 18:59:15 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:59:15 WARN  s.e.n.i.o.s.c.OrderTypeStrategyContext - Invalid listType: INVALID. Returning null.
2024-11-19 18:59:15 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:59:15 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ALL strategy.
2024-11-19 18:59:15 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:59:15 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ACTIVE strategy.
2024-11-19 18:59:15 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:59:15 WARN  s.e.n.i.o.s.c.OrderTypeStrategyContext - Null values detected in input parameters
2024-11-19 18:59:15 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 18:59:15 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to COMPLETED strategy.
2024-11-19 19:00:48 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Initializing ProfileTypeStrategyContext with customer, merchant, and deliveryPartner strategies.
2024-11-19 19:00:48 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Strategy found for profileType: customer
2024-11-19 19:00:48 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Customer profile strategy fetched successfully.
2024-11-19 19:00:48 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Merchant profile strategy fetched successfully.
2024-11-19 19:00:48 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Delivery partner profile strategy fetched successfully.
2024-11-19 19:00:48 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Initializing ProfileTypeStrategyContext with customer, merchant, and deliveryPartner strategies.
2024-11-19 19:00:48 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Delivery partner profile strategy fetched successfully.
2024-11-19 19:00:48 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Initializing ProfileTypeStrategyContext with customer, merchant, and deliveryPartner strategies.
2024-11-19 19:00:48 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Strategy found for profileType: customer
2024-11-19 19:00:48 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Initializing ProfileTypeStrategyContext with customer, merchant, and deliveryPartner strategies.
2024-11-19 19:00:48 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Merchant profile strategy fetched successfully.
2024-11-19 19:00:48 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Initializing ProfileTypeStrategyContext with customer, merchant, and deliveryPartner strategies.
2024-11-19 19:00:48 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Initializing ProfileTypeStrategyContext with customer, merchant, and deliveryPartner strategies.
2024-11-19 19:00:48 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Initializing ProfileTypeStrategyContext with customer, merchant, and deliveryPartner strategies.
2024-11-19 19:00:48 WARN  s.e.n.i.o.s.c.ProfileTypeStrategyContext - No strategy found for profileType: nonexistent
2024-11-19 19:00:48 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Initializing ProfileTypeStrategyContext with customer, merchant, and deliveryPartner strategies.
2024-11-19 19:00:48 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Customer profile strategy fetched successfully.
2024-11-19 19:05:39 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Initializing ProfileTypeStrategyContext with customer, merchant, and deliveryPartner strategies.
2024-11-19 19:05:39 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Initializing ProfileTypeStrategyContext with customer, merchant, and deliveryPartner strategies.
2024-11-19 19:07:26 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Initializing ProfileTypeStrategyContext with customer, merchant, and deliveryPartner strategies.
2024-11-19 19:07:26 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Strategy found for profileType: customer
2024-11-19 19:07:26 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Customer profile strategy fetched successfully.
2024-11-19 19:07:26 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Merchant profile strategy fetched successfully.
2024-11-19 19:07:26 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Delivery partner profile strategy fetched successfully.
2024-11-19 19:07:26 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Initializing ProfileTypeStrategyContext with customer, merchant, and deliveryPartner strategies.
2024-11-19 19:07:26 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Delivery partner profile strategy fetched successfully.
2024-11-19 19:07:26 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Initializing ProfileTypeStrategyContext with customer, merchant, and deliveryPartner strategies.
2024-11-19 19:07:26 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Strategy found for profileType: customer
2024-11-19 19:07:26 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Initializing ProfileTypeStrategyContext with customer, merchant, and deliveryPartner strategies.
2024-11-19 19:07:26 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Merchant profile strategy fetched successfully.
2024-11-19 19:07:26 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Initializing ProfileTypeStrategyContext with customer, merchant, and deliveryPartner strategies.
2024-11-19 19:07:26 WARN  s.e.n.i.o.s.c.ProfileTypeStrategyContext - No strategy found for profileType: nonexistent
2024-11-19 19:07:26 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Initializing ProfileTypeStrategyContext with customer, merchant, and deliveryPartner strategies.
2024-11-19 19:07:26 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Customer profile strategy fetched successfully.
2024-11-19 19:07:31 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Initializing ProfileTypeStrategyContext with customer, merchant, and deliveryPartner strategies.
2024-11-19 19:07:31 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Strategy found for profileType: customer
2024-11-19 19:07:31 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Customer profile strategy fetched successfully.
2024-11-19 19:07:31 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Merchant profile strategy fetched successfully.
2024-11-19 19:07:31 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Delivery partner profile strategy fetched successfully.
2024-11-19 19:07:31 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Initializing ProfileTypeStrategyContext with customer, merchant, and deliveryPartner strategies.
2024-11-19 19:07:31 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Delivery partner profile strategy fetched successfully.
2024-11-19 19:07:31 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Initializing ProfileTypeStrategyContext with customer, merchant, and deliveryPartner strategies.
2024-11-19 19:07:31 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Strategy found for profileType: customer
2024-11-19 19:07:31 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Initializing ProfileTypeStrategyContext with customer, merchant, and deliveryPartner strategies.
2024-11-19 19:07:31 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Merchant profile strategy fetched successfully.
2024-11-19 19:07:31 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Initializing ProfileTypeStrategyContext with customer, merchant, and deliveryPartner strategies.
2024-11-19 19:07:31 WARN  s.e.n.i.o.s.c.ProfileTypeStrategyContext - No strategy found for profileType: nonexistent
2024-11-19 19:07:31 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Initializing ProfileTypeStrategyContext with customer, merchant, and deliveryPartner strategies.
2024-11-19 19:07:31 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Customer profile strategy fetched successfully.
2024-11-19 19:12:10 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Initializing ProfileTypeStrategyContext with customer, merchant, and deliveryPartner strategies.
2024-11-19 19:12:10 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Strategy found for profileType: customer
2024-11-19 19:38:40 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: customer and profileId: 12345
2024-11-19 19:38:40 WARN  s.e.n.i.o.s.o.i.ActiveOrderStrategy - No active orders found for profileType: customer and profileId: 12345
2024-11-19 19:41:31 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: customer and profileId: 12345
2024-11-19 19:41:31 WARN  s.e.n.i.o.s.o.i.ActiveOrderStrategy - No active orders found for profileType: customer and profileId: 12345
2024-11-19 19:41:59 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: customer and profileId: 12345
2024-11-19 19:42:45 WARN  s.e.n.i.o.s.o.i.ActiveOrderStrategy - No active orders found for profileType: customer and profileId: 12345
2024-11-19 19:53:33 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: customer and profileId: 12345
2024-11-19 19:53:33 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Successfully retrieved 2 active orders for profileType: customer and profileId: 12345
2024-11-19 19:54:30 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: customer and profileId: 12345
2024-11-19 19:54:30 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Successfully retrieved 2 active orders for profileType: customer and profileId: 12345
2024-11-19 19:55:05 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: customer and profileId: 12345
2024-11-19 19:55:26 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Successfully retrieved 2 active orders for profileType: customer and profileId: 12345
2024-11-19 19:56:06 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: customer and profileId: 12345
2024-11-19 19:56:10 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Successfully retrieved 2 active orders for profileType: customer and profileId: 12345
2024-11-19 19:57:40 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: customer and profileId: 12345
2024-11-19 19:57:54 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Successfully retrieved 2 active orders for profileType: customer and profileId: 12345
2024-11-19 19:59:38 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: customer and profileId: 12345
2024-11-19 19:59:38 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Successfully retrieved 2 active orders for profileType: customer and profileId: 12345
2024-11-19 20:00:12 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: customer and profileId: 12345
2024-11-19 20:00:12 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Successfully retrieved 2 active orders for profileType: customer and profileId: 12345
2024-11-19 20:03:42 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: customer and profileId: 12345
2024-11-19 20:03:42 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Successfully retrieved 2 active orders for profileType: customer and profileId: 12345
2024-11-19 20:04:09 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: customer and profileId: 12345
2024-11-19 20:04:09 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Successfully retrieved 2 active orders for profileType: customer and profileId: 12345
2024-11-19 20:04:13 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: customer and profileId: 12345
2024-11-19 20:04:13 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Successfully retrieved 2 active orders for profileType: customer and profileId: 12345
2024-11-19 20:04:25 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: customer and profileId: 12345
2024-11-19 20:04:25 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Successfully retrieved 2 active orders for profileType: customer and profileId: 12345
2024-11-19 20:04:49 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: customer and profileId: 12345
2024-11-19 20:04:49 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Successfully retrieved 2 active orders for profileType: customer and profileId: 12345
2024-11-19 20:05:13 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: customer and profileId: 12345
2024-11-19 20:05:13 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Successfully retrieved 2 active orders for profileType: customer and profileId: 12345
2024-11-19 20:05:57 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: customer and profileId: 12345
2024-11-19 20:07:10 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Successfully retrieved 2 active orders for profileType: customer and profileId: 12345
2024-11-19 20:08:25 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: customer and profileId: 12345
2024-11-19 20:08:25 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Successfully retrieved 2 active orders for profileType: customer and profileId: 12345
2024-11-19 20:11:14 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: customer and profileId: 12345
2024-11-19 20:11:14 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Successfully retrieved 2 active orders for profileType: customer and profileId: 12345
2024-11-19 20:15:29 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: customer and profileId: 12345
2024-11-19 20:15:29 WARN  s.e.n.i.o.s.o.i.ActiveOrderStrategy - No active orders found for profileType: customer and profileId: 12345
2024-11-19 20:16:11 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: customer and profileId: 12345
2024-11-19 20:16:11 WARN  s.e.n.i.o.s.o.i.ActiveOrderStrategy - No active orders found for profileType: customer and profileId: 12345
2024-11-19 20:19:12 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: invalidProfile and profileId: 12345
2024-11-19 20:19:12 WARN  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Invalid profile type: invalidProfile
2024-11-19 20:19:12 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: customer and profileId: 12345
2024-11-19 20:19:12 WARN  s.e.n.i.o.s.o.i.ActiveOrderStrategy - No active orders found for profileType: customer and profileId: 12345
2024-11-19 20:19:12 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: customer and profileId: 12345
2024-11-19 20:19:12 WARN  s.e.n.i.o.s.o.i.ActiveOrderStrategy - No active orders found for profileType: customer and profileId: 12345
2024-11-19 20:19:17 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: invalidProfile and profileId: 12345
2024-11-19 20:19:17 WARN  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Invalid profile type: invalidProfile
2024-11-19 20:19:17 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: customer and profileId: 12345
2024-11-19 20:19:17 WARN  s.e.n.i.o.s.o.i.ActiveOrderStrategy - No active orders found for profileType: customer and profileId: 12345
2024-11-19 20:19:17 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: customer and profileId: 12345
2024-11-19 20:19:17 WARN  s.e.n.i.o.s.o.i.ActiveOrderStrategy - No active orders found for profileType: customer and profileId: 12345
2024-11-19 20:20:28 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: customer and profileId: 12345
2024-11-19 20:20:28 WARN  s.e.n.i.o.s.o.i.ActiveOrderStrategy - No active orders found for profileType: customer and profileId: 12345
2024-11-19 20:20:28 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: invalidProfile and profileId: 12345
2024-11-19 20:20:28 WARN  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Invalid profile type: invalidProfile
2024-11-19 20:20:28 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: customer and profileId: 12345
2024-11-19 20:20:28 WARN  s.e.n.i.o.s.o.i.ActiveOrderStrategy - No active orders found for profileType: customer and profileId: 12345
2024-11-19 20:20:28 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: customer and profileId: 12345
2024-11-19 20:20:28 WARN  s.e.n.i.o.s.o.i.ActiveOrderStrategy - No active orders found for profileType: customer and profileId: 12345
2024-11-19 20:20:28 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: null and profileId: null
2024-11-19 20:20:28 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: merchant and profileId: 67890
2024-11-19 20:20:28 WARN  s.e.n.i.o.s.o.i.ActiveOrderStrategy - No active orders found for profileType: merchant and profileId: 67890
2024-11-19 20:22:11 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: customer and profileId: 12345
2024-11-19 20:22:11 WARN  s.e.n.i.o.s.o.i.ActiveOrderStrategy - No active orders found for profileType: customer and profileId: 12345
2024-11-19 20:39:12 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: customer and profileId: 12345
2024-11-19 20:39:12 WARN  s.e.n.i.o.s.o.i.ActiveOrderStrategy - No active orders found for profileType: customer and profileId: 12345
2024-11-19 20:39:30 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: customer and profileId: 12345
2024-11-19 20:39:30 WARN  s.e.n.i.o.s.o.i.ActiveOrderStrategy - No active orders found for profileType: customer and profileId: 12345
2024-11-19 20:39:30 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: invalidProfile and profileId: 12345
2024-11-19 20:39:30 WARN  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Invalid profile type: invalidProfile
2024-11-19 20:39:30 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: customer and profileId: 12345
2024-11-19 20:39:30 WARN  s.e.n.i.o.s.o.i.ActiveOrderStrategy - No active orders found for profileType: customer and profileId: 12345
2024-11-19 20:39:30 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: null and profileId: null
2024-11-19 20:39:30 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: merchant and profileId: 67890
2024-11-19 20:39:30 WARN  s.e.n.i.o.s.o.i.ActiveOrderStrategy - No active orders found for profileType: merchant and profileId: 67890
2024-11-19 20:40:29 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: null and profileId: null
2024-11-19 20:40:42 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: null and profileId: null
2024-11-19 20:41:06 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: null and profileId: null
2024-11-19 20:42:08 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: customer and profileId: 12345
2024-11-19 20:42:08 WARN  s.e.n.i.o.s.o.i.ActiveOrderStrategy - No active orders found for profileType: customer and profileId: 12345
2024-11-19 20:47:49 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: merchant and profileId: 67890
2024-11-19 20:47:49 WARN  s.e.n.i.o.s.o.i.ActiveOrderStrategy - No active orders found for profileType: merchant and profileId: 67890
2024-11-19 20:47:58 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: customer and profileId: 12345
2024-11-19 20:47:58 WARN  s.e.n.i.o.s.o.i.ActiveOrderStrategy - No active orders found for profileType: customer and profileId: 12345
2024-11-19 20:47:58 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: invalidProfile and profileId: 12345
2024-11-19 20:47:58 WARN  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Invalid profile type: invalidProfile
2024-11-19 20:47:58 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: customer and profileId: 12345
2024-11-19 20:47:58 WARN  s.e.n.i.o.s.o.i.ActiveOrderStrategy - No active orders found for profileType: customer and profileId: 12345
2024-11-19 20:50:30 INFO  s.e.n.i.o.s.o.impl.AllOrderStrategy - Fetching all orders for profileType: customer and profileId: 12345
2024-11-19 20:50:30 WARN  s.e.n.i.o.s.o.impl.AllOrderStrategy - No all orders found for profileType: customer and profileId: 12345
2024-11-19 20:50:30 INFO  s.e.n.i.o.s.o.impl.AllOrderStrategy - Fetching all orders for profileType: invalidProfile and profileId: 12345
2024-11-19 20:50:30 WARN  s.e.n.i.o.s.o.impl.AllOrderStrategy - Invalid profile type: invalidProfile
2024-11-19 20:50:30 INFO  s.e.n.i.o.s.o.impl.AllOrderStrategy - Fetching all orders for profileType: customer and profileId: 12345
2024-11-19 20:50:30 WARN  s.e.n.i.o.s.o.impl.AllOrderStrategy - No all orders found for profileType: customer and profileId: 12345
2024-11-19 20:50:30 INFO  s.e.n.i.o.s.o.impl.AllOrderStrategy - Fetching all orders for profileType: customer and profileId: 12345
2024-11-19 20:50:30 WARN  s.e.n.i.o.s.o.impl.AllOrderStrategy - No all orders found for profileType: customer and profileId: 12345
2024-11-19 20:50:30 INFO  s.e.n.i.o.s.o.impl.AllOrderStrategy - Fetching all orders for profileType: merchant and profileId: 67890
2024-11-19 20:50:30 WARN  s.e.n.i.o.s.o.impl.AllOrderStrategy - No all orders found for profileType: merchant and profileId: 67890
2024-11-19 20:51:12 INFO  s.e.n.i.o.s.o.impl.AllOrderStrategy - Fetching all orders for profileType: merchant and profileId: 67890
2024-11-19 20:51:12 WARN  s.e.n.i.o.s.o.impl.AllOrderStrategy - No all orders found for profileType: merchant and profileId: 67890
2024-11-19 20:52:08 INFO  s.e.n.i.o.s.o.impl.AllOrderStrategy - Fetching all orders for profileType: customer and profileId: 12345
2024-11-19 20:52:47 WARN  s.e.n.i.o.s.o.impl.AllOrderStrategy - No all orders found for profileType: customer and profileId: 12345
2024-11-19 20:54:01 INFO  s.e.n.i.o.s.o.impl.AllOrderStrategy - Fetching all orders for profileType: customer and profileId: 12345
2024-11-19 20:54:01 WARN  s.e.n.i.o.s.o.impl.AllOrderStrategy - No all orders found for profileType: customer and profileId: 12345
2024-11-19 20:54:15 INFO  s.e.n.i.o.s.o.impl.AllOrderStrategy - Fetching all orders for profileType: customer and profileId: 12345
2024-11-19 20:59:26 WARN  s.e.n.i.o.s.o.impl.AllOrderStrategy - No all orders found for profileType: customer and profileId: 12345
2024-11-19 20:59:27 INFO  s.e.n.i.o.s.o.impl.AllOrderStrategy - Fetching all orders for profileType: customer and profileId: 12345
2024-11-19 20:59:27 WARN  s.e.n.i.o.s.o.impl.AllOrderStrategy - No all orders found for profileType: customer and profileId: 12345
2024-11-19 20:59:36 INFO  s.e.n.i.o.s.o.impl.AllOrderStrategy - Fetching all orders for profileType: merchant and profileId: 67890
2024-11-19 20:59:36 WARN  s.e.n.i.o.s.o.impl.AllOrderStrategy - No all orders found for profileType: merchant and profileId: 67890
2024-11-19 21:00:03 INFO  s.e.n.i.o.s.o.impl.AllOrderStrategy - Fetching all orders for profileType: merchant and profileId: 67890
2024-11-19 21:03:33 WARN  s.e.n.i.o.s.o.impl.AllOrderStrategy - No all orders found for profileType: merchant and profileId: 67890
2024-11-19 21:03:35 INFO  s.e.n.i.o.s.o.impl.AllOrderStrategy - Fetching all orders for profileType: merchant and profileId: 67890
2024-11-19 21:03:35 WARN  s.e.n.i.o.s.o.impl.AllOrderStrategy - No all orders found for profileType: merchant and profileId: 67890
2024-11-19 21:39:20 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-19 21:39:20 INFO  s.e.n.i.o.OrderServiceApplication - Starting OrderServiceApplication using Java 21.0.3 with PID 23952 (/Users/rituthori/projects/order-service/target/classes started by rituthori in /Users/rituthori/projects/order-service)
2024-11-19 21:39:20 INFO  s.e.n.i.o.OrderServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-19 21:39:20 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-11-19 21:39:20 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-11-19 21:39:21 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-11-19 21:39:21 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-11-19 21:39:21 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 MongoDB repository interfaces.
2024-11-19 21:39:21 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-19 21:39:21 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-19 21:39:21 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-19 21:39:21 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2024-11-19 21:39:21 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-19 21:39:21 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 500 ms
2024-11-19 21:39:21 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - OrderTypeStrategyContext initialized with strategies: ACTIVE, COMPLETED, CANCELLED, ALL
2024-11-19 21:39:21 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Initializing ProfileTypeStrategyContext with customer, merchant, and deliveryPartner strategies.
2024-11-19 21:39:21 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - ProfileTypeStrategyContext initialized successfully with 3 strategies.
2024-11-19 21:39:21 INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2024-11-19 21:39:21 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-11-19 21:39:21 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-11-19 21:39:21 INFO  s.e.n.i.o.OrderServiceApplication - Started OrderServiceApplication in 1.024 seconds (process running for 1.204)
2024-11-19 21:39:25 INFO  s.e.n.i.o.db.MongoSingleton - Starting closing of all mongoClients.
2024-11-19 21:39:25 INFO  s.e.n.i.o.db.MongoSingleton - All MongoClient connections closed.
2024-11-19 21:51:30 WARN  s.e.n.i.o.s.c.OrderTypeStrategyContext - Invalid listType: . Returning failure response.
2024-11-19 21:51:30 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ALL strategy.
2024-11-19 21:51:30 WARN  s.e.n.i.o.s.c.OrderTypeStrategyContext - No orders found for listType: ALL
2024-11-19 21:51:30 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to CANCELLED strategy.
2024-11-19 21:51:30 WARN  s.e.n.i.o.s.c.OrderTypeStrategyContext - No orders found for listType: CANCELLED
2024-11-19 21:51:30 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ACTIVE strategy.
2024-11-19 21:51:30 WARN  s.e.n.i.o.s.c.OrderTypeStrategyContext - No orders found for listType: ACTIVE
2024-11-19 21:51:30 WARN  s.e.n.i.o.s.c.OrderTypeStrategyContext - Invalid listType: INVALID. Returning failure response.
2024-11-19 21:51:30 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ALL strategy.
2024-11-19 21:51:30 WARN  s.e.n.i.o.s.c.OrderTypeStrategyContext - No orders found for listType: ALL
2024-11-19 21:51:30 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to ACTIVE strategy.
2024-11-19 21:51:30 WARN  s.e.n.i.o.s.c.OrderTypeStrategyContext - No orders found for listType: ACTIVE
2024-11-19 21:51:30 WARN  s.e.n.i.o.s.c.OrderTypeStrategyContext - Null values detected in input parameters
2024-11-19 21:51:30 INFO  s.e.n.i.o.s.c.OrderTypeStrategyContext - Delegating to COMPLETED strategy.
2024-11-19 21:51:30 WARN  s.e.n.i.o.s.c.OrderTypeStrategyContext - No orders found for listType: COMPLETED
2024-11-19 21:52:30 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-19 21:52:30 INFO  s.e.n.i.o.OrderServiceApplication - Starting OrderServiceApplication using Java 21.0.3 with PID 24157 (/Users/rituthori/projects/order-service/target/classes started by rituthori in /Users/rituthori/projects/order-service)
2024-11-19 21:52:30 INFO  s.e.n.i.o.OrderServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-19 21:52:30 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-11-19 21:52:30 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-11-19 21:52:30 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-11-19 21:52:30 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-11-19 21:52:30 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 0 MongoDB repository interfaces.
2024-11-19 21:52:31 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-19 21:52:31 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-19 21:52:31 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-19 21:52:31 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2024-11-19 21:52:31 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-19 21:52:31 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 502 ms
2024-11-19 21:52:31 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Initializing ProfileTypeStrategyContext with customer, merchant, and deliveryPartner strategies.
2024-11-19 21:52:31 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - ProfileTypeStrategyContext initialized successfully with 3 strategies.
2024-11-19 21:52:31 INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2024-11-19 21:52:31 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-11-19 21:52:31 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-11-19 21:52:31 INFO  s.e.n.i.o.OrderServiceApplication - Started OrderServiceApplication in 1.026 seconds (process running for 1.203)
2024-11-19 21:52:40 INFO  s.e.n.i.o.controller.OrderController - Creating order from cart for customer with ID 1
2024-11-19 21:52:40 INFO  s.e.n.i.o.controller.OrderController - Order created from cart for customer with ID 1 with response {}
2024-11-19 21:52:40 INFO  s.e.n.i.o.controller.OrderController - Updating order status by orderId order1
2024-11-19 21:52:40 INFO  s.e.n.i.o.controller.OrderController - Optional request body null
2024-11-19 21:52:40 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to update order status READY for orderId order1
2024-11-19 21:52:40 INFO  s.e.n.i.o.controller.OrderController - Retrieving order by orderId 1
2024-11-19 21:52:40 INFO  s.e.n.i.o.controller.OrderController - Order with ID 1 found. Order: {"orderId":"orderId1","createdDate":0,"updatedDate":0,"useRewards":false,"useDelivery":false}
2024-11-19 21:52:40 INFO  s.e.n.i.o.controller.OrderController - Retrieving all active orders for delivery and in READY state
2024-11-19 21:52:40 ERROR s.e.n.i.o.controller.OrderController - No active orders found marked for delivery and in READY state
2024-11-19 21:52:40 INFO  s.e.n.i.o.controller.OrderController - Updating order status by orderId order1
2024-11-19 21:52:40 INFO  s.e.n.i.o.controller.OrderController - Optional request body null
2024-11-19 21:52:40 ERROR s.e.n.i.o.controller.OrderController - Failed to update order status READY for orderId order1
2024-11-19 21:52:40 INFO  s.e.n.i.o.controller.OrderController - V2 :: Creating order from cart for customer with ID 1, if delivery is needed or not true and if reward points are needed or not true
2024-11-19 21:52:40 ERROR s.e.n.i.o.controller.OrderController - V2 :: Failed to create order for customerId 1 using useRewardPoints true and deliveryNeeded true
2024-11-19 21:52:40 INFO  s.e.n.i.o.controller.OrderController - Creating order from cart for customer with ID 1
2024-11-19 21:52:40 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to create order from cart for customer with ID 1
2024-11-19 21:52:40 INFO  s.e.n.i.o.controller.OrderController - Retrieving ACTIVE orders for profileType customer with ID 1
2024-11-19 21:52:40 ERROR s.e.n.i.o.controller.OrderController - No ACTIVE orders found with profileType customer and ID 1
2024-11-19 21:52:40 INFO  s.e.n.i.o.controller.OrderController - V2 :: Creating order from cart for customer with ID 1, if delivery is needed or not true and if reward points are needed or not true
2024-11-19 21:52:40 ERROR s.e.n.i.o.controller.OrderController - V2 :: Some exception happened trying to create order from cart for customer with ID 1
2024-11-19 21:52:40 INFO  s.e.n.i.o.controller.OrderController - Creating order from cart for customer with ID 1
2024-11-19 21:52:40 ERROR s.e.n.i.o.controller.OrderController - Failed to create order for customerId 1
2024-11-19 21:52:40 INFO  s.e.n.i.o.controller.OrderController - Retrieving order by orderId 1
2024-11-19 21:52:40 ERROR s.e.n.i.o.controller.OrderController - Order with ID 1 not found
2024-11-19 21:52:40 INFO  s.e.n.i.o.controller.OrderController - Retrieving order by orderId 1
2024-11-19 21:52:40 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to find order with orderId 1
2024-11-19 21:52:40 INFO  s.e.n.i.o.controller.OrderController - Retrieving all active orders for delivery and in READY state
2024-11-19 21:52:40 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to get all active orders marked for delivery and in READY state
2024-11-19 21:52:40 INFO  s.e.n.i.o.controller.OrderController - Retrieving ACTIVE orders for profileType customer with ID 1
2024-11-19 21:52:40 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to get ACTIVE orders for profileType customer with ID 1
2024-11-19 21:52:40 INFO  s.e.n.i.o.controller.OrderController - Retrieving all active orders for delivery and in READY state
2024-11-19 21:52:40 INFO  s.e.n.i.o.controller.OrderController - Active orders found marked for delivery and in READY state. Orders count : 1
2024-11-19 21:52:40 INFO  s.e.n.i.o.controller.OrderController - Updating order status by orderId order1
2024-11-19 21:52:40 INFO  s.e.n.i.o.controller.OrderController - Optional request body null
2024-11-19 21:52:40 INFO  s.e.n.i.o.controller.OrderController - Order status updated for orderId order1 for status READY
2024-11-19 21:52:40 INFO  s.e.n.i.o.controller.OrderController - V2 :: Creating order from cart for customer with ID 1, if delivery is needed or not true and if reward points are needed or not true
2024-11-19 21:52:40 INFO  s.e.n.i.o.controller.OrderController - V2 :: Order created from cart for customer with ID 1 with response {}
2024-11-19 21:52:40 INFO  s.e.n.i.o.controller.OrderController - Retrieving ACTIVE orders for profileType customer with ID 1
2024-11-19 21:52:40 INFO  s.e.n.i.o.controller.OrderController - ACTIVE orders for profileType customer with ID 1 found. Orders count : 1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Product details found for productIds: 2114b96b-ef69-4d0e-a5b6-4905d229760f
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Updating customer reward points for orderId: a5c78ae1-d602-4b3a-82ab-b642afe6a2a0 and customerId : customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Customer customer1 reward points updated successfully for orderId: a5c78ae1-d602-4b3a-82ab-b642afe6a2a0 with order amount 0
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Order to be created : Order(orderId=a5c78ae1-d602-4b3a-82ab-b642afe6a2a0, customerId=customer1, merchantId=2114b96b-ef69-4d0e-a5b6-4905d229760f, deliveryPartnerId=null, orderItems=[Item(productId=2114b96b-ef69-4d0e-a5b6-4905d229760f, quantity=10, price=1E+1)], totalPrice=95.0, status=CREATED, createdDate=1732033360490, updatedDate=1732033360490, createdBy=customer, updatedBy=customer, useRewards=true, useDelivery=true, rewardsAmountUsed=5.0, customerRewardsPointsUsed=500.0)
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Order created successfully for customer: customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Starting generateProductUpdateReqObts, products: [Product(productId=2114b96b-ef69-4d0e-a5b6-4905d229760f, productName=null, category=Category(categoryId=2114b96b-ef69-4d0e-a5b6-4905d229760f, categoryName=cat1, categoryDescription=cat1 desc), imageUrl=null, productDescription=null, originalPrice=null, listingPrice=1E+1, availableStock=10, merchantId=2114b96b-ef69-4d0e-a5b6-4905d229760f, pincode=null)], cartItems: [Item(productId=2114b96b-ef69-4d0e-a5b6-4905d229760f, quantity=10, price=1E+1)]
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Updating stock for productId: 2114b96b-ef69-4d0e-a5b6-4905d229760f
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Product stock updated successfully for productId: 2114b96b-ef69-4d0e-a5b6-4905d229760f
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_PICKED_UP
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 596cd7fb-ec15-4ffa-941c-6a337ff04bcb and deliveryPartnerId 596cd7fb-ec15-4ffa-941c-6a337ff04bcb with status DELIVERY_PICKED_UP
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Delivery status updated successfully for orderId: 596cd7fb-ec15-4ffa-941c-6a337ff04bcb with deliveryPartnerId null for status DELIVERY_PICKED_UP
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Delivery record successfully updated in delivery service for orderId: order1 and deliveryPartnerId: 596cd7fb-ec15-4ffa-941c-6a337ff04bcb, updating data in order colls.
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for order: order1 using query : {"orderId":"order1"}
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Successfully update delivery status for order: order1 and kept status : DELIVERY_PICKED_UP
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : COMPLETED
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 8e19b96f-1c01-4c71-a0ab-11c5a184cd0a and deliveryPartnerId 8e19b96f-1c01-4c71-a0ab-11c5a184cd0a with status COMPLETED
2024-11-19 21:52:40 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: 8e19b96f-1c01-4c71-a0ab-11c5a184cd0a for status COMPLETED
2024-11-19 21:52:40 ERROR s.e.n.i.o.service.OrderService - Failed to complete delivery for orderId: order1 for deliveryPartnerId: 8e19b96f-1c01-4c71-a0ab-11c5a184cd0a
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_ACCEPTED
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 7c65862a-58d8-48be-8726-53820fbe6eb7 and deliveryPartnerId 7c65862a-58d8-48be-8726-53820fbe6eb7 with status DELIVERY_ACCEPTED
2024-11-19 21:52:40 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: 7c65862a-58d8-48be-8726-53820fbe6eb7 for status DELIVERY_ACCEPTED
2024-11-19 21:52:40 ERROR s.e.n.i.o.service.OrderService - Failed to start delivery for orderId: order1 for deliveryPartnerId: 7c65862a-58d8-48be-8726-53820fbe6eb7
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Fetching order by orderId: order1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Found orders for provided orderId: order1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Deleting order for orderId: order1
2024-11-19 21:52:40 ERROR s.e.n.i.o.service.OrderService - Failed to delete order for orderId: order1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Fetching all active orders available for delivery, having status READY and opted for delivery
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Query to fetch active orders for delivery : Document{{status=READY, useDelivery=true}} from orders coll
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - No active orders found for delivery having status READY and opted for delivery
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Fetching orders for profileType: merchant with ID: merchant1 and listType: CANCELLED
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Selected order strategy: CANCELLED
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Formatted ID for profileType merchant: merchantId
2024-11-19 21:52:40 ERROR s.e.n.i.o.service.OrderService - An error occurred while retrieving orders for profileType merchant and ID merchant1: Cannot invoke "sg.edu.nus.iss.order_service.strategy.order.OrderTypeStrategy.getOrders(String, String)" because "orderTypeStrategy" is null
java.lang.NullPointerException: Cannot invoke "sg.edu.nus.iss.order_service.strategy.order.OrderTypeStrategy.getOrders(String, String)" because "orderTypeStrategy" is null
	at sg.edu.nus.iss.order_service.service.OrderService.getOrdersListByProfileId(OrderService.java:325)
	at sg.edu.nus.iss.order_service.service.OrderServiceTest.testGetOrdersListByProfileId_Cancelled_Failure(OrderServiceTest.java:231)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Fetching order by orderId: order1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - No orders found for orderId: order1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Fetching orders for profileType: merchant with ID: merchant1 and listType: ACTIVE
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Selected order strategy: ACTIVE
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Formatted ID for profileType merchant: merchantId
2024-11-19 21:52:40 ERROR s.e.n.i.o.service.OrderService - An error occurred while retrieving orders for profileType merchant and ID merchant1: Cannot invoke "sg.edu.nus.iss.order_service.strategy.order.OrderTypeStrategy.getOrders(String, String)" because "orderTypeStrategy" is null
java.lang.NullPointerException: Cannot invoke "sg.edu.nus.iss.order_service.strategy.order.OrderTypeStrategy.getOrders(String, String)" because "orderTypeStrategy" is null
	at sg.edu.nus.iss.order_service.service.OrderService.getOrdersListByProfileId(OrderService.java:325)
	at sg.edu.nus.iss.order_service.service.OrderServiceTest.testGetOrdersListByProfileId_Active_Failure(OrderServiceTest.java:251)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_ACCEPTED
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 357d4df8-6fb6-4503-981f-a06743759e84 and deliveryPartnerId 357d4df8-6fb6-4503-981f-a06743759e84 with status DELIVERY_ACCEPTED
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Delivery status updated successfully for orderId: 357d4df8-6fb6-4503-981f-a06743759e84 with deliveryPartnerId null for status DELIVERY_ACCEPTED
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Delivery record successfully created in delivery service for orderId: order1 and deliveryPartnerId: 357d4df8-6fb6-4503-981f-a06743759e84, updating data in order colls.
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Starting delivery for order: order1 using query : {"orderId":"order1"}
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Started delivery flow successfully for order: order1 and kept status : DELIVERY_ACCEPTED
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_PICKED_UP
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 580eb6ce-c904-49c2-9483-57fcc775e485 and deliveryPartnerId 580eb6ce-c904-49c2-9483-57fcc775e485 with status DELIVERY_PICKED_UP
2024-11-19 21:52:40 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: 580eb6ce-c904-49c2-9483-57fcc775e485 for status DELIVERY_PICKED_UP
2024-11-19 21:52:40 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: order1 for deliveryPartnerId: 580eb6ce-c904-49c2-9483-57fcc775e485 in delivery service
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : CANCELLED
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Updating customer reward points for orderId: order1 and customerId : fd2a4f5a-6fdb-4087-a796-104e53c71bf5
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Customer fd2a4f5a-6fdb-4087-a796-104e53c71bf5 reward points updated successfully for orderId: order1 with order amount 500.0
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Order has been cancelled successfully for orderId: order1 and kept in cancelled coll
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-19 21:52:40 ERROR s.e.n.i.o.service.OrderService - No items found in cart for customer: customer1, so no order to be created
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Fetching orders for profileType: merchant with ID: merchant1 and listType: COMPLETED
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Selected order strategy: COMPLETED
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Formatted ID for profileType merchant: merchantId
2024-11-19 21:52:40 ERROR s.e.n.i.o.service.OrderService - An error occurred while retrieving orders for profileType merchant and ID merchant1: Cannot invoke "sg.edu.nus.iss.order_service.strategy.order.OrderTypeStrategy.getOrders(String, String)" because "orderTypeStrategy" is null
java.lang.NullPointerException: Cannot invoke "sg.edu.nus.iss.order_service.strategy.order.OrderTypeStrategy.getOrders(String, String)" because "orderTypeStrategy" is null
	at sg.edu.nus.iss.order_service.service.OrderService.getOrdersListByProfileId(OrderService.java:325)
	at sg.edu.nus.iss.order_service.service.OrderServiceTest.testGetOrdersListByProfileId_Completed_Failure(OrderServiceTest.java:211)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : READY
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 using query : {"orderId":"order1"}
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Order status updated successfully for orderId: order1 to status : READY
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Product details found for productIds: b4f7c304-0697-4f02-ad89-8353f00dc162
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Order to be created : Order(orderId=999b88b6-688e-4131-a147-8401b179019d, customerId=customer1, merchantId=b4f7c304-0697-4f02-ad89-8353f00dc162, deliveryPartnerId=null, orderItems=[Item(productId=b4f7c304-0697-4f02-ad89-8353f00dc162, quantity=10, price=1E+1)], totalPrice=100, status=CREATED, createdDate=1732033360586, updatedDate=1732033360586, createdBy=customer, updatedBy=customer, useRewards=false, useDelivery=true, rewardsAmountUsed=0, customerRewardsPointsUsed=0)
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Order created successfully for customer: customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Starting generateProductUpdateReqObts, products: [Product(productId=b4f7c304-0697-4f02-ad89-8353f00dc162, productName=null, category=Category(categoryId=b4f7c304-0697-4f02-ad89-8353f00dc162, categoryName=cat1, categoryDescription=cat1 desc), imageUrl=null, productDescription=null, originalPrice=null, listingPrice=1E+1, availableStock=10, merchantId=b4f7c304-0697-4f02-ad89-8353f00dc162, pincode=null)], cartItems: [Item(productId=b4f7c304-0697-4f02-ad89-8353f00dc162, quantity=10, price=1E+1)]
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Updating stock for productId: b4f7c304-0697-4f02-ad89-8353f00dc162
2024-11-19 21:52:40 ERROR s.e.n.i.o.service.OrderService - Failed to update product stock for productId: b4f7c304-0697-4f02-ad89-8353f00dc162
2024-11-19 21:52:40 ERROR s.e.n.i.o.service.OrderService - Failed to update stock for 1 products out of 1, so deleting previously created order
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Deleting order for orderId: 999b88b6-688e-4131-a147-8401b179019d
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Order deleted successfully for orderId: 999b88b6-688e-4131-a147-8401b179019d
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-19 21:52:40 ERROR s.e.n.i.o.service.OrderService - Failed to get product details for productIds: bb8b51df-3043-46ba-bc80-d1b822679b77
2024-11-19 21:52:40 ERROR s.e.n.i.o.service.OrderService - Failed to get product details or found non matching products for items in cart for customer: customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : COMPLETED
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : ccf03fd8-1040-47b2-a385-06acd796a0b5 and deliveryPartnerId ccf03fd8-1040-47b2-a385-06acd796a0b5 with status COMPLETED
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Delivery status updated successfully for orderId: ccf03fd8-1040-47b2-a385-06acd796a0b5 with deliveryPartnerId null for status COMPLETED
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Delivery completed successfully in delivery service for orderId: order1 and deliveryPartnerId: ccf03fd8-1040-47b2-a385-06acd796a0b5, updating data in order colls.
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Updating merchant earnings for orderId : order1 and merchantId ccf03fd8-1040-47b2-a385-06acd796a0b5
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Merchant ccf03fd8-1040-47b2-a385-06acd796a0b5 earnings updated successfully for orderId: order1 with order amount 100.0
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Updating customer reward points for orderId: order1 and customerId : ccf03fd8-1040-47b2-a385-06acd796a0b5
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Customer ccf03fd8-1040-47b2-a385-06acd796a0b5 reward points updated successfully for orderId: order1 with order amount 100.0
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Order has been completed successfully for orderId: order1 and kept in completed coll
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Fetching orders for profileType: newType with ID: new1 and listType: all
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Selected order strategy: ALL
2024-11-19 21:52:40 ERROR s.e.n.i.o.service.OrderService - Invalid profile type: newType
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Fetching orders for profileType: merchant with ID: merchant1 and listType: all
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Selected order strategy: ALL
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Formatted ID for profileType merchant: merchantId
2024-11-19 21:52:40 ERROR s.e.n.i.o.service.OrderService - An error occurred while retrieving orders for profileType merchant and ID merchant1: Cannot invoke "sg.edu.nus.iss.order_service.strategy.order.OrderTypeStrategy.getOrders(String, String)" because "orderTypeStrategy" is null
java.lang.NullPointerException: Cannot invoke "sg.edu.nus.iss.order_service.strategy.order.OrderTypeStrategy.getOrders(String, String)" because "orderTypeStrategy" is null
	at sg.edu.nus.iss.order_service.service.OrderService.getOrdersListByProfileId(OrderService.java:325)
	at sg.edu.nus.iss.order_service.service.OrderServiceTest.testGetOrdersListByProfileId_All_Failure(OrderServiceTest.java:275)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : READY
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 using query : {"orderId":"order1"}
2024-11-19 21:52:40 ERROR s.e.n.i.o.service.OrderService - Failed to update order status for orderId: order1 to status : READY
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : READY
2024-11-19 21:52:40 ERROR s.e.n.i.o.service.OrderService - No order found for orderId: order1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Deleting order for orderId: order1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Order deleted successfully for orderId: order1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Fetching all active orders available for delivery, having status READY and opted for delivery
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Query to fetch active orders for delivery : Document{{status=READY, useDelivery=true}} from orders coll
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Found active orders for delivery having status READY and opted for delivery, count 1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : INVALID
2024-11-19 21:52:40 ERROR s.e.n.i.o.service.OrderService - Invalid status provided for orderId: order1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. Creating new cart.
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Create cart for customer with ID customer1, merchant id merchant1 and products : [Item(productId=item1, quantity=10, price=null)]
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Creating cart for customer with ID customer1, merchant id merchant1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Cart created successfully for customer with ID customer1 for add item
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Cart is empty after removing last item for customer with ID customer1. So deleting the cart.
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1 with query : Document{{customerId=customer1}}
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Cart deleted/emptied successfully for customer with ID customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Finding cart for customer with ID customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Adding item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Updating cart for customer with ID customer1, with update document : {"$set":{"cartItems":[{"productId":"item1","quantity":20}],"updatedAt":1732033360624}}
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Cart updated successfully for customer with ID customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. Creating new cart.
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Create cart for customer with ID customer1, merchant id merchant1 and products : [Item(productId=item1, quantity=10, price=null)]
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Creating cart for customer with ID customer1, merchant id merchant1
2024-11-19 21:52:40 ERROR s.e.n.i.o.service.CartService - Failed to create cart for customer with ID customer1 for add item
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Cart is empty after removing last item for customer with ID customer1. So deleting the cart.
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1 with query : Document{{customerId=customer1}}
2024-11-19 21:52:40 ERROR s.e.n.i.o.service.CartService - Failed to delete/empty cart for customer with ID customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Finding cart for customer with ID customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Cart not found for customerID customer1.
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. Creating new cart.
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Create cart for customer with ID customer1, merchant id merchant1 and products : [Item(productId=item1, quantity=10, price=null)]
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Creating cart for customer with ID customer1, merchant id merchant1
2024-11-19 21:52:40 ERROR s.e.n.i.o.service.CartService - Failed to create cart for customer with ID customer1 for add item
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=5, price=null) to cart for customer with ID customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=5, price=null) to cart.
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Updating cart for customer with ID customer1, with update document : {"$set":{"cartItems":[{"productId":"item1","quantity":5}],"updatedAt":1732033360635}} to remove it
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Cart updated successfully for removing item for customer with ID customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. So no action required.
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item3, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item3, quantity=10, price=null) to cart.
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Item Item(productId=item3, quantity=10, price=null) not found in cart for customer with ID customer1. So no action required.
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=5, price=null) to cart for customer with ID customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=5, price=null) to cart.
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Updating cart for customer with ID customer1, with update document : {"$set":{"cartItems":[{"productId":"item1","quantity":5}],"updatedAt":1732033360640}} to remove it
2024-11-19 21:52:40 ERROR s.e.n.i.o.service.CartService - Failed to update cart for removing item for customer with ID customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Cart is empty after removing last item for customer with ID customer1. So deleting the cart.
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1 with query : Document{{customerId=customer1}}
2024-11-19 21:52:40 INFO  s.e.n.i.o.service.CartService - Cart deleted/emptied successfully for customer with ID customer1
2024-11-19 21:52:40 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [sg.edu.nus.iss.order_service.HomeControllerTest]: HomeControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-11-19 21:52:40 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration sg.edu.nus.iss.order_service.OrderServiceApplication for test class sg.edu.nus.iss.order_service.HomeControllerTest
2024-11-19 21:52:40 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2024-11-19 21:52:40 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-19 21:52:40 INFO  s.e.n.i.o.HomeControllerTest - Starting HomeControllerTest using Java 21.0.3 with PID 24161 (started by rituthori in /Users/rituthori/projects/order-service)
2024-11-19 21:52:40 INFO  s.e.n.i.o.HomeControllerTest - No active profile set, falling back to 1 default profile: "default"
2024-11-19 21:52:41 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2024-11-19 21:52:41 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2024-11-19 21:52:41 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2024-11-19 21:52:41 INFO  s.e.n.i.o.HomeControllerTest - Started HomeControllerTest in 0.445 seconds (process running for 1.81)
2024-11-19 21:52:41 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management"}
2024-11-19 21:52:41 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management Home"}
2024-11-19 21:52:41 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management Home"}
2024-11-19 21:52:41 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management"}
2024-11-19 21:52:41 INFO  s.e.n.i.o.controller.CartController - Retrieving cart for customer with ID 1
2024-11-19 21:52:41 INFO  s.e.n.i.o.controller.CartController - Cart for customer with ID 1 found. Cart: {"customerId":"1","cartItems":[{"productId":"1","quantity":10}],"createdAt":0,"updatedAt":0}
2024-11-19 21:52:41 INFO  s.e.n.i.o.controller.CartController - Adding item Item(productId=1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 21:52:41 INFO  s.e.n.i.o.controller.CartController - Item added to cart for customer with ID customer1
2024-11-19 21:52:41 INFO  s.e.n.i.o.controller.CartController - Retrieving cart for customer with ID 1
2024-11-19 21:52:41 ERROR s.e.n.i.o.controller.CartController - Cart for customer with ID 1 not found
2024-11-19 21:52:41 INFO  s.e.n.i.o.controller.CartController - Adding item Item(productId=1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 21:52:41 ERROR s.e.n.i.o.controller.CartController - Failed to add item to cart for customer with ID customer1
2024-11-19 21:52:41 INFO  s.e.n.i.o.controller.CartController - Deleting or emptying cart for customer with ID customer1
2024-11-19 21:52:41 INFO  s.e.n.i.o.controller.CartController - Cart deleted/emptied for customer with ID customer1
2024-11-19 21:52:41 INFO  s.e.n.i.o.controller.CartController - Removing item Item(productId=1, quantity=10, price=null) from cart for customer with ID customer1
2024-11-19 21:52:41 INFO  s.e.n.i.o.controller.CartController - Item removed from cart for customer with ID customer1
2024-11-19 21:52:41 INFO  s.e.n.i.o.controller.CartController - Deleting or emptying cart for customer with ID customer1
2024-11-19 21:52:41 INFO  s.e.n.i.o.controller.CartController - Some error occurred while trying to delete or empty cart for customer with ID customer1
2024-11-19 21:52:41 INFO  s.e.n.i.o.controller.CartController - Retrieving cart for customer with ID 1
2024-11-19 21:52:41 ERROR s.e.n.i.o.controller.CartController - Some exception happened to get cart for customer with ID 1
2024-11-19 21:52:41 INFO  s.e.n.i.o.controller.CartController - Removing item Item(productId=1, quantity=10, price=null) from cart for customer with ID customer1
2024-11-19 21:52:41 INFO  s.e.n.i.o.controller.CartController - Some error occurred while trying to remove item from cart for customer with ID customer1
2024-11-19 21:52:41 INFO  s.e.n.i.o.controller.CartController - Adding item Item(productId=1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 21:52:41 INFO  s.e.n.i.o.controller.CartController - Some error occurred while trying to add item added to cart for customer with ID customer1
2024-11-19 21:52:41 INFO  s.e.n.i.o.controller.CartController - Deleting or emptying cart for customer with ID customer1
2024-11-19 21:52:41 ERROR s.e.n.i.o.controller.CartController - Failed to delete cart for customer with ID customer1
2024-11-19 21:52:41 INFO  s.e.n.i.o.controller.CartController - Removing item Item(productId=1, quantity=10, price=null) from cart for customer with ID customer1
2024-11-19 21:52:41 ERROR s.e.n.i.o.controller.CartController - Failed to remove item from cart for customer with ID customer1
2024-11-19 22:20:09 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-19 22:20:09 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-19 22:20:09 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2024-11-19 22:20:09 INFO  s.e.n.i.o.controller.OrderController - Retrieving completed orders for profileType merchant with ID 9fa15283-f8e6-49aa-bfdc-75f294ec776f
2024-11-19 22:20:09 INFO  s.e.n.i.o.service.OrderService - Fetching orders for profileType: merchant with ID: 9fa15283-f8e6-49aa-bfdc-75f294ec776f and listType: completed
2024-11-19 22:20:09 INFO  s.e.n.i.o.service.OrderService - Selected order strategy: COMPLETED
2024-11-19 22:20:09 INFO  s.e.n.i.o.service.OrderService - Formatted ID for profileType merchant: merchantId
2024-11-19 22:20:09 INFO  s.e.n.i.o.s.o.i.CompletedOrderStrategy - Fetching completed orders for profileType: merchant and profileId: 9fa15283-f8e6-49aa-bfdc-75f294ec776f
2024-11-19 22:20:09 INFO  s.e.n.i.o.db.MongoSingleton - Setting mongo client for Order DB.
2024-11-19 22:20:09 INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "5.0.1"}, "os": {"type": "Darwin", "name": "Mac OS X", "architecture": "aarch64", "version": "14.4"}, "platform": "Java/Oracle Corporation/21.0.3+7-LTS-152"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='test', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@245e83a3, com.mongodb.Jep395RecordCodecProvider@728dd210, com.mongodb.KotlinCodecProvider@5a151ce1]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=cluster0.17mmg.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-98aab7-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=STANDARD, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2024-11-19 22:20:09 INFO  org.mongodb.driver.cluster - Adding discovered server cluster0-shard-00-01.17mmg.mongodb.net:27017 to client view of cluster
2024-11-19 22:20:09 INFO  org.mongodb.driver.cluster - Waiting for server to become available for operation with ID 1. Remaining time: 30000 ms. Selector: ReadPreferenceServerSelector{readPreference=primary}, topology description: {type=UNKNOWN, servers=[].
2024-11-19 22:20:09 INFO  org.mongodb.driver.cluster - Adding discovered server cluster0-shard-00-00.17mmg.mongodb.net:27017 to client view of cluster
2024-11-19 22:20:09 INFO  org.mongodb.driver.cluster - Adding discovered server cluster0-shard-00-02.17mmg.mongodb.net:27017 to client view of cluster
2024-11-19 22:20:09 INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-00.17mmg.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=289123750, setName='atlas-98aab7-shard-0', canonicalAddress=cluster0-shard-00-00.17mmg.mongodb.net:27017, hosts=[cluster0-shard-00-00.17mmg.mongodb.net:27017, cluster0-shard-00-01.17mmg.mongodb.net:27017, cluster0-shard-00-02.17mmg.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.17mmg.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='apse1-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_SOUTHEAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=304, topologyVersion=TopologyVersion{processId=673b5f37b227313ffc7af85c, counter=5}, lastWriteDate=Tue Nov 19 22:20:09 IST 2024, lastUpdateTimeNanos=568196589885458}
2024-11-19 22:20:09 INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-01.17mmg.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=285334250, setName='atlas-98aab7-shard-0', canonicalAddress=cluster0-shard-00-01.17mmg.mongodb.net:27017, hosts=[cluster0-shard-00-00.17mmg.mongodb.net:27017, cluster0-shard-00-01.17mmg.mongodb.net:27017, cluster0-shard-00-02.17mmg.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.17mmg.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='apse1-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_SOUTHEAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff00000000000002df, setVersion=304, topologyVersion=TopologyVersion{processId=673b5f81b0c27b71fba3b3e0, counter=7}, lastWriteDate=Tue Nov 19 22:20:09 IST 2024, lastUpdateTimeNanos=568196589885375}
2024-11-19 22:20:09 INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-02.17mmg.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=289123833, setName='atlas-98aab7-shard-0', canonicalAddress=cluster0-shard-00-02.17mmg.mongodb.net:27017, hosts=[cluster0-shard-00-00.17mmg.mongodb.net:27017, cluster0-shard-00-01.17mmg.mongodb.net:27017, cluster0-shard-00-02.17mmg.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.17mmg.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='apse1-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_SOUTHEAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=304, topologyVersion=TopologyVersion{processId=673b5fcfca90516ccb72493f, counter=4}, lastWriteDate=Tue Nov 19 22:20:09 IST 2024, lastUpdateTimeNanos=568196589885375}
2024-11-19 22:20:09 INFO  org.mongodb.driver.cluster - Discovered replica set primary cluster0-shard-00-01.17mmg.mongodb.net:27017 with max election id 7fffffff00000000000002df and max set version 304
2024-11-19 22:20:10 INFO  s.e.n.i.o.s.o.i.CompletedOrderStrategy - Successfully retrieved 8 completed orders for profileType: merchant and profileId: 9fa15283-f8e6-49aa-bfdc-75f294ec776f
2024-11-19 22:20:10 INFO  s.e.n.i.o.service.OrderService - Successfully retrieved 8 orders for profileType merchant and ID 9fa15283-f8e6-49aa-bfdc-75f294ec776f
2024-11-19 22:20:10 INFO  s.e.n.i.o.controller.OrderController - completed orders for profileType merchant with ID 9fa15283-f8e6-49aa-bfdc-75f294ec776f found. Orders count : 8
2024-11-19 22:20:16 INFO  o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 122 ms
2024-11-19 22:21:00 INFO  s.e.n.i.o.controller.OrderController - Retrieving cancelled orders for profileType customer with ID b5d67a4b-7a18-4d0a-b206-3491f321c6d3
2024-11-19 22:21:00 INFO  s.e.n.i.o.service.OrderService - Fetching orders for profileType: customer with ID: b5d67a4b-7a18-4d0a-b206-3491f321c6d3 and listType: cancelled
2024-11-19 22:21:00 INFO  s.e.n.i.o.service.OrderService - Selected order strategy: CANCELLED
2024-11-19 22:21:00 INFO  s.e.n.i.o.service.OrderService - Formatted ID for profileType customer: customerId
2024-11-19 22:21:00 INFO  s.e.n.i.o.s.o.i.CancelledOrderStrategy - Fetching cancelled orders for profileType: customer and profileId: b5d67a4b-7a18-4d0a-b206-3491f321c6d3
2024-11-19 22:21:00 INFO  s.e.n.i.o.s.o.i.CancelledOrderStrategy - Successfully retrieved 3 cancelled orders for profileType: customer and profileId: b5d67a4b-7a18-4d0a-b206-3491f321c6d3
2024-11-19 22:21:00 INFO  s.e.n.i.o.service.OrderService - Successfully retrieved 3 orders for profileType customer and ID b5d67a4b-7a18-4d0a-b206-3491f321c6d3
2024-11-19 22:21:00 INFO  s.e.n.i.o.controller.OrderController - cancelled orders for profileType customer with ID b5d67a4b-7a18-4d0a-b206-3491f321c6d3 found. Orders count : 3
2024-11-19 22:21:12 INFO  s.e.n.i.o.controller.OrderController - Retrieving completed orders for profileType customer with ID b5d67a4b-7a18-4d0a-b206-3491f321c6d3
2024-11-19 22:21:12 INFO  s.e.n.i.o.service.OrderService - Fetching orders for profileType: customer with ID: b5d67a4b-7a18-4d0a-b206-3491f321c6d3 and listType: completed
2024-11-19 22:21:12 INFO  s.e.n.i.o.service.OrderService - Selected order strategy: COMPLETED
2024-11-19 22:21:12 INFO  s.e.n.i.o.service.OrderService - Formatted ID for profileType customer: customerId
2024-11-19 22:21:12 INFO  s.e.n.i.o.s.o.i.CompletedOrderStrategy - Fetching completed orders for profileType: customer and profileId: b5d67a4b-7a18-4d0a-b206-3491f321c6d3
2024-11-19 22:21:12 INFO  s.e.n.i.o.s.o.i.CompletedOrderStrategy - Successfully retrieved 8 completed orders for profileType: customer and profileId: b5d67a4b-7a18-4d0a-b206-3491f321c6d3
2024-11-19 22:21:12 INFO  s.e.n.i.o.service.OrderService - Successfully retrieved 8 orders for profileType customer and ID b5d67a4b-7a18-4d0a-b206-3491f321c6d3
2024-11-19 22:21:12 INFO  s.e.n.i.o.controller.OrderController - completed orders for profileType customer with ID b5d67a4b-7a18-4d0a-b206-3491f321c6d3 found. Orders count : 8
2024-11-19 22:21:26 INFO  s.e.n.i.o.controller.OrderController - Retrieving active orders for profileType customer with ID b5d67a4b-7a18-4d0a-b206-3491f321c6d3
2024-11-19 22:21:26 INFO  s.e.n.i.o.service.OrderService - Fetching orders for profileType: customer with ID: b5d67a4b-7a18-4d0a-b206-3491f321c6d3 and listType: active
2024-11-19 22:21:26 INFO  s.e.n.i.o.service.OrderService - Selected order strategy: ACTIVE
2024-11-19 22:21:26 INFO  s.e.n.i.o.service.OrderService - Formatted ID for profileType customer: customerId
2024-11-19 22:21:26 INFO  s.e.n.i.o.s.o.i.ActiveOrderStrategy - Fetching active orders for profileType: customer and profileId: b5d67a4b-7a18-4d0a-b206-3491f321c6d3
2024-11-19 22:21:26 WARN  s.e.n.i.o.s.o.i.ActiveOrderStrategy - No active orders found for profileType: customer and profileId: b5d67a4b-7a18-4d0a-b206-3491f321c6d3
2024-11-19 22:21:26 WARN  s.e.n.i.o.service.OrderService - No orders found for profileType customer and ID b5d67a4b-7a18-4d0a-b206-3491f321c6d3
2024-11-19 22:21:26 ERROR s.e.n.i.o.controller.OrderController - No active orders found with profileType customer and ID b5d67a4b-7a18-4d0a-b206-3491f321c6d3
2024-11-19 22:21:26 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [sg.edu.nus.iss.order_service.exception.ResourceNotFoundException: No orders found with ID b5d67a4b-7a18-4d0a-b206-3491f321c6d3]
2024-11-19 22:21:32 INFO  s.e.n.i.o.controller.OrderController - Retrieving all orders for profileType customer with ID b5d67a4b-7a18-4d0a-b206-3491f321c6d3
2024-11-19 22:21:32 INFO  s.e.n.i.o.service.OrderService - Fetching orders for profileType: customer with ID: b5d67a4b-7a18-4d0a-b206-3491f321c6d3 and listType: all
2024-11-19 22:21:32 INFO  s.e.n.i.o.service.OrderService - Selected order strategy: ALL
2024-11-19 22:21:32 INFO  s.e.n.i.o.service.OrderService - Formatted ID for profileType customer: customerId
2024-11-19 22:21:32 INFO  s.e.n.i.o.s.o.impl.AllOrderStrategy - Fetching all orders for profileType: customer and profileId: b5d67a4b-7a18-4d0a-b206-3491f321c6d3
2024-11-19 22:21:32 WARN  s.e.n.i.o.s.o.impl.AllOrderStrategy - No all orders found for profileType: customer and profileId: b5d67a4b-7a18-4d0a-b206-3491f321c6d3
2024-11-19 22:21:32 WARN  s.e.n.i.o.service.OrderService - No orders found for profileType customer and ID b5d67a4b-7a18-4d0a-b206-3491f321c6d3
2024-11-19 22:21:32 ERROR s.e.n.i.o.controller.OrderController - No all orders found with profileType customer and ID b5d67a4b-7a18-4d0a-b206-3491f321c6d3
2024-11-19 22:21:32 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [sg.edu.nus.iss.order_service.exception.ResourceNotFoundException: No orders found with ID b5d67a4b-7a18-4d0a-b206-3491f321c6d3]
2024-11-19 22:21:48 INFO  s.e.n.i.o.controller.OrderController - Retrieving all orders for profileType customer with ID b5d67a4b-7a18-4d0a-b206-3491f321c6d3
2024-11-19 22:21:48 INFO  s.e.n.i.o.service.OrderService - Fetching orders for profileType: customer with ID: b5d67a4b-7a18-4d0a-b206-3491f321c6d3 and listType: all
2024-11-19 22:21:48 INFO  s.e.n.i.o.service.OrderService - Selected order strategy: ALL
2024-11-19 22:21:48 INFO  s.e.n.i.o.service.OrderService - Formatted ID for profileType customer: customerId
2024-11-19 22:21:48 INFO  s.e.n.i.o.s.o.impl.AllOrderStrategy - Fetching all orders for profileType: customer and profileId: b5d67a4b-7a18-4d0a-b206-3491f321c6d3
2024-11-19 22:21:48 WARN  s.e.n.i.o.s.o.impl.AllOrderStrategy - No all orders found for profileType: customer and profileId: b5d67a4b-7a18-4d0a-b206-3491f321c6d3
2024-11-19 22:21:48 WARN  s.e.n.i.o.service.OrderService - No orders found for profileType customer and ID b5d67a4b-7a18-4d0a-b206-3491f321c6d3
2024-11-19 22:21:48 ERROR s.e.n.i.o.controller.OrderController - No all orders found with profileType customer and ID b5d67a4b-7a18-4d0a-b206-3491f321c6d3
2024-11-19 22:21:48 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [sg.edu.nus.iss.order_service.exception.ResourceNotFoundException: No orders found with ID b5d67a4b-7a18-4d0a-b206-3491f321c6d3]
2024-11-19 22:23:09 INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2024-11-19 22:23:09 INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2024-11-19 22:23:09 INFO  s.e.n.i.o.db.MongoSingleton - Starting closing of all mongoClients.
2024-11-19 22:23:09 INFO  s.e.n.i.o.controller.OrderController - Creating order from cart for customer with ID 1
2024-11-19 22:23:09 INFO  s.e.n.i.o.controller.OrderController - Order created from cart for customer with ID 1 with response {}
2024-11-19 22:23:09 INFO  s.e.n.i.o.controller.OrderController - Updating order status by orderId order1
2024-11-19 22:23:09 INFO  s.e.n.i.o.controller.OrderController - Optional request body null
2024-11-19 22:23:09 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to update order status READY for orderId order1
2024-11-19 22:23:09 INFO  s.e.n.i.o.controller.OrderController - Retrieving order by orderId 1
2024-11-19 22:23:09 INFO  s.e.n.i.o.controller.OrderController - Order with ID 1 found. Order: {"orderId":"orderId1","createdDate":0,"updatedDate":0,"useRewards":false,"useDelivery":false}
2024-11-19 22:23:09 INFO  s.e.n.i.o.controller.OrderController - Retrieving all active orders for delivery and in READY state
2024-11-19 22:23:09 ERROR s.e.n.i.o.controller.OrderController - No active orders found marked for delivery and in READY state
2024-11-19 22:23:09 INFO  s.e.n.i.o.controller.OrderController - Updating order status by orderId order1
2024-11-19 22:23:09 INFO  s.e.n.i.o.controller.OrderController - Optional request body null
2024-11-19 22:23:09 ERROR s.e.n.i.o.controller.OrderController - Failed to update order status READY for orderId order1
2024-11-19 22:23:09 INFO  s.e.n.i.o.controller.OrderController - V2 :: Creating order from cart for customer with ID 1, if delivery is needed or not true and if reward points are needed or not true
2024-11-19 22:23:09 ERROR s.e.n.i.o.controller.OrderController - V2 :: Failed to create order for customerId 1 using useRewardPoints true and deliveryNeeded true
2024-11-19 22:23:09 INFO  s.e.n.i.o.controller.OrderController - Creating order from cart for customer with ID 1
2024-11-19 22:23:09 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to create order from cart for customer with ID 1
2024-11-19 22:23:09 INFO  s.e.n.i.o.controller.OrderController - Retrieving ACTIVE orders for profileType customer with ID 1
2024-11-19 22:23:09 ERROR s.e.n.i.o.controller.OrderController - No ACTIVE orders found with profileType customer and ID 1
2024-11-19 22:23:09 INFO  s.e.n.i.o.controller.OrderController - V2 :: Creating order from cart for customer with ID 1, if delivery is needed or not true and if reward points are needed or not true
2024-11-19 22:23:09 ERROR s.e.n.i.o.controller.OrderController - V2 :: Some exception happened trying to create order from cart for customer with ID 1
2024-11-19 22:23:09 INFO  s.e.n.i.o.controller.OrderController - Creating order from cart for customer with ID 1
2024-11-19 22:23:09 ERROR s.e.n.i.o.controller.OrderController - Failed to create order for customerId 1
2024-11-19 22:23:09 INFO  s.e.n.i.o.controller.OrderController - Retrieving order by orderId 1
2024-11-19 22:23:09 ERROR s.e.n.i.o.controller.OrderController - Order with ID 1 not found
2024-11-19 22:23:09 INFO  s.e.n.i.o.controller.OrderController - Retrieving order by orderId 1
2024-11-19 22:23:09 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to find order with orderId 1
2024-11-19 22:23:09 INFO  s.e.n.i.o.controller.OrderController - Retrieving all active orders for delivery and in READY state
2024-11-19 22:23:09 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to get all active orders marked for delivery and in READY state
2024-11-19 22:23:09 INFO  s.e.n.i.o.controller.OrderController - Retrieving ACTIVE orders for profileType customer with ID 1
2024-11-19 22:23:09 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to get ACTIVE orders for profileType customer with ID 1
2024-11-19 22:23:09 INFO  s.e.n.i.o.controller.OrderController - Retrieving all active orders for delivery and in READY state
2024-11-19 22:23:09 INFO  s.e.n.i.o.controller.OrderController - Active orders found marked for delivery and in READY state. Orders count : 1
2024-11-19 22:23:09 INFO  s.e.n.i.o.controller.OrderController - Updating order status by orderId order1
2024-11-19 22:23:09 INFO  s.e.n.i.o.controller.OrderController - Optional request body null
2024-11-19 22:23:09 INFO  s.e.n.i.o.controller.OrderController - Order status updated for orderId order1 for status READY
2024-11-19 22:23:09 INFO  s.e.n.i.o.controller.OrderController - V2 :: Creating order from cart for customer with ID 1, if delivery is needed or not true and if reward points are needed or not true
2024-11-19 22:23:09 INFO  s.e.n.i.o.controller.OrderController - V2 :: Order created from cart for customer with ID 1 with response {}
2024-11-19 22:23:09 INFO  s.e.n.i.o.controller.OrderController - Retrieving ACTIVE orders for profileType customer with ID 1
2024-11-19 22:23:09 INFO  s.e.n.i.o.controller.OrderController - ACTIVE orders for profileType customer with ID 1 found. Orders count : 1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Product details found for productIds: 85f324ca-ffa7-4eb4-957e-29134897d59f
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Updating customer reward points for orderId: 0cc5d731-bb93-44a3-91c1-28c9bf350d84 and customerId : customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Customer customer1 reward points updated successfully for orderId: 0cc5d731-bb93-44a3-91c1-28c9bf350d84 with order amount 0
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Order to be created : Order(orderId=0cc5d731-bb93-44a3-91c1-28c9bf350d84, customerId=customer1, merchantId=85f324ca-ffa7-4eb4-957e-29134897d59f, deliveryPartnerId=null, orderItems=[Item(productId=85f324ca-ffa7-4eb4-957e-29134897d59f, quantity=10, price=1E+1)], totalPrice=95.0, status=CREATED, createdDate=1732035189698, updatedDate=1732035189698, createdBy=customer, updatedBy=customer, useRewards=true, useDelivery=true, rewardsAmountUsed=5.0, customerRewardsPointsUsed=500.0)
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Order created successfully for customer: customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Starting generateProductUpdateReqObts, products: [Product(productId=85f324ca-ffa7-4eb4-957e-29134897d59f, productName=null, category=Category(categoryId=85f324ca-ffa7-4eb4-957e-29134897d59f, categoryName=cat1, categoryDescription=cat1 desc), imageUrl=null, productDescription=null, originalPrice=null, listingPrice=1E+1, availableStock=10, merchantId=85f324ca-ffa7-4eb4-957e-29134897d59f, pincode=null)], cartItems: [Item(productId=85f324ca-ffa7-4eb4-957e-29134897d59f, quantity=10, price=1E+1)]
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Updating stock for productId: 85f324ca-ffa7-4eb4-957e-29134897d59f
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Product stock updated successfully for productId: 85f324ca-ffa7-4eb4-957e-29134897d59f
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_PICKED_UP
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : a44a8cb3-391b-4116-82b2-b05a356a4a29 and deliveryPartnerId a44a8cb3-391b-4116-82b2-b05a356a4a29 with status DELIVERY_PICKED_UP
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Delivery status updated successfully for orderId: a44a8cb3-391b-4116-82b2-b05a356a4a29 with deliveryPartnerId null for status DELIVERY_PICKED_UP
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Delivery record successfully updated in delivery service for orderId: order1 and deliveryPartnerId: a44a8cb3-391b-4116-82b2-b05a356a4a29, updating data in order colls.
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for order: order1 using query : {"orderId":"order1"}
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Successfully update delivery status for order: order1 and kept status : DELIVERY_PICKED_UP
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : COMPLETED
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : d4209574-aa6c-474b-bbad-f81ee1e267ea and deliveryPartnerId d4209574-aa6c-474b-bbad-f81ee1e267ea with status COMPLETED
2024-11-19 22:23:09 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: d4209574-aa6c-474b-bbad-f81ee1e267ea for status COMPLETED
2024-11-19 22:23:09 ERROR s.e.n.i.o.service.OrderService - Failed to complete delivery for orderId: order1 for deliveryPartnerId: d4209574-aa6c-474b-bbad-f81ee1e267ea
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_ACCEPTED
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 4db2b869-1611-4b37-b64a-11a759fd1a70 and deliveryPartnerId 4db2b869-1611-4b37-b64a-11a759fd1a70 with status DELIVERY_ACCEPTED
2024-11-19 22:23:09 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: 4db2b869-1611-4b37-b64a-11a759fd1a70 for status DELIVERY_ACCEPTED
2024-11-19 22:23:09 ERROR s.e.n.i.o.service.OrderService - Failed to start delivery for orderId: order1 for deliveryPartnerId: 4db2b869-1611-4b37-b64a-11a759fd1a70
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Fetching order by orderId: order1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Found orders for provided orderId: order1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Deleting order for orderId: order1
2024-11-19 22:23:09 ERROR s.e.n.i.o.service.OrderService - Failed to delete order for orderId: order1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Fetching all active orders available for delivery, having status READY and opted for delivery
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Query to fetch active orders for delivery : Document{{status=READY, useDelivery=true}} from orders coll
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - No active orders found for delivery having status READY and opted for delivery
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Fetching orders for profileType: merchant with ID: merchant1 and listType: CANCELLED
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Selected order strategy: CANCELLED
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Formatted ID for profileType merchant: merchantId
2024-11-19 22:23:09 ERROR s.e.n.i.o.service.OrderService - An error occurred while retrieving orders for profileType merchant and ID merchant1: Cannot invoke "sg.edu.nus.iss.order_service.strategy.order.OrderTypeStrategy.getOrders(String, String)" because "orderTypeStrategy" is null
java.lang.NullPointerException: Cannot invoke "sg.edu.nus.iss.order_service.strategy.order.OrderTypeStrategy.getOrders(String, String)" because "orderTypeStrategy" is null
	at sg.edu.nus.iss.order_service.service.OrderService.getOrdersListByProfileId(OrderService.java:325)
	at sg.edu.nus.iss.order_service.service.OrderServiceTest.testGetOrdersListByProfileId_Cancelled_Failure(OrderServiceTest.java:231)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Fetching order by orderId: order1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - No orders found for orderId: order1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Fetching orders for profileType: merchant with ID: merchant1 and listType: ACTIVE
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Selected order strategy: ACTIVE
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Formatted ID for profileType merchant: merchantId
2024-11-19 22:23:09 ERROR s.e.n.i.o.service.OrderService - An error occurred while retrieving orders for profileType merchant and ID merchant1: Cannot invoke "sg.edu.nus.iss.order_service.strategy.order.OrderTypeStrategy.getOrders(String, String)" because "orderTypeStrategy" is null
java.lang.NullPointerException: Cannot invoke "sg.edu.nus.iss.order_service.strategy.order.OrderTypeStrategy.getOrders(String, String)" because "orderTypeStrategy" is null
	at sg.edu.nus.iss.order_service.service.OrderService.getOrdersListByProfileId(OrderService.java:325)
	at sg.edu.nus.iss.order_service.service.OrderServiceTest.testGetOrdersListByProfileId_Active_Failure(OrderServiceTest.java:251)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_ACCEPTED
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 527d7841-e4d9-498a-8bf8-83ed6ea92dcb and deliveryPartnerId 527d7841-e4d9-498a-8bf8-83ed6ea92dcb with status DELIVERY_ACCEPTED
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Delivery status updated successfully for orderId: 527d7841-e4d9-498a-8bf8-83ed6ea92dcb with deliveryPartnerId null for status DELIVERY_ACCEPTED
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Delivery record successfully created in delivery service for orderId: order1 and deliveryPartnerId: 527d7841-e4d9-498a-8bf8-83ed6ea92dcb, updating data in order colls.
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Starting delivery for order: order1 using query : {"orderId":"order1"}
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Started delivery flow successfully for order: order1 and kept status : DELIVERY_ACCEPTED
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_PICKED_UP
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 945d9078-6692-4e85-a88c-909dcd277e0f and deliveryPartnerId 945d9078-6692-4e85-a88c-909dcd277e0f with status DELIVERY_PICKED_UP
2024-11-19 22:23:09 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: 945d9078-6692-4e85-a88c-909dcd277e0f for status DELIVERY_PICKED_UP
2024-11-19 22:23:09 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: order1 for deliveryPartnerId: 945d9078-6692-4e85-a88c-909dcd277e0f in delivery service
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : CANCELLED
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Updating customer reward points for orderId: order1 and customerId : 877b73bd-36e0-4dca-85c0-59c03208c19a
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Customer 877b73bd-36e0-4dca-85c0-59c03208c19a reward points updated successfully for orderId: order1 with order amount 500.0
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Order has been cancelled successfully for orderId: order1 and kept in cancelled coll
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-19 22:23:09 ERROR s.e.n.i.o.service.OrderService - No items found in cart for customer: customer1, so no order to be created
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Fetching orders for profileType: merchant with ID: merchant1 and listType: COMPLETED
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Selected order strategy: COMPLETED
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Formatted ID for profileType merchant: merchantId
2024-11-19 22:23:09 ERROR s.e.n.i.o.service.OrderService - An error occurred while retrieving orders for profileType merchant and ID merchant1: Cannot invoke "sg.edu.nus.iss.order_service.strategy.order.OrderTypeStrategy.getOrders(String, String)" because "orderTypeStrategy" is null
java.lang.NullPointerException: Cannot invoke "sg.edu.nus.iss.order_service.strategy.order.OrderTypeStrategy.getOrders(String, String)" because "orderTypeStrategy" is null
	at sg.edu.nus.iss.order_service.service.OrderService.getOrdersListByProfileId(OrderService.java:325)
	at sg.edu.nus.iss.order_service.service.OrderServiceTest.testGetOrdersListByProfileId_Completed_Failure(OrderServiceTest.java:211)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : READY
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 using query : {"orderId":"order1"}
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Order status updated successfully for orderId: order1 to status : READY
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Product details found for productIds: c52b9041-b8c1-436a-bf1c-6358e9c06a8b
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Order to be created : Order(orderId=e2f35c2f-ade9-4482-a29e-0bb999997c48, customerId=customer1, merchantId=c52b9041-b8c1-436a-bf1c-6358e9c06a8b, deliveryPartnerId=null, orderItems=[Item(productId=c52b9041-b8c1-436a-bf1c-6358e9c06a8b, quantity=10, price=1E+1)], totalPrice=100, status=CREATED, createdDate=1732035189849, updatedDate=1732035189849, createdBy=customer, updatedBy=customer, useRewards=false, useDelivery=true, rewardsAmountUsed=0, customerRewardsPointsUsed=0)
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Order created successfully for customer: customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Starting generateProductUpdateReqObts, products: [Product(productId=c52b9041-b8c1-436a-bf1c-6358e9c06a8b, productName=null, category=Category(categoryId=c52b9041-b8c1-436a-bf1c-6358e9c06a8b, categoryName=cat1, categoryDescription=cat1 desc), imageUrl=null, productDescription=null, originalPrice=null, listingPrice=1E+1, availableStock=10, merchantId=c52b9041-b8c1-436a-bf1c-6358e9c06a8b, pincode=null)], cartItems: [Item(productId=c52b9041-b8c1-436a-bf1c-6358e9c06a8b, quantity=10, price=1E+1)]
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Updating stock for productId: c52b9041-b8c1-436a-bf1c-6358e9c06a8b
2024-11-19 22:23:09 ERROR s.e.n.i.o.service.OrderService - Failed to update product stock for productId: c52b9041-b8c1-436a-bf1c-6358e9c06a8b
2024-11-19 22:23:09 ERROR s.e.n.i.o.service.OrderService - Failed to update stock for 1 products out of 1, so deleting previously created order
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Deleting order for orderId: e2f35c2f-ade9-4482-a29e-0bb999997c48
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Order deleted successfully for orderId: e2f35c2f-ade9-4482-a29e-0bb999997c48
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-19 22:23:09 ERROR s.e.n.i.o.service.OrderService - Failed to get product details for productIds: 14e3874e-c240-43f4-9ccd-c8be0b614767
2024-11-19 22:23:09 ERROR s.e.n.i.o.service.OrderService - Failed to get product details or found non matching products for items in cart for customer: customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : COMPLETED
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 778b30ee-6a07-476e-a4af-c6a026426506 and deliveryPartnerId 778b30ee-6a07-476e-a4af-c6a026426506 with status COMPLETED
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Delivery status updated successfully for orderId: 778b30ee-6a07-476e-a4af-c6a026426506 with deliveryPartnerId null for status COMPLETED
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Delivery completed successfully in delivery service for orderId: order1 and deliveryPartnerId: 778b30ee-6a07-476e-a4af-c6a026426506, updating data in order colls.
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Updating merchant earnings for orderId : order1 and merchantId 778b30ee-6a07-476e-a4af-c6a026426506
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Merchant 778b30ee-6a07-476e-a4af-c6a026426506 earnings updated successfully for orderId: order1 with order amount 100.0
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Updating customer reward points for orderId: order1 and customerId : 778b30ee-6a07-476e-a4af-c6a026426506
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Customer 778b30ee-6a07-476e-a4af-c6a026426506 reward points updated successfully for orderId: order1 with order amount 100.0
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Order has been completed successfully for orderId: order1 and kept in completed coll
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Fetching orders for profileType: newType with ID: new1 and listType: all
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Selected order strategy: ALL
2024-11-19 22:23:09 ERROR s.e.n.i.o.service.OrderService - Invalid profile type: newType
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Fetching orders for profileType: merchant with ID: merchant1 and listType: all
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Selected order strategy: ALL
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Formatted ID for profileType merchant: merchantId
2024-11-19 22:23:09 ERROR s.e.n.i.o.service.OrderService - An error occurred while retrieving orders for profileType merchant and ID merchant1: Cannot invoke "sg.edu.nus.iss.order_service.strategy.order.OrderTypeStrategy.getOrders(String, String)" because "orderTypeStrategy" is null
java.lang.NullPointerException: Cannot invoke "sg.edu.nus.iss.order_service.strategy.order.OrderTypeStrategy.getOrders(String, String)" because "orderTypeStrategy" is null
	at sg.edu.nus.iss.order_service.service.OrderService.getOrdersListByProfileId(OrderService.java:325)
	at sg.edu.nus.iss.order_service.service.OrderServiceTest.testGetOrdersListByProfileId_All_Failure(OrderServiceTest.java:275)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : READY
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 using query : {"orderId":"order1"}
2024-11-19 22:23:09 ERROR s.e.n.i.o.service.OrderService - Failed to update order status for orderId: order1 to status : READY
2024-11-19 22:23:09 INFO  s.e.n.i.o.db.MongoSingleton - All MongoClient connections closed.
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : READY
2024-11-19 22:23:09 ERROR s.e.n.i.o.service.OrderService - No order found for orderId: order1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Deleting order for orderId: order1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Order deleted successfully for orderId: order1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Fetching all active orders available for delivery, having status READY and opted for delivery
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Query to fetch active orders for delivery : Document{{status=READY, useDelivery=true}} from orders coll
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Found active orders for delivery having status READY and opted for delivery, count 1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : INVALID
2024-11-19 22:23:09 ERROR s.e.n.i.o.service.OrderService - Invalid status provided for orderId: order1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. Creating new cart.
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Create cart for customer with ID customer1, merchant id merchant1 and products : [Item(productId=item1, quantity=10, price=null)]
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Creating cart for customer with ID customer1, merchant id merchant1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Cart created successfully for customer with ID customer1 for add item
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Cart is empty after removing last item for customer with ID customer1. So deleting the cart.
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1 with query : Document{{customerId=customer1}}
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Cart deleted/emptied successfully for customer with ID customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Finding cart for customer with ID customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Adding item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Updating cart for customer with ID customer1, with update document : {"$set":{"cartItems":[{"productId":"item1","quantity":20}],"updatedAt":1732035189890}}
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Cart updated successfully for customer with ID customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. Creating new cart.
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Create cart for customer with ID customer1, merchant id merchant1 and products : [Item(productId=item1, quantity=10, price=null)]
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Creating cart for customer with ID customer1, merchant id merchant1
2024-11-19 22:23:09 ERROR s.e.n.i.o.service.CartService - Failed to create cart for customer with ID customer1 for add item
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Cart is empty after removing last item for customer with ID customer1. So deleting the cart.
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1 with query : Document{{customerId=customer1}}
2024-11-19 22:23:09 ERROR s.e.n.i.o.service.CartService - Failed to delete/empty cart for customer with ID customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Finding cart for customer with ID customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Cart not found for customerID customer1.
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. Creating new cart.
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Create cart for customer with ID customer1, merchant id merchant1 and products : [Item(productId=item1, quantity=10, price=null)]
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Creating cart for customer with ID customer1, merchant id merchant1
2024-11-19 22:23:09 ERROR s.e.n.i.o.service.CartService - Failed to create cart for customer with ID customer1 for add item
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=5, price=null) to cart for customer with ID customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=5, price=null) to cart.
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Updating cart for customer with ID customer1, with update document : {"$set":{"cartItems":[{"productId":"item1","quantity":5}],"updatedAt":1732035189902}} to remove it
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Cart updated successfully for removing item for customer with ID customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. So no action required.
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item3, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item3, quantity=10, price=null) to cart.
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Item Item(productId=item3, quantity=10, price=null) not found in cart for customer with ID customer1. So no action required.
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=5, price=null) to cart for customer with ID customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=5, price=null) to cart.
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Updating cart for customer with ID customer1, with update document : {"$set":{"cartItems":[{"productId":"item1","quantity":5}],"updatedAt":1732035189907}} to remove it
2024-11-19 22:23:09 ERROR s.e.n.i.o.service.CartService - Failed to update cart for removing item for customer with ID customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Cart is empty after removing last item for customer with ID customer1. So deleting the cart.
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1 with query : Document{{customerId=customer1}}
2024-11-19 22:23:09 INFO  s.e.n.i.o.service.CartService - Cart deleted/emptied successfully for customer with ID customer1
2024-11-19 22:23:09 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [sg.edu.nus.iss.order_service.HomeControllerTest]: HomeControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-11-19 22:23:10 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration sg.edu.nus.iss.order_service.OrderServiceApplication for test class sg.edu.nus.iss.order_service.HomeControllerTest
2024-11-19 22:23:10 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2024-11-19 22:23:10 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-19 22:23:10 INFO  s.e.n.i.o.HomeControllerTest - Starting HomeControllerTest using Java 21.0.3 with PID 24704 (started by rituthori in /Users/rituthori/projects/order-service)
2024-11-19 22:23:10 INFO  s.e.n.i.o.HomeControllerTest - No active profile set, falling back to 1 default profile: "default"
2024-11-19 22:23:10 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2024-11-19 22:23:10 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2024-11-19 22:23:10 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2024-11-19 22:23:10 INFO  s.e.n.i.o.HomeControllerTest - Started HomeControllerTest in 0.804 seconds (process running for 3.119)
2024-11-19 22:23:10 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management"}
2024-11-19 22:23:11 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management Home"}
2024-11-19 22:23:11 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management Home"}
2024-11-19 22:23:11 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management"}
2024-11-19 22:23:11 INFO  s.e.n.i.o.controller.CartController - Retrieving cart for customer with ID 1
2024-11-19 22:23:11 INFO  s.e.n.i.o.controller.CartController - Cart for customer with ID 1 found. Cart: {"customerId":"1","cartItems":[{"productId":"1","quantity":10}],"createdAt":0,"updatedAt":0}
2024-11-19 22:23:11 INFO  s.e.n.i.o.controller.CartController - Adding item Item(productId=1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 22:23:11 INFO  s.e.n.i.o.controller.CartController - Item added to cart for customer with ID customer1
2024-11-19 22:23:11 INFO  s.e.n.i.o.controller.CartController - Retrieving cart for customer with ID 1
2024-11-19 22:23:11 ERROR s.e.n.i.o.controller.CartController - Cart for customer with ID 1 not found
2024-11-19 22:23:11 INFO  s.e.n.i.o.controller.CartController - Adding item Item(productId=1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 22:23:11 ERROR s.e.n.i.o.controller.CartController - Failed to add item to cart for customer with ID customer1
2024-11-19 22:23:11 INFO  s.e.n.i.o.controller.CartController - Deleting or emptying cart for customer with ID customer1
2024-11-19 22:23:11 INFO  s.e.n.i.o.controller.CartController - Cart deleted/emptied for customer with ID customer1
2024-11-19 22:23:11 INFO  s.e.n.i.o.controller.CartController - Removing item Item(productId=1, quantity=10, price=null) from cart for customer with ID customer1
2024-11-19 22:23:11 INFO  s.e.n.i.o.controller.CartController - Item removed from cart for customer with ID customer1
2024-11-19 22:23:11 INFO  s.e.n.i.o.controller.CartController - Deleting or emptying cart for customer with ID customer1
2024-11-19 22:23:11 INFO  s.e.n.i.o.controller.CartController - Some error occurred while trying to delete or empty cart for customer with ID customer1
2024-11-19 22:23:11 INFO  s.e.n.i.o.controller.CartController - Retrieving cart for customer with ID 1
2024-11-19 22:23:11 ERROR s.e.n.i.o.controller.CartController - Some exception happened to get cart for customer with ID 1
2024-11-19 22:23:11 INFO  s.e.n.i.o.controller.CartController - Removing item Item(productId=1, quantity=10, price=null) from cart for customer with ID customer1
2024-11-19 22:23:11 INFO  s.e.n.i.o.controller.CartController - Some error occurred while trying to remove item from cart for customer with ID customer1
2024-11-19 22:23:11 INFO  s.e.n.i.o.controller.CartController - Adding item Item(productId=1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 22:23:11 INFO  s.e.n.i.o.controller.CartController - Some error occurred while trying to add item added to cart for customer with ID customer1
2024-11-19 22:23:11 INFO  s.e.n.i.o.controller.CartController - Deleting or emptying cart for customer with ID customer1
2024-11-19 22:23:11 ERROR s.e.n.i.o.controller.CartController - Failed to delete cart for customer with ID customer1
2024-11-19 22:23:11 INFO  s.e.n.i.o.controller.CartController - Removing item Item(productId=1, quantity=10, price=null) from cart for customer with ID customer1
2024-11-19 22:23:11 ERROR s.e.n.i.o.controller.CartController - Failed to remove item from cart for customer with ID customer1
2024-11-19 22:24:38 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-19 22:24:38 INFO  s.e.n.i.o.OrderServiceApplication - Starting OrderServiceApplication using Java 21.0.3 with PID 24769 (/Users/rituthori/projects/order-service/target/classes started by rituthori in /Users/rituthori/projects/order-service)
2024-11-19 22:24:38 INFO  s.e.n.i.o.OrderServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-19 22:24:38 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-11-19 22:24:38 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-11-19 22:24:38 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-11-19 22:24:38 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-11-19 22:24:38 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 MongoDB repository interfaces.
2024-11-19 22:24:38 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-19 22:24:38 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-19 22:24:38 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-19 22:24:38 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2024-11-19 22:24:38 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-19 22:24:38 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 531 ms
2024-11-19 22:24:38 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Initializing ProfileTypeStrategyContext with customer, merchant, and deliveryPartner strategies.
2024-11-19 22:24:38 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - ProfileTypeStrategyContext initialized successfully with 3 strategies.
2024-11-19 22:24:39 INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2024-11-19 22:24:39 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-11-19 22:24:39 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-11-19 22:24:39 INFO  s.e.n.i.o.OrderServiceApplication - Started OrderServiceApplication in 1.391 seconds (process running for 1.601)
2024-11-19 22:25:19 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-19 22:25:19 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-19 22:25:19 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2024-11-19 22:25:19 INFO  s.e.n.i.o.controller.OrderController - Retrieving all orders for profileType customer with ID b5d67a4b-7a18-4d0a-b206-3491f321c6d3
2024-11-19 22:25:19 INFO  s.e.n.i.o.service.OrderService - Fetching orders for profileType: customer with ID: b5d67a4b-7a18-4d0a-b206-3491f321c6d3 and listType: all
2024-11-19 22:25:28 INFO  s.e.n.i.o.service.OrderService - Selected order strategy: ALL
2024-11-19 22:25:45 INFO  s.e.n.i.o.service.OrderService - Formatted ID for profileType customer: customerId
2024-11-19 22:25:56 INFO  s.e.n.i.o.s.o.impl.AllOrderStrategy - Fetching all orders for profileType: customer and profileId: b5d67a4b-7a18-4d0a-b206-3491f321c6d3
2024-11-19 22:26:18 INFO  s.e.n.i.o.db.MongoSingleton - Setting mongo client for Order DB.
2024-11-19 22:26:18 INFO  org.mongodb.driver.cluster - Adding discovered server cluster0-shard-00-01.17mmg.mongodb.net:27017 to client view of cluster
2024-11-19 22:26:18 INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "5.0.1"}, "os": {"type": "Darwin", "name": "Mac OS X", "architecture": "aarch64", "version": "14.4"}, "platform": "Java/Oracle Corporation/21.0.3+7-LTS-152"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='test', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@58841b84, com.mongodb.Jep395RecordCodecProvider@11fe830f, com.mongodb.KotlinCodecProvider@9a90a8]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=cluster0.17mmg.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-98aab7-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=STANDARD, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2024-11-19 22:26:18 INFO  org.mongodb.driver.cluster - Adding discovered server cluster0-shard-00-00.17mmg.mongodb.net:27017 to client view of cluster
2024-11-19 22:26:18 INFO  org.mongodb.driver.cluster - Adding discovered server cluster0-shard-00-02.17mmg.mongodb.net:27017 to client view of cluster
2024-11-19 22:26:18 INFO  org.mongodb.driver.cluster - Waiting for server to become available for operation with ID 1. Remaining time: 30000 ms. Selector: ReadPreferenceServerSelector{readPreference=primary}, topology description: {type=REPLICA_SET, servers=[{address=cluster0-shard-00-02.17mmg.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=cluster0-shard-00-00.17mmg.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=cluster0-shard-00-01.17mmg.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}].
2024-11-19 22:26:19 INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-02.17mmg.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=340147667, setName='atlas-98aab7-shard-0', canonicalAddress=cluster0-shard-00-02.17mmg.mongodb.net:27017, hosts=[cluster0-shard-00-00.17mmg.mongodb.net:27017, cluster0-shard-00-01.17mmg.mongodb.net:27017, cluster0-shard-00-02.17mmg.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.17mmg.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='apse1-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_SOUTHEAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=304, topologyVersion=TopologyVersion{processId=673b5fcfca90516ccb72493f, counter=4}, lastWriteDate=Tue Nov 19 22:26:19 IST 2024, lastUpdateTimeNanos=568566029127750}
2024-11-19 22:26:19 INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-00.17mmg.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=334060417, setName='atlas-98aab7-shard-0', canonicalAddress=cluster0-shard-00-00.17mmg.mongodb.net:27017, hosts=[cluster0-shard-00-00.17mmg.mongodb.net:27017, cluster0-shard-00-01.17mmg.mongodb.net:27017, cluster0-shard-00-02.17mmg.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.17mmg.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='apse1-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_SOUTHEAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=304, topologyVersion=TopologyVersion{processId=673b5f37b227313ffc7af85c, counter=5}, lastWriteDate=Tue Nov 19 22:26:19 IST 2024, lastUpdateTimeNanos=568566029125375}
2024-11-19 22:26:19 INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-01.17mmg.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=346147167, setName='atlas-98aab7-shard-0', canonicalAddress=cluster0-shard-00-01.17mmg.mongodb.net:27017, hosts=[cluster0-shard-00-00.17mmg.mongodb.net:27017, cluster0-shard-00-01.17mmg.mongodb.net:27017, cluster0-shard-00-02.17mmg.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.17mmg.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='apse1-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_SOUTHEAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff00000000000002df, setVersion=304, topologyVersion=TopologyVersion{processId=673b5f81b0c27b71fba3b3e0, counter=7}, lastWriteDate=Tue Nov 19 22:26:19 IST 2024, lastUpdateTimeNanos=568566039999250}
2024-11-19 22:26:19 INFO  org.mongodb.driver.cluster - Discovered replica set primary cluster0-shard-00-01.17mmg.mongodb.net:27017 with max election id 7fffffff00000000000002df and max set version 304
2024-11-19 22:29:10 ERROR s.e.n.i.o.db.MongoManager - findAllDocuments :: Exception occurred while finding all documents in collection: Interrupted waiting for lock
2024-11-19 22:29:10 ERROR s.e.n.i.o.service.OrderService - An error occurred while retrieving orders for profileType customer and ID b5d67a4b-7a18-4d0a-b206-3491f321c6d3: Cannot invoke "java.util.Collection.toArray()" because "c" is null
java.lang.NullPointerException: Cannot invoke "java.util.Collection.toArray()" because "c" is null
	at java.base/java.util.ArrayList.addAll(ArrayList.java:752)
	at sg.edu.nus.iss.order_service.strategy.order.impl.AllOrderStrategy.getOrders(AllOrderStrategy.java:65)
	at sg.edu.nus.iss.order_service.service.OrderService.getOrdersListByProfileId(OrderService.java:325)
	at sg.edu.nus.iss.order_service.controller.OrderController.getOrdersListByProfileId(OrderController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-11-19 22:29:10 ERROR s.e.n.i.o.controller.OrderController - No all orders found with profileType customer and ID b5d67a4b-7a18-4d0a-b206-3491f321c6d3
2024-11-19 22:29:10 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [sg.edu.nus.iss.order_service.exception.ResourceNotFoundException: No orders found with ID b5d67a4b-7a18-4d0a-b206-3491f321c6d3]
2024-11-19 22:29:10 INFO  s.e.n.i.o.db.MongoSingleton - Starting closing of all mongoClients.
2024-11-19 22:29:10 INFO  s.e.n.i.o.db.MongoSingleton - All MongoClient connections closed.
2024-11-19 22:29:32 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-19 22:29:32 INFO  s.e.n.i.o.OrderServiceApplication - Starting OrderServiceApplication using Java 21.0.3 with PID 24845 (/Users/rituthori/projects/order-service/target/classes started by rituthori in /Users/rituthori/projects/order-service)
2024-11-19 22:29:32 INFO  s.e.n.i.o.OrderServiceApplication - No active profile set, falling back to 1 default profile: "default"
2024-11-19 22:29:32 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-11-19 22:29:32 INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-11-19 22:29:33 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-11-19 22:29:33 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-11-19 22:29:33 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 MongoDB repository interfaces.
2024-11-19 22:29:33 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-11-19 22:29:33 INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2024-11-19 22:29:33 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-11-19 22:29:33 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.30]
2024-11-19 22:29:33 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-11-19 22:29:33 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 565 ms
2024-11-19 22:29:47 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - Initializing ProfileTypeStrategyContext with customer, merchant, and deliveryPartner strategies.
2024-11-19 22:29:47 INFO  s.e.n.i.o.s.c.ProfileTypeStrategyContext - ProfileTypeStrategyContext initialized successfully with 3 strategies.
2024-11-19 22:29:48 INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2024-11-19 22:29:48 INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2024-11-19 22:29:48 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-11-19 22:29:48 INFO  s.e.n.i.o.OrderServiceApplication - Started OrderServiceApplication in 15.496 seconds (process running for 15.712)
2024-11-19 22:29:56 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-19 22:29:56 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-11-19 22:29:56 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2024-11-19 22:29:56 INFO  s.e.n.i.o.controller.OrderController - Retrieving cancelled orders for profileType customer with ID b5d67a4b-7a18-4d0a-b206-3491f321c6d3
2024-11-19 22:29:56 INFO  s.e.n.i.o.service.OrderService - Fetching orders for profileType: customer with ID: b5d67a4b-7a18-4d0a-b206-3491f321c6d3 and listType: cancelled
2024-11-19 22:30:00 INFO  s.e.n.i.o.service.OrderService - Selected order strategy: CANCELLED
2024-11-19 22:30:03 INFO  s.e.n.i.o.service.OrderService - Formatted ID for profileType customer: customerId
2024-11-19 22:30:04 INFO  s.e.n.i.o.s.o.i.CancelledOrderStrategy - Fetching cancelled orders for profileType: customer and profileId: b5d67a4b-7a18-4d0a-b206-3491f321c6d3
2024-11-19 22:30:04 INFO  s.e.n.i.o.db.MongoSingleton - Setting mongo client for Order DB.
2024-11-19 22:30:04 INFO  org.mongodb.driver.cluster - Adding discovered server cluster0-shard-00-01.17mmg.mongodb.net:27017 to client view of cluster
2024-11-19 22:30:04 INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "5.0.1"}, "os": {"type": "Darwin", "name": "Mac OS X", "architecture": "aarch64", "version": "14.4"}, "platform": "Java/Oracle Corporation/21.0.3+7-LTS-152"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='test', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@235b5720, com.mongodb.Jep395RecordCodecProvider@31f1c6e7, com.mongodb.KotlinCodecProvider@63196f1]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=cluster0.17mmg.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-98aab7-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=STANDARD, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2024-11-19 22:30:04 INFO  org.mongodb.driver.cluster - Adding discovered server cluster0-shard-00-00.17mmg.mongodb.net:27017 to client view of cluster
2024-11-19 22:30:04 INFO  org.mongodb.driver.cluster - Adding discovered server cluster0-shard-00-02.17mmg.mongodb.net:27017 to client view of cluster
2024-11-19 22:30:04 INFO  org.mongodb.driver.cluster - Waiting for server to become available for operation with ID 1. Remaining time: 30000 ms. Selector: ReadPreferenceServerSelector{readPreference=primary}, topology description: {type=REPLICA_SET, servers=[{address=cluster0-shard-00-02.17mmg.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=cluster0-shard-00-00.17mmg.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}, {address=cluster0-shard-00-01.17mmg.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}].
2024-11-19 22:30:05 INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-00.17mmg.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=336071042, setName='atlas-98aab7-shard-0', canonicalAddress=cluster0-shard-00-00.17mmg.mongodb.net:27017, hosts=[cluster0-shard-00-00.17mmg.mongodb.net:27017, cluster0-shard-00-01.17mmg.mongodb.net:27017, cluster0-shard-00-02.17mmg.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.17mmg.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='apse1-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_SOUTHEAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=304, topologyVersion=TopologyVersion{processId=673b5f37b227313ffc7af85c, counter=5}, lastWriteDate=Tue Nov 19 22:30:05 IST 2024, lastUpdateTimeNanos=568792006115250}
2024-11-19 22:30:05 INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-02.17mmg.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=339385958, setName='atlas-98aab7-shard-0', canonicalAddress=cluster0-shard-00-02.17mmg.mongodb.net:27017, hosts=[cluster0-shard-00-00.17mmg.mongodb.net:27017, cluster0-shard-00-01.17mmg.mongodb.net:27017, cluster0-shard-00-02.17mmg.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.17mmg.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='apse1-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_SOUTHEAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=304, topologyVersion=TopologyVersion{processId=673b5fcfca90516ccb72493f, counter=4}, lastWriteDate=Tue Nov 19 22:30:05 IST 2024, lastUpdateTimeNanos=568792005960416}
2024-11-19 22:30:06 INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-01.17mmg.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=1430192125, setName='atlas-98aab7-shard-0', canonicalAddress=cluster0-shard-00-01.17mmg.mongodb.net:27017, hosts=[cluster0-shard-00-00.17mmg.mongodb.net:27017, cluster0-shard-00-01.17mmg.mongodb.net:27017, cluster0-shard-00-02.17mmg.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.17mmg.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='apse1-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_SOUTHEAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff00000000000002df, setVersion=304, topologyVersion=TopologyVersion{processId=673b5f81b0c27b71fba3b3e0, counter=7}, lastWriteDate=Tue Nov 19 22:30:06 IST 2024, lastUpdateTimeNanos=568793096604750}
2024-11-19 22:30:06 INFO  org.mongodb.driver.cluster - Discovered replica set primary cluster0-shard-00-01.17mmg.mongodb.net:27017 with max election id 7fffffff00000000000002df and max set version 304
2024-11-19 22:30:09 INFO  s.e.n.i.o.s.o.i.CancelledOrderStrategy - Successfully retrieved 3 cancelled orders for profileType: customer and profileId: b5d67a4b-7a18-4d0a-b206-3491f321c6d3
2024-11-19 22:30:11 INFO  s.e.n.i.o.service.OrderService - Successfully retrieved 3 orders for profileType customer and ID b5d67a4b-7a18-4d0a-b206-3491f321c6d3
2024-11-19 22:30:11 INFO  s.e.n.i.o.controller.OrderController - cancelled orders for profileType customer with ID b5d67a4b-7a18-4d0a-b206-3491f321c6d3 found. Orders count : 3
2024-11-19 22:41:05 INFO  org.mongodb.driver.cluster - Exception in monitor thread while connecting to server cluster0-shard-00-02.17mmg.mongodb.net:27017
com.mongodb.MongoSocketReadTimeoutException: Timeout while receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:705)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:583)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:428)
	at com.mongodb.internal.connection.InternalStreamConnection.receive(InternalStreamConnection.java:381)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:221)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:153)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.SocketTimeoutException: Read timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:278)
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:304)
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:346)
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:796)
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:1099)
	at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:489)
	at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:483)
	at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70)
	at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1461)
	at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1066)
	at com.mongodb.internal.connection.SocketStream.read(SocketStream.java:176)
	at com.mongodb.internal.connection.SocketStream.read(SocketStream.java:196)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveResponseBuffers(InternalStreamConnection.java:716)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:580)
	... 5 common frames omitted
2024-11-19 22:41:05 INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-02.17mmg.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=190871791, setName='atlas-98aab7-shard-0', canonicalAddress=cluster0-shard-00-02.17mmg.mongodb.net:27017, hosts=[cluster0-shard-00-00.17mmg.mongodb.net:27017, cluster0-shard-00-01.17mmg.mongodb.net:27017, cluster0-shard-00-02.17mmg.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.17mmg.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='apse1-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_SOUTHEAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=304, topologyVersion=TopologyVersion{processId=673b5fcfca90516ccb72493f, counter=4}, lastWriteDate=Tue Nov 19 22:41:05 IST 2024, lastUpdateTimeNanos=569452868755666}
2024-11-19 22:52:40 INFO  org.mongodb.driver.cluster - Exception in monitor thread while connecting to server cluster0-shard-00-01.17mmg.mongodb.net:27017
com.mongodb.MongoSocketReadTimeoutException: Timeout while receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:705)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:583)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:428)
	at com.mongodb.internal.connection.InternalStreamConnection.receive(InternalStreamConnection.java:381)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:221)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:153)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.SocketTimeoutException: Read timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:278)
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:304)
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:346)
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:796)
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:1099)
	at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:489)
	at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:483)
	at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70)
	at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1461)
	at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1066)
	at com.mongodb.internal.connection.SocketStream.read(SocketStream.java:176)
	at com.mongodb.internal.connection.SocketStream.read(SocketStream.java:196)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveResponseBuffers(InternalStreamConnection.java:716)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:580)
	... 5 common frames omitted
2024-11-19 22:52:45 INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-01.17mmg.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=4107012500, setName='atlas-98aab7-shard-0', canonicalAddress=cluster0-shard-00-01.17mmg.mongodb.net:27017, hosts=[cluster0-shard-00-00.17mmg.mongodb.net:27017, cluster0-shard-00-01.17mmg.mongodb.net:27017, cluster0-shard-00-02.17mmg.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.17mmg.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='apse1-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_SOUTHEAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff00000000000002df, setVersion=304, topologyVersion=TopologyVersion{processId=673b5f81b0c27b71fba3b3e0, counter=7}, lastWriteDate=Tue Nov 19 22:52:45 IST 2024, lastUpdateTimeNanos=570152556781250}
2024-11-19 22:52:45 INFO  org.mongodb.driver.cluster - Discovered replica set primary cluster0-shard-00-01.17mmg.mongodb.net:27017 with max election id 7fffffff00000000000002df and max set version 304
2024-11-19 23:08:28 INFO  org.mongodb.driver.cluster - Exception in monitor thread while connecting to server cluster0-shard-00-02.17mmg.mongodb.net:27017
com.mongodb.MongoSocketReadTimeoutException: Timeout while receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:705)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:583)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:428)
	at com.mongodb.internal.connection.InternalStreamConnection.receive(InternalStreamConnection.java:381)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:221)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:153)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.SocketTimeoutException: Read timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:278)
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:304)
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:346)
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:796)
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:1099)
	at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:489)
	at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:483)
	at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70)
	at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1461)
	at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1066)
	at com.mongodb.internal.connection.SocketStream.read(SocketStream.java:176)
	at com.mongodb.internal.connection.SocketStream.read(SocketStream.java:196)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveResponseBuffers(InternalStreamConnection.java:716)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:580)
	... 5 common frames omitted
2024-11-19 23:08:28 INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-02.17mmg.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=175628541, setName='atlas-98aab7-shard-0', canonicalAddress=cluster0-shard-00-02.17mmg.mongodb.net:27017, hosts=[cluster0-shard-00-00.17mmg.mongodb.net:27017, cluster0-shard-00-01.17mmg.mongodb.net:27017, cluster0-shard-00-02.17mmg.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.17mmg.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='apse1-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_SOUTHEAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=304, topologyVersion=TopologyVersion{processId=673b5fcfca90516ccb72493f, counter=4}, lastWriteDate=Tue Nov 19 23:08:28 IST 2024, lastUpdateTimeNanos=571069537646666}
2024-11-19 23:42:09 INFO  org.mongodb.driver.cluster - Exception in monitor thread while connecting to server cluster0-shard-00-00.17mmg.mongodb.net:27017
com.mongodb.MongoSocketReadTimeoutException: Timeout while receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:705)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:583)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:428)
	at com.mongodb.internal.connection.InternalStreamConnection.receive(InternalStreamConnection.java:381)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:221)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:153)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.SocketTimeoutException: Read timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:278)
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:304)
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:346)
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:796)
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:1099)
	at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:489)
	at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:483)
	at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70)
	at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1461)
	at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1066)
	at com.mongodb.internal.connection.SocketStream.read(SocketStream.java:176)
	at com.mongodb.internal.connection.SocketStream.read(SocketStream.java:196)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveResponseBuffers(InternalStreamConnection.java:716)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:580)
	... 5 common frames omitted
2024-11-19 23:42:10 INFO  org.mongodb.driver.cluster - Exception in monitor thread while connecting to server cluster0-shard-00-02.17mmg.mongodb.net:27017
com.mongodb.MongoSocketReadTimeoutException: Timeout while receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:705)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:583)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:428)
	at com.mongodb.internal.connection.InternalStreamConnection.receive(InternalStreamConnection.java:381)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:221)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:153)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.SocketTimeoutException: Read timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:278)
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:304)
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:346)
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:796)
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:1099)
	at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:489)
	at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:483)
	at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70)
	at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1461)
	at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1066)
	at com.mongodb.internal.connection.SocketStream.read(SocketStream.java:176)
	at com.mongodb.internal.connection.SocketStream.read(SocketStream.java:196)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveResponseBuffers(InternalStreamConnection.java:716)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:580)
	... 5 common frames omitted
2024-11-19 23:42:10 INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-02.17mmg.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=174849916, setName='atlas-98aab7-shard-0', canonicalAddress=cluster0-shard-00-02.17mmg.mongodb.net:27017, hosts=[cluster0-shard-00-00.17mmg.mongodb.net:27017, cluster0-shard-00-01.17mmg.mongodb.net:27017, cluster0-shard-00-02.17mmg.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.17mmg.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='apse1-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_SOUTHEAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=304, topologyVersion=TopologyVersion{processId=673b5fcfca90516ccb72493f, counter=4}, lastWriteDate=Tue Nov 19 23:42:10 IST 2024, lastUpdateTimeNanos=573091241672750}
2024-11-19 23:42:10 INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=cluster0-shard-00-00.17mmg.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=178735833, setName='atlas-98aab7-shard-0', canonicalAddress=cluster0-shard-00-00.17mmg.mongodb.net:27017, hosts=[cluster0-shard-00-00.17mmg.mongodb.net:27017, cluster0-shard-00-01.17mmg.mongodb.net:27017, cluster0-shard-00-02.17mmg.mongodb.net:27017], passives=[], arbiters=[], primary='cluster0-shard-00-01.17mmg.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='apse1-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_SOUTHEAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=304, topologyVersion=TopologyVersion{processId=673b5f37b227313ffc7af85c, counter=5}, lastWriteDate=Tue Nov 19 23:42:10 IST 2024, lastUpdateTimeNanos=573091244899333}
2024-11-19 23:50:30 INFO  s.e.n.i.o.db.MongoSingleton - Starting closing of all mongoClients.
2024-11-19 23:50:31 INFO  s.e.n.i.o.db.MongoSingleton - All MongoClient connections closed.
2024-11-19 23:52:44 INFO  s.e.n.i.o.controller.OrderController - Creating order from cart for customer with ID 1
2024-11-19 23:52:44 INFO  s.e.n.i.o.controller.OrderController - Order created from cart for customer with ID 1 with response {}
2024-11-19 23:52:44 INFO  s.e.n.i.o.controller.OrderController - Updating order status by orderId order1
2024-11-19 23:52:44 INFO  s.e.n.i.o.controller.OrderController - Optional request body null
2024-11-19 23:52:44 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to update order status READY for orderId order1
2024-11-19 23:52:45 INFO  s.e.n.i.o.controller.OrderController - Retrieving order by orderId 1
2024-11-19 23:52:45 INFO  s.e.n.i.o.controller.OrderController - Order with ID 1 found. Order: {"orderId":"orderId1","createdDate":0,"updatedDate":0,"useRewards":false,"useDelivery":false}
2024-11-19 23:52:45 INFO  s.e.n.i.o.controller.OrderController - Retrieving all active orders for delivery and in READY state
2024-11-19 23:52:45 ERROR s.e.n.i.o.controller.OrderController - No active orders found marked for delivery and in READY state
2024-11-19 23:52:45 INFO  s.e.n.i.o.controller.OrderController - Updating order status by orderId order1
2024-11-19 23:52:45 INFO  s.e.n.i.o.controller.OrderController - Optional request body null
2024-11-19 23:52:45 ERROR s.e.n.i.o.controller.OrderController - Failed to update order status READY for orderId order1
2024-11-19 23:52:45 INFO  s.e.n.i.o.controller.OrderController - V2 :: Creating order from cart for customer with ID 1, if delivery is needed or not true and if reward points are needed or not true
2024-11-19 23:52:45 ERROR s.e.n.i.o.controller.OrderController - V2 :: Failed to create order for customerId 1 using useRewardPoints true and deliveryNeeded true
2024-11-19 23:52:45 INFO  s.e.n.i.o.controller.OrderController - Creating order from cart for customer with ID 1
2024-11-19 23:52:45 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to create order from cart for customer with ID 1
2024-11-19 23:52:45 INFO  s.e.n.i.o.controller.OrderController - Retrieving ACTIVE orders for profileType customer with ID 1
2024-11-19 23:52:45 ERROR s.e.n.i.o.controller.OrderController - No ACTIVE orders found with profileType customer and ID 1
2024-11-19 23:52:45 INFO  s.e.n.i.o.controller.OrderController - V2 :: Creating order from cart for customer with ID 1, if delivery is needed or not true and if reward points are needed or not true
2024-11-19 23:52:45 ERROR s.e.n.i.o.controller.OrderController - V2 :: Some exception happened trying to create order from cart for customer with ID 1
2024-11-19 23:52:45 INFO  s.e.n.i.o.controller.OrderController - Creating order from cart for customer with ID 1
2024-11-19 23:52:45 ERROR s.e.n.i.o.controller.OrderController - Failed to create order for customerId 1
2024-11-19 23:52:45 INFO  s.e.n.i.o.controller.OrderController - Retrieving order by orderId 1
2024-11-19 23:52:45 ERROR s.e.n.i.o.controller.OrderController - Order with ID 1 not found
2024-11-19 23:52:45 INFO  s.e.n.i.o.controller.OrderController - Retrieving order by orderId 1
2024-11-19 23:52:45 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to find order with orderId 1
2024-11-19 23:52:45 INFO  s.e.n.i.o.controller.OrderController - Retrieving all active orders for delivery and in READY state
2024-11-19 23:52:45 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to get all active orders marked for delivery and in READY state
2024-11-19 23:52:45 INFO  s.e.n.i.o.controller.OrderController - Retrieving ACTIVE orders for profileType customer with ID 1
2024-11-19 23:52:45 ERROR s.e.n.i.o.controller.OrderController - Some exception happened trying to get ACTIVE orders for profileType customer with ID 1
2024-11-19 23:52:45 INFO  s.e.n.i.o.controller.OrderController - Retrieving all active orders for delivery and in READY state
2024-11-19 23:52:45 INFO  s.e.n.i.o.controller.OrderController - Active orders found marked for delivery and in READY state. Orders count : 1
2024-11-19 23:52:45 INFO  s.e.n.i.o.controller.OrderController - Updating order status by orderId order1
2024-11-19 23:52:45 INFO  s.e.n.i.o.controller.OrderController - Optional request body null
2024-11-19 23:52:45 INFO  s.e.n.i.o.controller.OrderController - Order status updated for orderId order1 for status READY
2024-11-19 23:52:45 INFO  s.e.n.i.o.controller.OrderController - V2 :: Creating order from cart for customer with ID 1, if delivery is needed or not true and if reward points are needed or not true
2024-11-19 23:52:45 INFO  s.e.n.i.o.controller.OrderController - V2 :: Order created from cart for customer with ID 1 with response {}
2024-11-19 23:52:45 INFO  s.e.n.i.o.controller.OrderController - Retrieving ACTIVE orders for profileType customer with ID 1
2024-11-19 23:52:45 INFO  s.e.n.i.o.controller.OrderController - ACTIVE orders for profileType customer with ID 1 found. Orders count : 1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Product details found for productIds: cce42823-948a-4bd0-ab5f-8a63062efa0b
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Updating customer reward points for orderId: b5614aaf-7080-4158-8ff9-f2f0afb1be55 and customerId : customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Customer customer1 reward points updated successfully for orderId: b5614aaf-7080-4158-8ff9-f2f0afb1be55 with order amount 0
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Order to be created : Order(orderId=b5614aaf-7080-4158-8ff9-f2f0afb1be55, customerId=customer1, merchantId=cce42823-948a-4bd0-ab5f-8a63062efa0b, deliveryPartnerId=null, orderItems=[Item(productId=cce42823-948a-4bd0-ab5f-8a63062efa0b, quantity=10, price=1E+1)], totalPrice=95.0, status=CREATED, createdDate=1732040565193, updatedDate=1732040565193, createdBy=customer, updatedBy=customer, useRewards=true, useDelivery=true, rewardsAmountUsed=5.0, customerRewardsPointsUsed=500.0)
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Order created successfully for customer: customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Starting generateProductUpdateReqObts, products: [Product(productId=cce42823-948a-4bd0-ab5f-8a63062efa0b, productName=null, category=Category(categoryId=cce42823-948a-4bd0-ab5f-8a63062efa0b, categoryName=cat1, categoryDescription=cat1 desc), imageUrl=null, productDescription=null, originalPrice=null, listingPrice=1E+1, availableStock=10, merchantId=cce42823-948a-4bd0-ab5f-8a63062efa0b, pincode=null)], cartItems: [Item(productId=cce42823-948a-4bd0-ab5f-8a63062efa0b, quantity=10, price=1E+1)]
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Updating stock for productId: cce42823-948a-4bd0-ab5f-8a63062efa0b
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Product stock updated successfully for productId: cce42823-948a-4bd0-ab5f-8a63062efa0b
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_PICKED_UP
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 29265f0c-cae1-4351-ba5a-a71a3b37c1f7 and deliveryPartnerId 29265f0c-cae1-4351-ba5a-a71a3b37c1f7 with status DELIVERY_PICKED_UP
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Delivery status updated successfully for orderId: 29265f0c-cae1-4351-ba5a-a71a3b37c1f7 with deliveryPartnerId null for status DELIVERY_PICKED_UP
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Delivery record successfully updated in delivery service for orderId: order1 and deliveryPartnerId: 29265f0c-cae1-4351-ba5a-a71a3b37c1f7, updating data in order colls.
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for order: order1 using query : {"orderId":"order1"}
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Successfully update delivery status for order: order1 and kept status : DELIVERY_PICKED_UP
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : COMPLETED
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 0ad50535-a703-47a5-ba08-08d9081aac69 and deliveryPartnerId 0ad50535-a703-47a5-ba08-08d9081aac69 with status COMPLETED
2024-11-19 23:52:45 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: 0ad50535-a703-47a5-ba08-08d9081aac69 for status COMPLETED
2024-11-19 23:52:45 ERROR s.e.n.i.o.service.OrderService - Failed to complete delivery for orderId: order1 for deliveryPartnerId: 0ad50535-a703-47a5-ba08-08d9081aac69
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_ACCEPTED
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : c2457cf7-63ef-42ff-bede-5a6217f707f0 and deliveryPartnerId c2457cf7-63ef-42ff-bede-5a6217f707f0 with status DELIVERY_ACCEPTED
2024-11-19 23:52:45 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: c2457cf7-63ef-42ff-bede-5a6217f707f0 for status DELIVERY_ACCEPTED
2024-11-19 23:52:45 ERROR s.e.n.i.o.service.OrderService - Failed to start delivery for orderId: order1 for deliveryPartnerId: c2457cf7-63ef-42ff-bede-5a6217f707f0
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Fetching order by orderId: order1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Found orders for provided orderId: order1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Deleting order for orderId: order1
2024-11-19 23:52:45 ERROR s.e.n.i.o.service.OrderService - Failed to delete order for orderId: order1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Fetching all active orders available for delivery, having status READY and opted for delivery
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Query to fetch active orders for delivery : Document{{status=READY, useDelivery=true}} from orders coll
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - No active orders found for delivery having status READY and opted for delivery
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Fetching orders for profileType: merchant with ID: merchant1 and listType: CANCELLED
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Selected order strategy: CANCELLED
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Formatted ID for profileType merchant: merchantId
2024-11-19 23:52:45 ERROR s.e.n.i.o.service.OrderService - An error occurred while retrieving orders for profileType merchant and ID merchant1: Cannot invoke "sg.edu.nus.iss.order_service.strategy.order.OrderTypeStrategy.getOrders(String, String)" because "orderTypeStrategy" is null
java.lang.NullPointerException: Cannot invoke "sg.edu.nus.iss.order_service.strategy.order.OrderTypeStrategy.getOrders(String, String)" because "orderTypeStrategy" is null
	at sg.edu.nus.iss.order_service.service.OrderService.getOrdersListByProfileId(OrderService.java:325)
	at sg.edu.nus.iss.order_service.service.OrderServiceTest.testGetOrdersListByProfileId_Cancelled_Failure(OrderServiceTest.java:231)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Fetching order by orderId: order1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - No orders found for orderId: order1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Fetching orders for profileType: merchant with ID: merchant1 and listType: ACTIVE
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Selected order strategy: ACTIVE
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Formatted ID for profileType merchant: merchantId
2024-11-19 23:52:45 ERROR s.e.n.i.o.service.OrderService - An error occurred while retrieving orders for profileType merchant and ID merchant1: Cannot invoke "sg.edu.nus.iss.order_service.strategy.order.OrderTypeStrategy.getOrders(String, String)" because "orderTypeStrategy" is null
java.lang.NullPointerException: Cannot invoke "sg.edu.nus.iss.order_service.strategy.order.OrderTypeStrategy.getOrders(String, String)" because "orderTypeStrategy" is null
	at sg.edu.nus.iss.order_service.service.OrderService.getOrdersListByProfileId(OrderService.java:325)
	at sg.edu.nus.iss.order_service.service.OrderServiceTest.testGetOrdersListByProfileId_Active_Failure(OrderServiceTest.java:251)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_ACCEPTED
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 092d22c4-7831-4a6d-86fd-70ab12b6065b and deliveryPartnerId 092d22c4-7831-4a6d-86fd-70ab12b6065b with status DELIVERY_ACCEPTED
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Delivery status updated successfully for orderId: 092d22c4-7831-4a6d-86fd-70ab12b6065b with deliveryPartnerId null for status DELIVERY_ACCEPTED
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Delivery record successfully created in delivery service for orderId: order1 and deliveryPartnerId: 092d22c4-7831-4a6d-86fd-70ab12b6065b, updating data in order colls.
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Starting delivery for order: order1 using query : {"orderId":"order1"}
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Started delivery flow successfully for order: order1 and kept status : DELIVERY_ACCEPTED
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : DELIVERY_PICKED_UP
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 6c50e5a3-a2e8-4899-94ff-8ecc747631c1 and deliveryPartnerId 6c50e5a3-a2e8-4899-94ff-8ecc747631c1 with status DELIVERY_PICKED_UP
2024-11-19 23:52:45 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: 6c50e5a3-a2e8-4899-94ff-8ecc747631c1 for status DELIVERY_PICKED_UP
2024-11-19 23:52:45 ERROR s.e.n.i.o.service.OrderService - Failed to update delivery status for orderId: order1 for deliveryPartnerId: 6c50e5a3-a2e8-4899-94ff-8ecc747631c1 in delivery service
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : CANCELLED
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Updating customer reward points for orderId: order1 and customerId : 7e3d52d0-cad3-47b2-af3c-c25b5478118e
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Customer 7e3d52d0-cad3-47b2-af3c-c25b5478118e reward points updated successfully for orderId: order1 with order amount 500.0
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Order has been cancelled successfully for orderId: order1 and kept in cancelled coll
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-19 23:52:45 ERROR s.e.n.i.o.service.OrderService - No items found in cart for customer: customer1, so no order to be created
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Fetching orders for profileType: merchant with ID: merchant1 and listType: COMPLETED
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Selected order strategy: COMPLETED
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Formatted ID for profileType merchant: merchantId
2024-11-19 23:52:45 ERROR s.e.n.i.o.service.OrderService - An error occurred while retrieving orders for profileType merchant and ID merchant1: Cannot invoke "sg.edu.nus.iss.order_service.strategy.order.OrderTypeStrategy.getOrders(String, String)" because "orderTypeStrategy" is null
java.lang.NullPointerException: Cannot invoke "sg.edu.nus.iss.order_service.strategy.order.OrderTypeStrategy.getOrders(String, String)" because "orderTypeStrategy" is null
	at sg.edu.nus.iss.order_service.service.OrderService.getOrdersListByProfileId(OrderService.java:325)
	at sg.edu.nus.iss.order_service.service.OrderServiceTest.testGetOrdersListByProfileId_Completed_Failure(OrderServiceTest.java:211)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : READY
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 using query : {"orderId":"order1"}
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Order status updated successfully for orderId: order1 to status : READY
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Product details found for productIds: f0a85bf8-f272-45cb-8da3-f2af30ec2dc0
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Order to be created : Order(orderId=63b860b1-6131-4c0b-9a13-fed35b8c2f4d, customerId=customer1, merchantId=f0a85bf8-f272-45cb-8da3-f2af30ec2dc0, deliveryPartnerId=null, orderItems=[Item(productId=f0a85bf8-f272-45cb-8da3-f2af30ec2dc0, quantity=10, price=1E+1)], totalPrice=100, status=CREATED, createdDate=1732040565433, updatedDate=1732040565433, createdBy=customer, updatedBy=customer, useRewards=false, useDelivery=true, rewardsAmountUsed=0, customerRewardsPointsUsed=0)
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Order created successfully for customer: customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Starting generateProductUpdateReqObts, products: [Product(productId=f0a85bf8-f272-45cb-8da3-f2af30ec2dc0, productName=null, category=Category(categoryId=f0a85bf8-f272-45cb-8da3-f2af30ec2dc0, categoryName=cat1, categoryDescription=cat1 desc), imageUrl=null, productDescription=null, originalPrice=null, listingPrice=1E+1, availableStock=10, merchantId=f0a85bf8-f272-45cb-8da3-f2af30ec2dc0, pincode=null)], cartItems: [Item(productId=f0a85bf8-f272-45cb-8da3-f2af30ec2dc0, quantity=10, price=1E+1)]
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Updating stock for productId: f0a85bf8-f272-45cb-8da3-f2af30ec2dc0
2024-11-19 23:52:45 ERROR s.e.n.i.o.service.OrderService - Failed to update product stock for productId: f0a85bf8-f272-45cb-8da3-f2af30ec2dc0
2024-11-19 23:52:45 ERROR s.e.n.i.o.service.OrderService - Failed to update stock for 1 products out of 1, so deleting previously created order
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Deleting order for orderId: 63b860b1-6131-4c0b-9a13-fed35b8c2f4d
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Order deleted successfully for orderId: 63b860b1-6131-4c0b-9a13-fed35b8c2f4d
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Creating order for customer: customer1
2024-11-19 23:52:45 ERROR s.e.n.i.o.service.OrderService - Failed to get product details for productIds: ebdd2842-756e-44a0-a673-69a7770a0426
2024-11-19 23:52:45 ERROR s.e.n.i.o.service.OrderService - Failed to get product details or found non matching products for items in cart for customer: customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : COMPLETED
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Updating delivery status for orderId : 08334989-05e9-4d96-8490-4ba242d47665 and deliveryPartnerId 08334989-05e9-4d96-8490-4ba242d47665 with status COMPLETED
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Delivery status updated successfully for orderId: 08334989-05e9-4d96-8490-4ba242d47665 with deliveryPartnerId null for status COMPLETED
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Delivery completed successfully in delivery service for orderId: order1 and deliveryPartnerId: 08334989-05e9-4d96-8490-4ba242d47665, updating data in order colls.
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Updating merchant earnings for orderId : order1 and merchantId 08334989-05e9-4d96-8490-4ba242d47665
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Merchant 08334989-05e9-4d96-8490-4ba242d47665 earnings updated successfully for orderId: order1 with order amount 100.0
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Updating customer reward points for orderId: order1 and customerId : 08334989-05e9-4d96-8490-4ba242d47665
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Customer 08334989-05e9-4d96-8490-4ba242d47665 reward points updated successfully for orderId: order1 with order amount 100.0
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Order has been completed successfully for orderId: order1 and kept in completed coll
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Fetching orders for profileType: newType with ID: new1 and listType: all
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Selected order strategy: ALL
2024-11-19 23:52:45 ERROR s.e.n.i.o.service.OrderService - Invalid profile type: newType
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Fetching orders for profileType: merchant with ID: merchant1 and listType: all
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Selected order strategy: ALL
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Formatted ID for profileType merchant: merchantId
2024-11-19 23:52:45 ERROR s.e.n.i.o.service.OrderService - An error occurred while retrieving orders for profileType merchant and ID merchant1: Cannot invoke "sg.edu.nus.iss.order_service.strategy.order.OrderTypeStrategy.getOrders(String, String)" because "orderTypeStrategy" is null
java.lang.NullPointerException: Cannot invoke "sg.edu.nus.iss.order_service.strategy.order.OrderTypeStrategy.getOrders(String, String)" because "orderTypeStrategy" is null
	at sg.edu.nus.iss.order_service.service.OrderService.getOrdersListByProfileId(OrderService.java:325)
	at sg.edu.nus.iss.order_service.service.OrderServiceTest.testGetOrdersListByProfileId_All_Failure(OrderServiceTest.java:275)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : READY
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 using query : {"orderId":"order1"}
2024-11-19 23:52:45 ERROR s.e.n.i.o.service.OrderService - Failed to update order status for orderId: order1 to status : READY
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : READY
2024-11-19 23:52:45 ERROR s.e.n.i.o.service.OrderService - No order found for orderId: order1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Deleting order for orderId: order1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Order deleted successfully for orderId: order1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Fetching all active orders available for delivery, having status READY and opted for delivery
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Query to fetch active orders for delivery : Document{{status=READY, useDelivery=true}} from orders coll
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Found active orders for delivery having status READY and opted for delivery, count 1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.OrderService - Updating order status for orderId: order1 to status : INVALID
2024-11-19 23:52:45 ERROR s.e.n.i.o.service.OrderService - Invalid status provided for orderId: order1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. Creating new cart.
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Create cart for customer with ID customer1, merchant id merchant1 and products : [Item(productId=item1, quantity=10, price=null)]
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Creating cart for customer with ID customer1, merchant id merchant1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Cart created successfully for customer with ID customer1 for add item
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Cart is empty after removing last item for customer with ID customer1. So deleting the cart.
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1 with query : Document{{customerId=customer1}}
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Cart deleted/emptied successfully for customer with ID customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Finding cart for customer with ID customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Adding item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Updating cart for customer with ID customer1, with update document : {"$set":{"cartItems":[{"productId":"item1","quantity":20}],"updatedAt":1732040565513}}
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Cart updated successfully for customer with ID customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. Creating new cart.
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Create cart for customer with ID customer1, merchant id merchant1 and products : [Item(productId=item1, quantity=10, price=null)]
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Creating cart for customer with ID customer1, merchant id merchant1
2024-11-19 23:52:45 ERROR s.e.n.i.o.service.CartService - Failed to create cart for customer with ID customer1 for add item
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Cart is empty after removing last item for customer with ID customer1. So deleting the cart.
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1 with query : Document{{customerId=customer1}}
2024-11-19 23:52:45 ERROR s.e.n.i.o.service.CartService - Failed to delete/empty cart for customer with ID customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Finding cart for customer with ID customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Cart not found for customerID customer1.
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Adding item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. Creating new cart.
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Create cart for customer with ID customer1, merchant id merchant1 and products : [Item(productId=item1, quantity=10, price=null)]
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Creating cart for customer with ID customer1, merchant id merchant1
2024-11-19 23:52:45 ERROR s.e.n.i.o.service.CartService - Failed to create cart for customer with ID customer1 for add item
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=5, price=null) to cart for customer with ID customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=5, price=null) to cart.
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Updating cart for customer with ID customer1, with update document : {"$set":{"cartItems":[{"productId":"item1","quantity":5}],"updatedAt":1732040565542}} to remove it
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Cart updated successfully for removing item for customer with ID customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found.
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 not found. So no action required.
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item3, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item3, quantity=10, price=null) to cart.
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Item Item(productId=item3, quantity=10, price=null) not found in cart for customer with ID customer1. So no action required.
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=5, price=null) to cart for customer with ID customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=5, price=null) to cart.
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Updating cart for customer with ID customer1, with update document : {"$set":{"cartItems":[{"productId":"item1","quantity":5}],"updatedAt":1732040565556}} to remove it
2024-11-19 23:52:45 ERROR s.e.n.i.o.service.CartService - Failed to update cart for removing item for customer with ID customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Removing item Item(productId=item1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Getting cart for customer with ID customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Found cart for customer with ID customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Cart for customer with ID customer1 found. Starting to remove item Item(productId=item1, quantity=10, price=null) to cart.
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Cart is empty after removing last item for customer with ID customer1. So deleting the cart.
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Deleting/Emptying cart for customer with ID customer1 with query : Document{{customerId=customer1}}
2024-11-19 23:52:45 INFO  s.e.n.i.o.service.CartService - Cart deleted/emptied successfully for customer with ID customer1
2024-11-19 23:52:45 INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [sg.edu.nus.iss.order_service.HomeControllerTest]: HomeControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-11-19 23:52:45 INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration sg.edu.nus.iss.order_service.OrderServiceApplication for test class sg.edu.nus.iss.order_service.HomeControllerTest
2024-11-19 23:52:45 INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2024-11-19 23:52:46 INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-11-19 23:52:46 INFO  s.e.n.i.o.HomeControllerTest - Starting HomeControllerTest using Java 21.0.3 with PID 25718 (started by rituthori in /Users/rituthori/projects/order-service)
2024-11-19 23:52:46 INFO  s.e.n.i.o.HomeControllerTest - No active profile set, falling back to 1 default profile: "default"
2024-11-19 23:52:46 INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2024-11-19 23:52:46 INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2024-11-19 23:52:46 INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2024-11-19 23:52:46 INFO  s.e.n.i.o.HomeControllerTest - Started HomeControllerTest in 0.999 seconds (process running for 4.301)
2024-11-19 23:52:46 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management"}
2024-11-19 23:52:46 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management Home"}
2024-11-19 23:52:46 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management Home"}
2024-11-19 23:52:46 INFO  s.e.n.i.order_service.HomeController - {"message": "Welcome to Shopsmart Order Management"}
2024-11-19 23:52:46 INFO  s.e.n.i.o.controller.CartController - Retrieving cart for customer with ID 1
2024-11-19 23:52:46 INFO  s.e.n.i.o.controller.CartController - Cart for customer with ID 1 found. Cart: {"customerId":"1","cartItems":[{"productId":"1","quantity":10}],"createdAt":0,"updatedAt":0}
2024-11-19 23:52:46 INFO  s.e.n.i.o.controller.CartController - Adding item Item(productId=1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 23:52:46 INFO  s.e.n.i.o.controller.CartController - Item added to cart for customer with ID customer1
2024-11-19 23:52:46 INFO  s.e.n.i.o.controller.CartController - Retrieving cart for customer with ID 1
2024-11-19 23:52:46 ERROR s.e.n.i.o.controller.CartController - Cart for customer with ID 1 not found
2024-11-19 23:52:46 INFO  s.e.n.i.o.controller.CartController - Adding item Item(productId=1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 23:52:46 ERROR s.e.n.i.o.controller.CartController - Failed to add item to cart for customer with ID customer1
2024-11-19 23:52:46 INFO  s.e.n.i.o.controller.CartController - Deleting or emptying cart for customer with ID customer1
2024-11-19 23:52:46 INFO  s.e.n.i.o.controller.CartController - Cart deleted/emptied for customer with ID customer1
2024-11-19 23:52:46 INFO  s.e.n.i.o.controller.CartController - Removing item Item(productId=1, quantity=10, price=null) from cart for customer with ID customer1
2024-11-19 23:52:46 INFO  s.e.n.i.o.controller.CartController - Item removed from cart for customer with ID customer1
2024-11-19 23:52:46 INFO  s.e.n.i.o.controller.CartController - Deleting or emptying cart for customer with ID customer1
2024-11-19 23:52:46 INFO  s.e.n.i.o.controller.CartController - Some error occurred while trying to delete or empty cart for customer with ID customer1
2024-11-19 23:52:46 INFO  s.e.n.i.o.controller.CartController - Retrieving cart for customer with ID 1
2024-11-19 23:52:46 ERROR s.e.n.i.o.controller.CartController - Some exception happened to get cart for customer with ID 1
2024-11-19 23:52:46 INFO  s.e.n.i.o.controller.CartController - Removing item Item(productId=1, quantity=10, price=null) from cart for customer with ID customer1
2024-11-19 23:52:46 INFO  s.e.n.i.o.controller.CartController - Some error occurred while trying to remove item from cart for customer with ID customer1
2024-11-19 23:52:46 INFO  s.e.n.i.o.controller.CartController - Adding item Item(productId=1, quantity=10, price=null) to cart for customer with ID customer1
2024-11-19 23:52:46 INFO  s.e.n.i.o.controller.CartController - Some error occurred while trying to add item added to cart for customer with ID customer1
2024-11-19 23:52:46 INFO  s.e.n.i.o.controller.CartController - Deleting or emptying cart for customer with ID customer1
2024-11-19 23:52:46 ERROR s.e.n.i.o.controller.CartController - Failed to delete cart for customer with ID customer1
2024-11-19 23:52:46 INFO  s.e.n.i.o.controller.CartController - Removing item Item(productId=1, quantity=10, price=null) from cart for customer with ID customer1
2024-11-19 23:52:46 ERROR s.e.n.i.o.controller.CartController - Failed to remove item from cart for customer with ID customer1
